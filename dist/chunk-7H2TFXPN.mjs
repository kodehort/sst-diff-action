import{a as mt,b as A,c as O,d as qo,e as Fi,f as ic}from"./chunk-7S7IXY6P.mjs";var Ee,Kl=A(()=>{Ee=e=>{if(typeof e=="function")return e;let r=Promise.resolve(e);return()=>r}});var sn=A(()=>{Kl()});function Zl(e){let r={};if(e=e.replace(/^\?/,""),e)for(let t of e.split("&")){let[n,s=null]=t.split("=");n=decodeURIComponent(n),s&&(s=decodeURIComponent(s)),n in r?Array.isArray(r[n])?r[n].push(s):r[n]=[r[n],s]:r[n]=s}return r}var em=A(()=>{});import TC from"crypto";function Go(){return Bi>$i.length-16&&(TC.randomFillSync($i),Bi=0),$i.slice(Bi,Bi+=16)}var $i,Bi,hc=A(()=>{$i=new Uint8Array(256),Bi=$i.length});var hm,ym=A(()=>{hm=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function IC(e){return typeof e=="string"&&hm.test(e)}var nr,Wo=A(()=>{ym();nr=IC});function RC(e,r=0){let t=(Se[e[r+0]]+Se[e[r+1]]+Se[e[r+2]]+Se[e[r+3]]+"-"+Se[e[r+4]]+Se[e[r+5]]+"-"+Se[e[r+6]]+Se[e[r+7]]+"-"+Se[e[r+8]]+Se[e[r+9]]+"-"+Se[e[r+10]]+Se[e[r+11]]+Se[e[r+12]]+Se[e[r+13]]+Se[e[r+14]]+Se[e[r+15]]).toLowerCase();if(!nr(t))throw TypeError("Stringified UUID is invalid");return t}var Se,sr,Ko=A(()=>{Wo();Se=[];for(let e=0;e<256;++e)Se.push((e+256).toString(16).substr(1));sr=RC});function kC(e,r,t){let n=r&&t||0,s=r||new Array(16);e=e||{};let o=e.node||Em,i=e.clockseq!==void 0?e.clockseq:yc;if(o==null||i==null){let f=e.random||(e.rng||Go)();o==null&&(o=Em=[f[0]|1,f[1],f[2],f[3],f[4],f[5]]),i==null&&(i=yc=(f[6]<<8|f[7])&16383)}let a=e.msecs!==void 0?e.msecs:Date.now(),d=e.nsecs!==void 0?e.nsecs:Sc+1,l=a-Ec+(d-Sc)/1e4;if(l<0&&e.clockseq===void 0&&(i=i+1&16383),(l<0||a>Ec)&&e.nsecs===void 0&&(d=0),d>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Ec=a,Sc=d,yc=i,a+=122192928e5;let c=((a&268435455)*1e4+d)%4294967296;s[n++]=c>>>24&255,s[n++]=c>>>16&255,s[n++]=c>>>8&255,s[n++]=c&255;let u=a/4294967296*1e4&268435455;s[n++]=u>>>8&255,s[n++]=u&255,s[n++]=u>>>24&15|16,s[n++]=u>>>16&255,s[n++]=i>>>8|128,s[n++]=i&255;for(let f=0;f<6;++f)s[n+f]=o[f];return r||sr(s)}var Em,yc,Ec,Sc,Sm,gm=A(()=>{hc();Ko();Ec=0,Sc=0;Sm=kC});function PC(e){if(!nr(e))throw TypeError("Invalid UUID");let r,t=new Uint8Array(16);return t[0]=(r=parseInt(e.slice(0,8),16))>>>24,t[1]=r>>>16&255,t[2]=r>>>8&255,t[3]=r&255,t[4]=(r=parseInt(e.slice(9,13),16))>>>8,t[5]=r&255,t[6]=(r=parseInt(e.slice(14,18),16))>>>8,t[7]=r&255,t[8]=(r=parseInt(e.slice(19,23),16))>>>8,t[9]=r&255,t[10]=(r=parseInt(e.slice(24,36),16))/1099511627776&255,t[11]=r/4294967296&255,t[12]=r>>>24&255,t[13]=r>>>16&255,t[14]=r>>>8&255,t[15]=r&255,t}var zi,gc=A(()=>{Wo();zi=PC});function AC(e){e=unescape(encodeURIComponent(e));let r=[];for(let t=0;t<e.length;++t)r.push(e.charCodeAt(t));return r}function qi(e,r,t){function n(s,o,i,a){if(typeof s=="string"&&(s=AC(s)),typeof o=="string"&&(o=zi(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let d=new Uint8Array(16+s.length);if(d.set(o),d.set(s,o.length),d=t(d),d[6]=d[6]&15|r,d[8]=d[8]&63|128,i){a=a||0;for(let l=0;l<16;++l)i[a+l]=d[l];return i}return sr(d)}try{n.name=e}catch{}return n.DNS=NC,n.URL=DC,n}var NC,DC,_c=A(()=>{Ko();gc();NC="6ba7b810-9dad-11d1-80b4-00c04fd430c8",DC="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});import vC from"crypto";function OC(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),vC.createHash("md5").update(e).digest()}var _m,Cm=A(()=>{_m=OC});var FC,xm,wm=A(()=>{_c();Cm();FC=qi("v3",48,_m),xm=FC});function LC(e,r,t){e=e||{};let n=e.random||(e.rng||Go)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,r){t=t||0;for(let s=0;s<16;++s)r[t+s]=n[s];return r}return sr(n)}var Ae,bm=A(()=>{hc();Ko();Ae=LC});import MC from"crypto";function UC(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),MC.createHash("sha1").update(e).digest()}var Tm,Im=A(()=>{Tm=UC});var BC,Rm,km=A(()=>{_c();Im();BC=qi("v5",80,Tm),Rm=BC});var Pm,Am=A(()=>{Pm="00000000-0000-0000-0000-000000000000"});function $C(e){if(!nr(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}var Nm,Dm=A(()=>{Wo();Nm=$C});var zC={};qo(zC,{NIL:()=>Pm,parse:()=>zi,stringify:()=>sr,v1:()=>Sm,v3:()=>xm,v4:()=>Ae,v5:()=>Rm,validate:()=>nr,version:()=>Nm});var ji=A(()=>{gm();wm();bm();km();Am();Dm();Wo();Ko();gc()});var Tc={};qo(Tc,{__assign:()=>wc,__asyncDelegator:()=>mx,__asyncGenerator:()=>lx,__asyncValues:()=>ux,__await:()=>Yo,__awaiter:()=>sx,__classPrivateFieldGet:()=>yx,__classPrivateFieldSet:()=>Ex,__createBinding:()=>ix,__decorate:()=>tx,__exportStar:()=>ax,__extends:()=>ZC,__generator:()=>ox,__importDefault:()=>hx,__importStar:()=>px,__makeTemplateObject:()=>fx,__metadata:()=>nx,__param:()=>rx,__read:()=>Bm,__rest:()=>ex,__spread:()=>cx,__spreadArrays:()=>dx,__values:()=>bc});function ZC(e,r){xc(e,r);function t(){this.constructor=e}e.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}function ex(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)r.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(t[n[s]]=e[n[s]]);return t}function tx(e,r,t,n){var s=arguments.length,o=s<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,t):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,r,t,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(r,t,o):i(r,t))||o);return s>3&&o&&Object.defineProperty(r,t,o),o}function rx(e,r){return function(t,n){r(t,n,e)}}function nx(e,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,r)}function sx(e,r,t,n){function s(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function a(c){try{l(n.next(c))}catch(u){i(u)}}function d(c){try{l(n.throw(c))}catch(u){i(u)}}function l(c){c.done?o(c.value):s(c.value).then(a,d)}l((n=n.apply(e,r||[])).next())})}function ox(e,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(l){return function(c){return d([l,c])}}function d(l){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,s&&(o=l[0]&2?s.return:l[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,l[1])).done)return o;switch(s=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,s=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){t.label=l[1];break}if(l[0]===6&&t.label<o[1]){t.label=o[1],o=l;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(l);break}o[2]&&t.ops.pop(),t.trys.pop();continue}l=r.call(e,t)}catch(c){l=[6,c],s=0}finally{n=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function ix(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]}function ax(e,r){for(var t in e)t!=="default"&&!r.hasOwnProperty(t)&&(r[t]=e[t])}function bc(e){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function Bm(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),s,o=[],i;try{for(;(r===void 0||r-- >0)&&!(s=n.next()).done;)o.push(s.value)}catch(a){i={error:a}}finally{try{s&&!s.done&&(t=n.return)&&t.call(n)}finally{if(i)throw i.error}}return o}function cx(){for(var e=[],r=0;r<arguments.length;r++)e=e.concat(Bm(arguments[r]));return e}function dx(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),s=0,r=0;r<t;r++)for(var o=arguments[r],i=0,a=o.length;i<a;i++,s++)n[s]=o[i];return n}function Yo(e){return this instanceof Yo?(this.v=e,this):new Yo(e)}function lx(e,r,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(e,r||[]),s,o=[];return s={},i("next"),i("throw"),i("return"),s[Symbol.asyncIterator]=function(){return this},s;function i(f){n[f]&&(s[f]=function(E){return new Promise(function(S,C){o.push([f,E,S,C])>1||a(f,E)})})}function a(f,E){try{d(n[f](E))}catch(S){u(o[0][3],S)}}function d(f){f.value instanceof Yo?Promise.resolve(f.value.v).then(l,c):u(o[0][2],f)}function l(f){a("next",f)}function c(f){a("throw",f)}function u(f,E){f(E),o.shift(),o.length&&a(o[0][0],o[0][1])}}function mx(e){var r,t;return r={},n("next"),n("throw",function(s){throw s}),n("return"),r[Symbol.iterator]=function(){return this},r;function n(s,o){r[s]=e[s]?function(i){return(t=!t)?{value:Yo(e[s](i)),done:s==="return"}:o?o(i):i}:o}}function ux(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e[Symbol.asyncIterator],t;return r?r.call(e):(e=typeof bc=="function"?bc(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(o){t[o]=e[o]&&function(i){return new Promise(function(a,d){i=e[o](i),s(a,d,i.done,i.value)})}}function s(o,i,a,d){Promise.resolve(d).then(function(l){o({value:l,done:a})},i)}}function fx(e,r){return Object.defineProperty?Object.defineProperty(e,"raw",{value:r}):e.raw=r,e}function px(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var t in e)Object.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}function hx(e){return e&&e.__esModule?e:{default:e}}function yx(e,r){if(!r.has(e))throw new TypeError("attempted to get private field on non-instance");return r.get(e)}function Ex(e,r,t){if(!r.has(e))throw new TypeError("attempted to set private field on non-instance");return r.set(e,t),t}var xc,wc,Ic=A(()=>{xc=function(e,r){return xc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var s in n)n.hasOwnProperty(s)&&(t[s]=n[s])},xc(e,r)};wc=function(){return wc=Object.assign||function(r){for(var t,n=1,s=arguments.length;n<s;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o])}return r},wc.apply(this,arguments)}});var $m,zm,qm=A(()=>{$m=e=>{let r=[];for(let t=0,n=e.length;t<n;t++){let s=e.charCodeAt(t);if(s<128)r.push(s);else if(s<2048)r.push(s>>6|192,s&63|128);else if(t+1<e.length&&(s&64512)===55296&&(e.charCodeAt(t+1)&64512)===56320){let o=65536+((s&1023)<<10)+(e.charCodeAt(++t)&1023);r.push(o>>18|240,o>>12&63|128,o>>6&63|128,o&63|128)}else r.push(s>>12|224,s>>6&63|128,s&63|128)}return Uint8Array.from(r)},zm=e=>{let r="";for(let t=0,n=e.length;t<n;t++){let s=e[t];if(s<128)r+=String.fromCharCode(s);else if(192<=s&&s<224){let o=e[++t];r+=String.fromCharCode((s&31)<<6|o&63)}else if(240<=s&&s<365){let i="%"+[s,e[++t],e[++t],e[++t]].map(a=>a.toString(16)).join("%");r+=decodeURIComponent(i)}else r+=String.fromCharCode((s&15)<<12|(e[++t]&63)<<6|e[++t]&63)}return r}});function jm(e){return new TextEncoder().encode(e)}function Vm(e){return new TextDecoder("utf-8").decode(e)}var Hm=A(()=>{});var Gm={};qo(Gm,{fromUtf8:()=>Sx,toUtf8:()=>gx});var Sx,gx,Wm=A(()=>{qm();Hm();Sx=e=>typeof TextEncoder=="function"?jm(e):$m(e),gx=e=>typeof TextDecoder=="function"?Vm(e):zm(e)});var Km=O(Gi=>{"use strict";Object.defineProperty(Gi,"__esModule",{value:!0});Gi.convertToBuffer=void 0;var _x=(Wm(),ic(Gm)),Cx=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:_x.fromUtf8;function xx(e){return e instanceof Uint8Array?e:typeof e=="string"?Cx(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}Gi.convertToBuffer=xx});var Ym=O(Wi=>{"use strict";Object.defineProperty(Wi,"__esModule",{value:!0});Wi.isEmptyData=void 0;function wx(e){return typeof e=="string"?e.length===0:e.byteLength===0}Wi.isEmptyData=wx});var Xm=O(Ki=>{"use strict";Object.defineProperty(Ki,"__esModule",{value:!0});Ki.numToUint8=void 0;function bx(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}Ki.numToUint8=bx});var Qm=O(Yi=>{"use strict";Object.defineProperty(Yi,"__esModule",{value:!0});Yi.uint32ArrayFrom=void 0;function Tx(e){if(!Uint32Array.from){for(var r=new Uint32Array(e.length),t=0;t<e.length;)r[t]=e[t],t+=1;return r}return Uint32Array.from(e)}Yi.uint32ArrayFrom=Tx});var Rc=O(pt=>{"use strict";Object.defineProperty(pt,"__esModule",{value:!0});pt.uint32ArrayFrom=pt.numToUint8=pt.isEmptyData=pt.convertToBuffer=void 0;var Ix=Km();Object.defineProperty(pt,"convertToBuffer",{enumerable:!0,get:function(){return Ix.convertToBuffer}});var Rx=Ym();Object.defineProperty(pt,"isEmptyData",{enumerable:!0,get:function(){return Rx.isEmptyData}});var kx=Xm();Object.defineProperty(pt,"numToUint8",{enumerable:!0,get:function(){return kx.numToUint8}});var Px=Qm();Object.defineProperty(pt,"uint32ArrayFrom",{enumerable:!0,get:function(){return Px.uint32ArrayFrom}})});var eu=O(Xi=>{"use strict";Object.defineProperty(Xi,"__esModule",{value:!0});Xi.AwsCrc32=void 0;var Jm=(Ic(),ic(Tc)),kc=Rc(),Zm=Qi(),Ax=function(){function e(){this.crc32=new Zm.Crc32}return e.prototype.update=function(r){(0,kc.isEmptyData)(r)||this.crc32.update((0,kc.convertToBuffer)(r))},e.prototype.digest=function(){return Jm.__awaiter(this,void 0,void 0,function(){return Jm.__generator(this,function(r){return[2,(0,kc.numToUint8)(this.crc32.digest())]})})},e.prototype.reset=function(){this.crc32=new Zm.Crc32},e}();Xi.AwsCrc32=Ax});var Qi=O(lr=>{"use strict";Object.defineProperty(lr,"__esModule",{value:!0});lr.AwsCrc32=lr.Crc32=lr.crc32=void 0;var Nx=(Ic(),ic(Tc)),Dx=Rc();function vx(e){return new tu().update(e).digest()}lr.crc32=vx;var tu=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(r){var t,n;try{for(var s=Nx.__values(r),o=s.next();!o.done;o=s.next()){var i=o.value;this.checksum=this.checksum>>>8^Fx[(this.checksum^i)&255]}}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e}();lr.Crc32=tu;var Ox=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],Fx=(0,Dx.uint32ArrayFrom)(Ox),Lx=eu();Object.defineProperty(lr,"AwsCrc32",{enumerable:!0,get:function(){return Lx.AwsCrc32}})});function nu(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let r=new Uint8Array(e.length/2);for(let t=0;t<e.length;t+=2){let n=e.slice(t,t+2).toLowerCase();if(n in Pc)r[t/2]=Pc[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return r}function ge(e){let r="";for(let t=0;t<e.byteLength;t++)r+=ru[e[t]];return r}var ru,Pc,bn=A(()=>{ru={},Pc={};for(let e=0;e<256;e++){let r=e.toString(16).toLowerCase();r.length===1&&(r=`0${r}`),ru[e]=r,Pc[r]=e}});function su(e){for(let r=0;r<8;r++)e[r]^=255;for(let r=7;r>-1&&(e[r]++,e[r]===0);r--);}var mr,Ac=A(()=>{bn();mr=class{constructor(r){if(this.bytes=r,r.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(r){if(r>9223372036854776e3||r<-9223372036854776e3)throw new Error(`${r} is too large (or, if negative, too small) to represent as an Int64`);let t=new Uint8Array(8);for(let n=7,s=Math.abs(Math.round(r));n>-1&&s>0;n--,s/=256)t[n]=s;return r<0&&su(t),new mr(t)}valueOf(){let r=this.bytes.slice(0),t=r[0]&128;return t&&su(r),parseInt(ge(r),16)*(t?-1:1)}toString(){return String(this.valueOf())}}});var Tn,ou,iu,Mx,Ux,Bx,$x,zx,qx,jx,Vx,Hx,Nc=A(()=>{bn();Ac();Tn=class{constructor(r,t){this.toUtf8=r,this.fromUtf8=t}format(r){let t=[];for(let o of Object.keys(r)){let i=this.fromUtf8(o);t.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(r[o]))}let n=new Uint8Array(t.reduce((o,i)=>o+i.byteLength,0)),s=0;for(let o of t)n.set(o,s),s+=o.byteLength;return n}formatHeaderValue(r){switch(r.type){case"boolean":return Uint8Array.from([r.value?0:1]);case"byte":return Uint8Array.from([2,r.value]);case"short":let t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,r.value,!1),new Uint8Array(t.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,r.value,!1),new Uint8Array(n.buffer);case"long":let s=new Uint8Array(9);return s[0]=5,s.set(r.value.bytes,1),s;case"binary":let o=new DataView(new ArrayBuffer(3+r.value.byteLength));o.setUint8(0,6),o.setUint16(1,r.value.byteLength,!1);let i=new Uint8Array(o.buffer);return i.set(r.value,3),i;case"string":let a=this.fromUtf8(r.value),d=new DataView(new ArrayBuffer(3+a.byteLength));d.setUint8(0,7),d.setUint16(1,a.byteLength,!1);let l=new Uint8Array(d.buffer);return l.set(a,3),l;case"timestamp":let c=new Uint8Array(9);return c[0]=8,c.set(mr.fromNumber(r.value.valueOf()).bytes,1),c;case"uuid":if(!Hx.test(r.value))throw new Error(`Invalid UUID received: ${r.value}`);let u=new Uint8Array(17);return u[0]=9,u.set(nu(r.value.replace(/\-/g,"")),1),u}}parse(r){let t={},n=0;for(;n<r.byteLength;){let s=r.getUint8(n++),o=this.toUtf8(new Uint8Array(r.buffer,r.byteOffset+n,s));switch(n+=s,r.getUint8(n++)){case 0:t[o]={type:iu,value:!0};break;case 1:t[o]={type:iu,value:!1};break;case 2:t[o]={type:Mx,value:r.getInt8(n++)};break;case 3:t[o]={type:Ux,value:r.getInt16(n,!1)},n+=2;break;case 4:t[o]={type:Bx,value:r.getInt32(n,!1)},n+=4;break;case 5:t[o]={type:$x,value:new mr(new Uint8Array(r.buffer,r.byteOffset+n,8))},n+=8;break;case 6:let i=r.getUint16(n,!1);n+=2,t[o]={type:zx,value:new Uint8Array(r.buffer,r.byteOffset+n,i)},n+=i;break;case 7:let a=r.getUint16(n,!1);n+=2,t[o]={type:qx,value:this.toUtf8(new Uint8Array(r.buffer,r.byteOffset+n,a))},n+=a;break;case 8:t[o]={type:jx,value:new Date(new mr(new Uint8Array(r.buffer,r.byteOffset+n,8)).valueOf())},n+=8;break;case 9:let d=new Uint8Array(r.buffer,r.byteOffset+n,16);n+=16,t[o]={type:Vx,value:`${ge(d.subarray(0,4))}-${ge(d.subarray(4,6))}-${ge(d.subarray(6,8))}-${ge(d.subarray(8,10))}-${ge(d.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return t}};(function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"})(ou||(ou={}));iu="boolean",Mx="byte",Ux="short",Bx="integer",$x="long",zx="binary",qx="string",jx="timestamp",Vx="uuid",Hx=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/});function du({byteLength:e,byteOffset:r,buffer:t}){if(e<Gx)throw new Error("Provided message too short to accommodate event stream message overhead");let n=new DataView(t,r,e),s=n.getUint32(0,!1);if(e!==s)throw new Error("Reported message length does not match received message length");let o=n.getUint32(cu,!1),i=n.getUint32(ur,!1),a=n.getUint32(e-cn,!1),d=new au.Crc32().update(new Uint8Array(t,r,ur));if(i!==d.digest())throw new Error(`The prelude checksum specified in the message (${i}) does not match the calculated CRC32 checksum (${d.digest()})`);if(d.update(new Uint8Array(t,r+ur,e-(ur+cn))),a!==d.digest())throw new Error(`The message checksum (${d.digest()}) did not match the expected value of ${a}`);return{headers:new DataView(t,r+ur+cn,o),body:new Uint8Array(t,r+ur+cn+o,s-o-(ur+cn+cn))}}var au,cu,ur,cn,Gx,lu=A(()=>{au=Fi(Qi()),cu=4,ur=cu*2,cn=4,Gx=ur+cn*2});var uu,mu,fu=A(()=>{uu=Fi(Qi());Nc();lu();mu=class{constructor(r,t){this.headerMarshaller=new Tn(r,t),this.messageBuffer=[],this.isEndOfStream=!1}feed(r){this.messageBuffer.push(this.decode(r))}endOfStream(){this.isEndOfStream=!0}getMessage(){let r=this.messageBuffer.pop(),t=this.isEndOfStream;return{getMessage(){return r},isEndOfStream(){return t}}}getAvailableMessages(){let r=this.messageBuffer;this.messageBuffer=[];let t=this.isEndOfStream;return{getMessages(){return r},isEndOfStream(){return t}}}encode({headers:r,body:t}){let n=this.headerMarshaller.format(r),s=n.byteLength+t.byteLength+16,o=new Uint8Array(s),i=new DataView(o.buffer,o.byteOffset,o.byteLength),a=new uu.Crc32;return i.setUint32(0,s,!1),i.setUint32(4,n.byteLength,!1),i.setUint32(8,a.update(o.subarray(0,8)).digest(),!1),o.set(n,12),o.set(t,n.byteLength+12),i.setUint32(s-4,a.update(o.subarray(8,s-4)).digest(),!1),o}decode(r){let{headers:t,body:n}=du(r);return{headers:this.headerMarshaller.parse(t),body:n}}formatHeaders(r){return this.headerMarshaller.format(r)}}});var pu=A(()=>{});var hu,yu=A(()=>{hu=class{constructor(r){this.options=r}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let r of this.options.inputStream)yield this.options.decoder.decode(r)}}});var Eu,Su=A(()=>{Eu=class{constructor(r){this.options=r}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let r of this.options.messageStream)yield this.options.encoder.encode(r);this.options.includeEndFrame&&(yield new Uint8Array(0))}}});var gu,_u=A(()=>{gu=class{constructor(r){this.options=r}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let r of this.options.messageStream){let t=await this.options.deserializer(r);t!==void 0&&(yield t)}}}});var Cu,xu=A(()=>{Cu=class{constructor(r){this.options=r}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let r of this.options.inputStream)yield this.options.serializer(r)}}});var wu=A(()=>{fu();Nc();Ac();pu();yu();Su();_u();xu()});var Ji,Dc=A(()=>{Ji=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]"});import{Buffer as vc}from"buffer";var dn,In,Rn=A(()=>{Dc();dn=(e,r=0,t=e.byteLength-r)=>{if(!Ji(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return vc.from(e,r,t)},In=(e,r)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return r?vc.from(e,r):vc.from(e)}});var je,Oc=A(()=>{Rn();je=e=>{let r=In(e,"utf8");return new Uint8Array(r.buffer,r.byteOffset,r.byteLength/Uint8Array.BYTES_PER_ELEMENT)}});var ht,bu=A(()=>{Oc();ht=e=>typeof e=="string"?je(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)});var yt,Tu=A(()=>{Rn();yt=e=>dn(e.buffer,e.byteOffset,e.byteLength).toString("utf8")});var vt=A(()=>{Oc();bu();Tu()});var Iu,Ru,Fc,ku,Pu,Lc,Mc,Uc,Bc,Wx,Au,Nu,Xo,Du,vu,Ou,Fu,Zi,Lu,Mu,Uu,$c,Bu,ln=A(()=>{Iu="X-Amz-Algorithm",Ru="X-Amz-Credential",Fc="X-Amz-Date",ku="X-Amz-SignedHeaders",Pu="X-Amz-Expires",Lc="X-Amz-Signature",Mc="X-Amz-Security-Token",Uc="authorization",Bc=Fc.toLowerCase(),Wx="date",Au=[Uc,Bc,Wx],Nu=Lc.toLowerCase(),Xo="x-amz-content-sha256",Du=Mc.toLowerCase(),vu={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},Ou=/^proxy-/,Fu=/^sec-/,Zi="AWS4-HMAC-SHA256",Lu="AWS4-HMAC-SHA256-PAYLOAD",Mu="UNSIGNED-PAYLOAD",Uu=50,$c="aws4_request",Bu=60*60*24*7});var ea,zc,ta,zu,$u,qc=A(()=>{bn();vt();ln();ea={},zc=[],ta=(e,r,t)=>`${e}/${r}/${t}/${$c}`,zu=async(e,r,t,n,s)=>{let o=await $u(e,r.secretAccessKey,r.accessKeyId),i=`${t}:${n}:${s}:${ge(o)}:${r.sessionToken}`;if(i in ea)return ea[i];for(zc.push(i);zc.length>Uu;)delete ea[zc.shift()];let a=`AWS4${r.secretAccessKey}`;for(let d of[t,n,s,$c])a=await $u(e,a,d);return ea[i]=a},$u=(e,r,t)=>{let n=new e(r);return n.update(ht(t)),n.digest()}});var ra,jc=A(()=>{ln();ra=({headers:e},r,t)=>{let n={};for(let s of Object.keys(e).sort()){if(e[s]==null)continue;let o=s.toLowerCase();(o in vu||r!=null&&r.has(o)||Ou.test(o)||Fu.test(o))&&(!t||t&&!t.has(o))||(n[o]=e[s].trim().replace(/\s+/g," "))}return n}});var Et,Kx,Vc=A(()=>{Et=e=>encodeURIComponent(e).replace(/[!'()*]/g,Kx),Kx=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`});var qu=A(()=>{Vc()});var Hc=A(()=>{Vc();qu()});var Gc,Wc=A(()=>{Hc();ln();Gc=({query:e={}})=>{let r=[],t={};for(let n of Object.keys(e).sort()){if(n.toLowerCase()===Nu)continue;r.push(n);let s=e[n];typeof s=="string"?t[n]=`${Et(n)}=${Et(s)}`:Array.isArray(s)&&(t[n]=s.slice(0).sort().reduce((o,i)=>o.concat([`${Et(n)}=${Et(i)}`]),[]).join("&"))}return r.map(n=>t[n]).filter(n=>n).join("&")}});var Qo,Kc=A(()=>{Dc();bn();vt();ln();Qo=async({headers:e,body:r},t)=>{for(let n of Object.keys(e))if(n.toLowerCase()===Xo)return e[n];if(r==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof r=="string"||ArrayBuffer.isView(r)||Ji(r)){let n=new t;return n.update(ht(r)),ge(await n.digest())}return Mu}});var ju,Vu=A(()=>{ju=(e,r)=>{e=e.toLowerCase();for(let t of Object.keys(r))if(e===t.toLowerCase())return!0;return!1}});var na,Yx,Yc=A(()=>{na=({headers:e,query:r,...t})=>({...t,headers:{...e},query:r?Yx(r):void 0}),Yx=e=>Object.keys(e).reduce((r,t)=>{let n=e[t];return{...r,[t]:Array.isArray(n)?[...n]:n}},{})});var Xc,Qc=A(()=>{Yc();Xc=(e,r={})=>{var s;let{headers:t,query:n={}}=typeof e.clone=="function"?e.clone():na(e);for(let o of Object.keys(t)){let i=o.toLowerCase();i.slice(0,6)==="x-amz-"&&!((s=r.unhoistableHeaders)!=null&&s.has(i))&&(n[o]=t[o],delete t[o])}return{...e,headers:t,query:n}}});var sa,Jc=A(()=>{Yc();ln();sa=e=>{e=typeof e.clone=="function"?e.clone():na(e);for(let r of Object.keys(e.headers))Au.indexOf(r.toLowerCase())>-1&&delete e.headers[r];return e}});var Hu,Xx,Gu=A(()=>{Hu=e=>Xx(e).toISOString().replace(/\.\d{3}Z$/,"Z"),Xx=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e});var Jo,oa,Wu,Ku=A(()=>{wu();bn();sn();vt();ln();qc();jc();Wc();Kc();Vu();Qc();Jc();Gu();Jo=class{constructor({applyChecksum:r,credentials:t,region:n,service:s,sha256:o,uriEscapePath:i=!0}){this.headerMarshaller=new Tn(yt,je),this.service=s,this.sha256=o,this.uriEscapePath=i,this.applyChecksum=typeof r=="boolean"?r:!0,this.regionProvider=Ee(n),this.credentialProvider=Ee(t)}async presign(r,t={}){let{signingDate:n=new Date,expiresIn:s=3600,unsignableHeaders:o,unhoistableHeaders:i,signableHeaders:a,signingRegion:d,signingService:l}=t,c=await this.credentialProvider();this.validateResolvedCredentials(c);let u=d??await this.regionProvider(),{longDate:f,shortDate:E}=oa(n);if(s>Bu)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let S=ta(E,u,l??this.service),C=Xc(sa(r),{unhoistableHeaders:i});c.sessionToken&&(C.query[Mc]=c.sessionToken),C.query[Iu]=Zi,C.query[Ru]=`${c.accessKeyId}/${S}`,C.query[Fc]=f,C.query[Pu]=s.toString(10);let N=ra(C,o,a);return C.query[ku]=Wu(N),C.query[Lc]=await this.getSignature(f,S,this.getSigningKey(c,u,E,l),this.createCanonicalRequest(C,N,await Qo(r,this.sha256))),C}async sign(r,t){return typeof r=="string"?this.signString(r,t):r.headers&&r.payload?this.signEvent(r,t):r.message?this.signMessage(r,t):this.signRequest(r,t)}async signEvent({headers:r,payload:t},{signingDate:n=new Date,priorSignature:s,signingRegion:o,signingService:i}){let a=o??await this.regionProvider(),{shortDate:d,longDate:l}=oa(n),c=ta(d,a,i??this.service),u=await Qo({headers:{},body:t},this.sha256),f=new this.sha256;f.update(r);let E=ge(await f.digest()),S=[Lu,l,c,s,E,u].join(`
`);return this.signString(S,{signingDate:n,signingRegion:a,signingService:i})}async signMessage(r,{signingDate:t=new Date,signingRegion:n,signingService:s}){return this.signEvent({headers:this.headerMarshaller.format(r.message.headers),payload:r.message.body},{signingDate:t,signingRegion:n,signingService:s,priorSignature:r.priorSignature}).then(i=>({message:r.message,signature:i}))}async signString(r,{signingDate:t=new Date,signingRegion:n,signingService:s}={}){let o=await this.credentialProvider();this.validateResolvedCredentials(o);let i=n??await this.regionProvider(),{shortDate:a}=oa(t),d=new this.sha256(await this.getSigningKey(o,i,a,s));return d.update(ht(r)),ge(await d.digest())}async signRequest(r,{signingDate:t=new Date,signableHeaders:n,unsignableHeaders:s,signingRegion:o,signingService:i}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let d=o??await this.regionProvider(),l=sa(r),{longDate:c,shortDate:u}=oa(t),f=ta(u,d,i??this.service);l.headers[Bc]=c,a.sessionToken&&(l.headers[Du]=a.sessionToken);let E=await Qo(l,this.sha256);!ju(Xo,l.headers)&&this.applyChecksum&&(l.headers[Xo]=E);let S=ra(l,s,n),C=await this.getSignature(c,f,this.getSigningKey(a,d,u,i),this.createCanonicalRequest(l,S,E));return l.headers[Uc]=`${Zi} Credential=${a.accessKeyId}/${f}, SignedHeaders=${Wu(S)}, Signature=${C}`,l}createCanonicalRequest(r,t,n){let s=Object.keys(t).sort();return`${r.method}
${this.getCanonicalPath(r)}
${Gc(r)}
${s.map(o=>`${o}:${t[o]}`).join(`
`)}

${s.join(";")}
${n}`}async createStringToSign(r,t,n){let s=new this.sha256;s.update(ht(n));let o=await s.digest();return`${Zi}
${r}
${t}
${ge(o)}`}getCanonicalPath({path:r}){if(this.uriEscapePath){let t=[];for(let o of r.split("/"))(o==null?void 0:o.length)!==0&&o!=="."&&(o===".."?t.pop():t.push(o));let n=`${r!=null&&r.startsWith("/")?"/":""}${t.join("/")}${t.length>0&&(r!=null&&r.endsWith("/"))?"/":""}`;return encodeURIComponent(n).replace(/%2F/g,"/")}return r}async getSignature(r,t,n,s){let o=await this.createStringToSign(r,t,s),i=new this.sha256(await n);return i.update(ht(o)),ge(await i.digest())}getSigningKey(r,t,n,s){return zu(this.sha256,r,n,t,s||this.service)}validateResolvedCredentials(r){if(typeof r!="object"||typeof r.accessKeyId!="string"||typeof r.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}},oa=e=>{let r=Hu(e).replace(/[\-:]/g,"");return{longDate:r,shortDate:r.slice(0,8)}},Wu=e=>Object.keys(e).sort().join(";")});var Yu=A(()=>{Ku();jc();Wc();Kc();Qc();Jc();qc()});var yd=O(Lt=>{"use strict";var Mf=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",$w=Mf+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",Uf="["+Mf+"]["+$w+"]*",zw=new RegExp("^"+Uf+"$"),qw=function(e,r){let t=[],n=r.exec(e);for(;n;){let s=[];s.startIndex=r.lastIndex-n[0].length;let o=n.length;for(let i=0;i<o;i++)s.push(n[i]);t.push(s),n=r.exec(e)}return t},jw=function(e){let r=zw.exec(e);return!(r===null||typeof r>"u")};Lt.isExist=function(e){return typeof e<"u"};Lt.isEmptyObject=function(e){return Object.keys(e).length===0};Lt.merge=function(e,r,t){if(r){let n=Object.keys(r),s=n.length;for(let o=0;o<s;o++)t==="strict"?e[n[o]]=[r[n[o]]]:e[n[o]]=r[n[o]]}};Lt.getValue=function(e){return Lt.isExist(e)?e:""};Lt.isName=jw;Lt.getAllMatches=qw;Lt.nameRegexp=Uf});var Sd=O(jf=>{"use strict";var Ed=yd(),Vw={allowBooleanAttributes:!1,unpairedTags:[]};jf.validate=function(e,r){r=Object.assign({},Vw,r);let t=[],n=!1,s=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let o=0;o<e.length;o++)if(e[o]==="<"&&e[o+1]==="?"){if(o+=2,o=$f(e,o),o.err)return o}else if(e[o]==="<"){let i=o;if(o++,e[o]==="!"){o=zf(e,o);continue}else{let a=!1;e[o]==="/"&&(a=!0,o++);let d="";for(;o<e.length&&e[o]!==">"&&e[o]!==" "&&e[o]!=="	"&&e[o]!==`
`&&e[o]!=="\r";o++)d+=e[o];if(d=d.trim(),d[d.length-1]==="/"&&(d=d.substring(0,d.length-1),o--),!Jw(d)){let u;return d.trim().length===0?u="Invalid space after '<'.":u="Tag '"+d+"' is an invalid name.",le("InvalidTag",u,Oe(e,o))}let l=Ww(e,o);if(l===!1)return le("InvalidAttr","Attributes for '"+d+"' have open quote.",Oe(e,o));let c=l.value;if(o=l.index,c[c.length-1]==="/"){let u=o-c.length;c=c.substring(0,c.length-1);let f=qf(c,r);if(f===!0)n=!0;else return le(f.err.code,f.err.msg,Oe(e,u+f.err.line))}else if(a)if(l.tagClosed){if(c.trim().length>0)return le("InvalidTag","Closing tag '"+d+"' can't have attributes or invalid starting.",Oe(e,i));{let u=t.pop();if(d!==u.tagName){let f=Oe(e,u.tagStartPos);return le("InvalidTag","Expected closing tag '"+u.tagName+"' (opened in line "+f.line+", col "+f.col+") instead of closing tag '"+d+"'.",Oe(e,i))}t.length==0&&(s=!0)}}else return le("InvalidTag","Closing tag '"+d+"' doesn't have proper closing.",Oe(e,o));else{let u=qf(c,r);if(u!==!0)return le(u.err.code,u.err.msg,Oe(e,o-c.length+u.err.line));if(s===!0)return le("InvalidXml","Multiple possible root nodes found.",Oe(e,o));r.unpairedTags.indexOf(d)!==-1||t.push({tagName:d,tagStartPos:i}),n=!0}for(o++;o<e.length;o++)if(e[o]==="<")if(e[o+1]==="!"){o++,o=zf(e,o);continue}else if(e[o+1]==="?"){if(o=$f(e,++o),o.err)return o}else break;else if(e[o]==="&"){let u=Xw(e,o);if(u==-1)return le("InvalidChar","char '&' is not expected.",Oe(e,o));o=u}else if(s===!0&&!Bf(e[o]))return le("InvalidXml","Extra text at the end",Oe(e,o));e[o]==="<"&&o--}}else{if(Bf(e[o]))continue;return le("InvalidChar","char '"+e[o]+"' is not expected.",Oe(e,o))}if(n){if(t.length==1)return le("InvalidTag","Unclosed tag '"+t[0].tagName+"'.",Oe(e,t[0].tagStartPos));if(t.length>0)return le("InvalidXml","Invalid '"+JSON.stringify(t.map(o=>o.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return le("InvalidXml","Start tag expected.",1);return!0};function Bf(e){return e===" "||e==="	"||e===`
`||e==="\r"}function $f(e,r){let t=r;for(;r<e.length;r++)if(e[r]=="?"||e[r]==" "){let n=e.substr(t,r-t);if(r>5&&n==="xml")return le("InvalidXml","XML declaration allowed only at the start of the document.",Oe(e,r));if(e[r]=="?"&&e[r+1]==">"){r++;break}else continue}return r}function zf(e,r){if(e.length>r+5&&e[r+1]==="-"&&e[r+2]==="-"){for(r+=3;r<e.length;r++)if(e[r]==="-"&&e[r+1]==="-"&&e[r+2]===">"){r+=2;break}}else if(e.length>r+8&&e[r+1]==="D"&&e[r+2]==="O"&&e[r+3]==="C"&&e[r+4]==="T"&&e[r+5]==="Y"&&e[r+6]==="P"&&e[r+7]==="E"){let t=1;for(r+=8;r<e.length;r++)if(e[r]==="<")t++;else if(e[r]===">"&&(t--,t===0))break}else if(e.length>r+9&&e[r+1]==="["&&e[r+2]==="C"&&e[r+3]==="D"&&e[r+4]==="A"&&e[r+5]==="T"&&e[r+6]==="A"&&e[r+7]==="["){for(r+=8;r<e.length;r++)if(e[r]==="]"&&e[r+1]==="]"&&e[r+2]===">"){r+=2;break}}return r}var Hw='"',Gw="'";function Ww(e,r){let t="",n="",s=!1;for(;r<e.length;r++){if(e[r]===Hw||e[r]===Gw)n===""?n=e[r]:n!==e[r]||(n="");else if(e[r]===">"&&n===""){s=!0;break}t+=e[r]}return n!==""?!1:{value:t,index:r,tagClosed:s}}var Kw=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function qf(e,r){let t=Ed.getAllMatches(e,Kw),n={};for(let s=0;s<t.length;s++){if(t[s][1].length===0)return le("InvalidAttr","Attribute '"+t[s][2]+"' has no space in starting.",ni(t[s]));if(t[s][3]!==void 0&&t[s][4]===void 0)return le("InvalidAttr","Attribute '"+t[s][2]+"' is without value.",ni(t[s]));if(t[s][3]===void 0&&!r.allowBooleanAttributes)return le("InvalidAttr","boolean attribute '"+t[s][2]+"' is not allowed.",ni(t[s]));let o=t[s][2];if(!Qw(o))return le("InvalidAttr","Attribute '"+o+"' is an invalid name.",ni(t[s]));if(!n.hasOwnProperty(o))n[o]=1;else return le("InvalidAttr","Attribute '"+o+"' is repeated.",ni(t[s]))}return!0}function Yw(e,r){let t=/\d/;for(e[r]==="x"&&(r++,t=/[\da-fA-F]/);r<e.length;r++){if(e[r]===";")return r;if(!e[r].match(t))break}return-1}function Xw(e,r){if(r++,e[r]===";")return-1;if(e[r]==="#")return r++,Yw(e,r);let t=0;for(;r<e.length;r++,t++)if(!(e[r].match(/\w/)&&t<20)){if(e[r]===";")break;return-1}return r}function le(e,r,t){return{err:{code:e,msg:r,line:t.line||t,col:t.col}}}function Qw(e){return Ed.isName(e)}function Jw(e){return Ed.isName(e)}function Oe(e,r){let t=e.substring(0,r).split(/\r?\n/);return{line:t.length,col:t[t.length-1].length+1}}function ni(e){return e.startIndex+e[1].length}});var Hf=O(gd=>{var Vf={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,r){return r},attributeValueProcessor:function(e,r){return r},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1},Zw=function(e){return Object.assign({},Vf,e)};gd.buildOptions=Zw;gd.defaultOptions=Vf});var Wf=O((m4,Gf)=>{"use strict";var _d=class{constructor(r){this.tagname=r,this.child=[],this[":@"]={}}add(r,t){r==="__proto__"&&(r="#__proto__"),this.child.push({[r]:t})}addChild(r){r.tagname==="__proto__"&&(r.tagname="#__proto__"),r[":@"]&&Object.keys(r[":@"]).length>0?this.child.push({[r.tagname]:r.child,[":@"]:r[":@"]}):this.child.push({[r.tagname]:r.child})}};Gf.exports=_d});var Yf=O((u4,Kf)=>{function eb(e,r){let t={};if(e[r+3]==="O"&&e[r+4]==="C"&&e[r+5]==="T"&&e[r+6]==="Y"&&e[r+7]==="P"&&e[r+8]==="E"){r=r+9;let n=1,s=!1,o=!1,i=!1,a="";for(;r<e.length;r++)if(e[r]==="<"&&!i){if(s&&e[r+1]==="!"&&e[r+2]==="E"&&e[r+3]==="N"&&e[r+4]==="T"&&e[r+5]==="I"&&e[r+6]==="T"&&e[r+7]==="Y")r+=7,o=!0;else if(s&&e[r+1]==="!"&&e[r+2]==="E"&&e[r+3]==="L"&&e[r+4]==="E"&&e[r+5]==="M"&&e[r+6]==="E"&&e[r+7]==="N"&&e[r+8]==="T")r+=8;else if(s&&e[r+1]==="!"&&e[r+2]==="A"&&e[r+3]==="T"&&e[r+4]==="T"&&e[r+5]==="L"&&e[r+6]==="I"&&e[r+7]==="S"&&e[r+8]==="T")r+=8;else if(s&&e[r+1]==="!"&&e[r+2]==="N"&&e[r+3]==="O"&&e[r+4]==="T"&&e[r+5]==="A"&&e[r+6]==="T"&&e[r+7]==="I"&&e[r+8]==="O"&&e[r+9]==="N")r+=9;else if(e[r+1]==="!"&&e[r+2]==="-"&&e[r+3]==="-")i=!0;else throw new Error("Invalid DOCTYPE");n++,a=""}else if(e[r]===">"){if(i?e[r-1]==="-"&&e[r-2]==="-"&&(i=!1,n--):(o&&(rb(a,t),o=!1),n--),n===0)break}else e[r]==="["?s=!0:a+=e[r];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:t,i:r}}var tb=RegExp(`^\\s([a-zA-z0-0]+)[ 	](['"])([^&]+)\\2`);function rb(e,r){let t=tb.exec(e);t&&(r[t[1]]={regx:RegExp(`&${t[1]};`,"g"),val:t[3]})}Kf.exports=eb});var Qf=O((f4,Xf)=>{var nb=/^[-+]?0x[a-fA-F0-9]+$/,sb=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var ob={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function ib(e,r={}){if(r=Object.assign({},ob,r),!e||typeof e!="string")return e;let t=e.trim();if(r.skipLike!==void 0&&r.skipLike.test(t))return e;if(r.hex&&nb.test(t))return Number.parseInt(t,16);{let n=sb.exec(t);if(n){let s=n[1],o=n[2],i=ab(n[3]),a=n[4]||n[6];if(!r.leadingZeros&&o.length>0&&s&&t[2]!==".")return e;if(!r.leadingZeros&&o.length>0&&!s&&t[1]!==".")return e;{let d=Number(t),l=""+d;return l.search(/[eE]/)!==-1||a?r.eNotation?d:e:t.indexOf(".")!==-1?l==="0"&&i===""||l===i||s&&l==="-"+i?d:e:o?i===l||s+i===l?d:e:t===l||t===s+l?d:e}}else return e}}function ab(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substr(0,e.length-1))),e}Xf.exports=ib});var Zf=O((h4,Jf)=>{"use strict";var bd=yd(),si=Wf(),cb=Yf(),db=Qf(),p4="<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,bd.nameRegexp),Cd=class{constructor(r){this.options=r,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"}},this.addExternalEntities=lb,this.parseXml=hb,this.parseTextData=mb,this.resolveNameSpace=ub,this.buildAttributesMap=pb,this.isItStopNode=Sb,this.replaceEntitiesValue=yb,this.readStopNodeData=_b,this.saveTextToParentTag=Eb}};function lb(e){let r=Object.keys(e);for(let t=0;t<r.length;t++){let n=r[t];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function mb(e,r,t,n,s,o,i){if(e!==void 0&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){i||(e=this.replaceEntitiesValue(e));let a=this.options.tagValueProcessor(r,e,t,s,o);return a==null?e:typeof a!=typeof e||a!==e?a:this.options.trimValues?wd(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?wd(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function ub(e){if(this.options.removeNSPrefix){let r=e.split(":"),t=e.charAt(0)==="/"?"/":"";if(r[0]==="xmlns")return"";r.length===2&&(e=t+r[1])}return e}var fb=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function pb(e,r){if(!this.options.ignoreAttributes&&typeof e=="string"){let t=bd.getAllMatches(e,fb),n=t.length,s={};for(let o=0;o<n;o++){let i=this.resolveNameSpace(t[o][1]),a=t[o][4],d=this.options.attributeNamePrefix+i;if(i.length)if(this.options.transformAttributeName&&(d=this.options.transformAttributeName(d)),d==="__proto__"&&(d="#__proto__"),a!==void 0){this.options.trimValues&&(a=a.trim()),a=this.replaceEntitiesValue(a);let l=this.options.attributeValueProcessor(i,a,r);l==null?s[d]=a:typeof l!=typeof a||l!==a?s[d]=l:s[d]=wd(a,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[d]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){let o={};return o[this.options.attributesGroupName]=s,o}return s}}var hb=function(e){e=e.replace(/\r\n?/g,`
`);let r=new si("!xml"),t=r,n="",s="";for(let o=0;o<e.length;o++)if(e[o]==="<")if(e[o+1]==="/"){let a=un(e,">",o,"Closing Tag is not closed."),d=e.substring(o+2,a).trim();if(this.options.removeNSPrefix){let l=d.indexOf(":");l!==-1&&(d=d.substr(l+1))}this.options.transformTagName&&(d=this.options.transformTagName(d)),t&&(n=this.saveTextToParentTag(n,t,s)),s=s.substr(0,s.lastIndexOf(".")),t=this.tagsNodeStack.pop(),n="",o=a}else if(e[o+1]==="?"){let a=xd(e,o,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,t,s),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let d=new si(a.tagName);d.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(d[":@"]=this.buildAttributesMap(a.tagExp,s)),t.addChild(d)}o=a.closeIndex+1}else if(e.substr(o+1,3)==="!--"){let a=un(e,"-->",o+4,"Comment is not closed.");if(this.options.commentPropName){let d=e.substring(o+4,a-2);n=this.saveTextToParentTag(n,t,s),t.add(this.options.commentPropName,[{[this.options.textNodeName]:d}])}o=a}else if(e.substr(o+1,2)==="!D"){let a=cb(e,o);this.docTypeEntities=a.entities,o=a.i}else if(e.substr(o+1,2)==="!["){let a=un(e,"]]>",o,"CDATA is not closed.")-2,d=e.substring(o+9,a);if(n=this.saveTextToParentTag(n,t,s),this.options.cdataPropName)t.add(this.options.cdataPropName,[{[this.options.textNodeName]:d}]);else{let l=this.parseTextData(d,t.tagname,s,!0,!1,!0);l==null&&(l=""),t.add(this.options.textNodeName,l)}o=a+2}else{let a=xd(e,o,this.options.removeNSPrefix),d=a.tagName,l=a.tagExp,c=a.attrExpPresent,u=a.closeIndex;this.options.transformTagName&&(d=this.options.transformTagName(d)),t&&n&&t.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,t,s,!1)),d!==r.tagname&&(s+=s?"."+d:d);let f=t;if(f&&this.options.unpairedTags.indexOf(f.tagname)!==-1&&(t=this.tagsNodeStack.pop()),this.isItStopNode(this.options.stopNodes,s,d)){let E="";if(l.length>0&&l.lastIndexOf("/")===l.length-1)o=a.closeIndex;else if(this.options.unpairedTags.indexOf(d)!==-1)o=a.closeIndex;else{let C=this.readStopNodeData(e,d,u+1);if(!C)throw new Error(`Unexpected end of ${d}`);o=C.i,E=C.tagContent}let S=new si(d);d!==l&&c&&(S[":@"]=this.buildAttributesMap(l,s)),E&&(E=this.parseTextData(E,d,s,!0,c,!0,!0)),s=s.substr(0,s.lastIndexOf(".")),S.add(this.options.textNodeName,E),t.addChild(S)}else{if(l.length>0&&l.lastIndexOf("/")===l.length-1){d[d.length-1]==="/"?(d=d.substr(0,d.length-1),l=d):l=l.substr(0,l.length-1),this.options.transformTagName&&(d=this.options.transformTagName(d));let E=new si(d);d!==l&&c&&(E[":@"]=this.buildAttributesMap(l,s)),s=s.substr(0,s.lastIndexOf(".")),t.addChild(E)}else{let E=new si(d);this.tagsNodeStack.push(t),d!==l&&c&&(E[":@"]=this.buildAttributesMap(l,s)),t.addChild(E),t=E}n="",o=u}}else n+=e[o];return r.child},yb=function(e){if(this.options.processEntities){for(let r in this.docTypeEntities){let t=this.docTypeEntities[r];e=e.replace(t.regx,t.val)}for(let r in this.lastEntities){let t=this.lastEntities[r];e=e.replace(t.regex,t.val)}if(this.options.htmlEntities)for(let r in this.htmlEntities){let t=this.htmlEntities[r];e=e.replace(t.regex,t.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function Eb(e,r,t,n){return e&&(n===void 0&&(n=Object.keys(r.child).length===0),e=this.parseTextData(e,r.tagname,t,!1,r[":@"]?Object.keys(r[":@"]).length!==0:!1,n),e!==void 0&&e!==""&&r.add(this.options.textNodeName,e),e=""),e}function Sb(e,r,t){let n="*."+t;for(let s in e){let o=e[s];if(n===o||r===o)return!0}return!1}function gb(e,r,t=">"){let n,s="";for(let o=r;o<e.length;o++){let i=e[o];if(n)i===n&&(n="");else if(i==='"'||i==="'")n=i;else if(i===t[0])if(t[1]){if(e[o+1]===t[1])return{data:s,index:o}}else return{data:s,index:o};else i==="	"&&(i=" ");s+=i}}function un(e,r,t,n){let s=e.indexOf(r,t);if(s===-1)throw new Error(n);return s+r.length-1}function xd(e,r,t,n=">"){let s=gb(e,r+1,n);if(!s)return;let o=s.data,i=s.index,a=o.search(/\s/),d=o,l=!0;if(a!==-1&&(d=o.substr(0,a).replace(/\s\s*$/,""),o=o.substr(a+1)),t){let c=d.indexOf(":");c!==-1&&(d=d.substr(c+1),l=d!==s.data.substr(c+1))}return{tagName:d,tagExp:o,closeIndex:i,attrExpPresent:l}}function _b(e,r,t){let n=t,s=1;for(;t<e.length;t++)if(e[t]==="<")if(e[t+1]==="/"){let o=un(e,">",t,`${r} is not closed`);if(e.substring(t+2,o).trim()===r&&(s--,s===0))return{tagContent:e.substring(n,t),i:o};t=o}else if(e[t+1]==="?")t=un(e,"?>",t+1,"StopNode is not closed.");else if(e.substr(t+1,3)==="!--")t=un(e,"-->",t+3,"StopNode is not closed.");else if(e.substr(t+1,2)==="![")t=un(e,"]]>",t,"StopNode is not closed.")-2;else{let o=xd(e,t,">");o&&((o&&o.tagName)===r&&o.tagExp[o.tagExp.length-1]!=="/"&&s++,t=o.closeIndex)}}function wd(e,r,t){if(r&&typeof e=="string"){let n=e.trim();return n==="true"?!0:n==="false"?!1:db(e,t)}else return bd.isExist(e)?e:""}Jf.exports=Cd});var rp=O(tp=>{"use strict";function Cb(e,r){return ep(e,r)}function ep(e,r,t){let n,s={};for(let o=0;o<e.length;o++){let i=e[o],a=xb(i),d="";if(t===void 0?d=a:d=t+"."+a,a===r.textNodeName)n===void 0?n=i[a]:n+=""+i[a];else{if(a===void 0)continue;if(i[a]){let l=ep(i[a],r,d),c=bb(l,r);i[":@"]?wb(l,i[":@"],d,r):Object.keys(l).length===1&&l[r.textNodeName]!==void 0&&!r.alwaysCreateTextNode?l=l[r.textNodeName]:Object.keys(l).length===0&&(r.alwaysCreateTextNode?l[r.textNodeName]="":l=""),s[a]!==void 0&&s.hasOwnProperty(a)?(Array.isArray(s[a])||(s[a]=[s[a]]),s[a].push(l)):r.isArray(a,d,c)?s[a]=[l]:s[a]=l}}}return typeof n=="string"?n.length>0&&(s[r.textNodeName]=n):n!==void 0&&(s[r.textNodeName]=n),s}function xb(e){let r=Object.keys(e);for(let t=0;t<r.length;t++){let n=r[t];if(n!==":@")return n}}function wb(e,r,t,n){if(r){let s=Object.keys(r),o=s.length;for(let i=0;i<o;i++){let a=s[i];n.isArray(a,t+"."+a,!0,!0)?e[a]=[r[a]]:e[a]=r[a]}}}function bb(e,r){let t=Object.keys(e).length;return!!(t===0||t===1&&e[r.textNodeName])}tp.prettify=Cb});var sp=O((E4,np)=>{var{buildOptions:Tb}=Hf(),Ib=Zf(),{prettify:Rb}=rp(),kb=Sd(),Td=class{constructor(r){this.externalEntities={},this.options=Tb(r)}parse(r,t){if(typeof r!="string")if(r.toString)r=r.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(t){t===!0&&(t={});let o=kb.validate(r,t);if(o!==!0)throw Error(`${o.err.msg}:${o.err.line}:${o.err.col}`)}let n=new Ib(this.options);n.addExternalEntities(this.externalEntities);let s=n.parseXml(r);return this.options.preserveOrder||s===void 0?s:Rb(s,this.options)}addEntity(r,t){if(t.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(r.indexOf("&")!==-1||r.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(t==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[r]=t}};np.exports=Td});var dp=O((S4,cp)=>{var Pb=`
`;function Ab(e,r){let t="";return r.format&&r.indentBy.length>0&&(t=Pb),ip(e,r,"",t)}function ip(e,r,t,n){let s="",o=!1;for(let i=0;i<e.length;i++){let a=e[i],d=Nb(a),l="";if(t.length===0?l=d:l=`${t}.${d}`,d===r.textNodeName){let S=a[d];Db(l,r)||(S=r.tagValueProcessor(d,S),S=ap(S,r)),o&&(s+=n),s+=S,o=!1;continue}else if(d===r.cdataPropName){o&&(s+=n),s+=`<![CDATA[${a[d][0][r.textNodeName]}]]>`,o=!1;continue}else if(d===r.commentPropName){s+=n+`<!--${a[d][0][r.textNodeName]}-->`,o=!0;continue}else if(d[0]==="?"){let S=op(a[":@"],r),C=d==="?xml"?"":n,N=a[d][0][r.textNodeName];N=N.length!==0?" "+N:"",s+=C+`<${d}${N}${S}?>`,o=!0;continue}let c=n;c!==""&&(c+=r.indentBy);let u=op(a[":@"],r),f=n+`<${d}${u}`,E=ip(a[d],r,l,c);r.unpairedTags.indexOf(d)!==-1?r.suppressUnpairedNode?s+=f+">":s+=f+"/>":(!E||E.length===0)&&r.suppressEmptyNode?s+=f+"/>":E&&E.endsWith(">")?s+=f+`>${E}${n}</${d}>`:(s+=f+">",E&&n!==""&&(E.includes("/>")||E.includes("</"))?s+=n+r.indentBy+E+n:s+=E,s+=`</${d}>`),o=!0}return s}function Nb(e){let r=Object.keys(e);for(let t=0;t<r.length;t++){let n=r[t];if(n!==":@")return n}}function op(e,r){let t="";if(e&&!r.ignoreAttributes)for(let n in e){let s=r.attributeValueProcessor(n,e[n]);s=ap(s,r),s===!0&&r.suppressBooleanAttributes?t+=` ${n.substr(r.attributeNamePrefix.length)}`:t+=` ${n.substr(r.attributeNamePrefix.length)}="${s}"`}return t}function Db(e,r){e=e.substr(0,e.length-r.textNodeName.length-1);let t=e.substr(e.lastIndexOf(".")+1);for(let n in r.stopNodes)if(r.stopNodes[n]===e||r.stopNodes[n]==="*."+t)return!0;return!1}function ap(e,r){if(e&&e.length>0&&r.processEntities)for(let t=0;t<r.entities.length;t++){let n=r.entities[t];e=e.replace(n.regex,n.val)}return e}cp.exports=Ab});var mp=O((g4,lp)=>{"use strict";var vb=dp(),Ob={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,r){return r},attributeValueProcessor:function(e,r){return r},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[]};function Cr(e){this.options=Object.assign({},Ob,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=Mb),this.processTextOrObjNode=Fb,this.options.format?(this.indentate=Lb,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}Cr.prototype.build=function(e){return this.options.preserveOrder?vb(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0).val)};Cr.prototype.j2x=function(e,r){let t="",n="";for(let s in e)if(!(typeof e[s]>"u"))if(e[s]===null)s[0]==="?"?n+=this.indentate(r)+"<"+s+"?"+this.tagEndChar:n+=this.indentate(r)+"<"+s+"/"+this.tagEndChar;else if(e[s]instanceof Date)n+=this.buildTextValNode(e[s],s,"",r);else if(typeof e[s]!="object"){let o=this.isAttribute(s);if(o)t+=this.buildAttrPairStr(o,""+e[s]);else if(s===this.options.textNodeName){let i=this.options.tagValueProcessor(s,""+e[s]);n+=this.replaceEntitiesValue(i)}else n+=this.buildTextValNode(e[s],s,"",r)}else if(Array.isArray(e[s])){let o=e[s].length;for(let i=0;i<o;i++){let a=e[s][i];typeof a>"u"||(a===null?s[0]==="?"?n+=this.indentate(r)+"<"+s+"?"+this.tagEndChar:n+=this.indentate(r)+"<"+s+"/"+this.tagEndChar:typeof a=="object"?n+=this.processTextOrObjNode(a,s,r):n+=this.buildTextValNode(a,s,"",r))}}else if(this.options.attributesGroupName&&s===this.options.attributesGroupName){let o=Object.keys(e[s]),i=o.length;for(let a=0;a<i;a++)t+=this.buildAttrPairStr(o[a],""+e[s][o[a]])}else n+=this.processTextOrObjNode(e[s],s,r);return{attrStr:t,val:n}};Cr.prototype.buildAttrPairStr=function(e,r){return r=this.options.attributeValueProcessor(e,""+r),r=this.replaceEntitiesValue(r),this.options.suppressBooleanAttributes&&r==="true"?" "+e:" "+e+'="'+r+'"'};function Fb(e,r,t){let n=this.j2x(e,t+1);return e[this.options.textNodeName]!==void 0&&Object.keys(e).length===1?this.buildTextValNode(e[this.options.textNodeName],r,n.attrStr,t):this.buildObjectNode(n.val,r,n.attrStr,t)}Cr.prototype.buildObjectNode=function(e,r,t,n){if(e==="")return r[0]==="?"?this.indentate(n)+"<"+r+t+"?"+this.tagEndChar:this.indentate(n)+"<"+r+t+this.closeTag(r)+this.tagEndChar;{let s="</"+r+this.tagEndChar,o="";return r[0]==="?"&&(o="?",s=""),t&&e.indexOf("<")===-1?this.indentate(n)+"<"+r+t+o+">"+e+s:this.options.commentPropName!==!1&&r===this.options.commentPropName&&o.length===0?this.indentate(n)+`<!--${e}-->`+this.newLine:this.indentate(n)+"<"+r+t+o+this.tagEndChar+e+this.indentate(n)+s}};Cr.prototype.closeTag=function(e){let r="";return this.options.unpairedTags.indexOf(e)!==-1?this.options.suppressUnpairedNode||(r="/"):this.options.suppressEmptyNode?r="/":r=`></${e}`,r};Cr.prototype.buildTextValNode=function(e,r,t,n){if(this.options.cdataPropName!==!1&&r===this.options.cdataPropName)return this.indentate(n)+`<![CDATA[${e}]]>`+this.newLine;if(this.options.commentPropName!==!1&&r===this.options.commentPropName)return this.indentate(n)+`<!--${e}-->`+this.newLine;if(r[0]==="?")return this.indentate(n)+"<"+r+t+"?"+this.tagEndChar;{let s=this.options.tagValueProcessor(r,e);return s=this.replaceEntitiesValue(s),s===""?this.indentate(n)+"<"+r+t+this.closeTag(r)+this.tagEndChar:this.indentate(n)+"<"+r+t+">"+s+"</"+r+this.tagEndChar}};Cr.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let r=0;r<this.options.entities.length;r++){let t=this.options.entities[r];e=e.replace(t.regex,t.val)}return e};function Lb(e){return this.options.indentBy.repeat(e)}function Mb(e){return e.startsWith(this.options.attributeNamePrefix)?e.substr(this.attrPrefixLen):!1}lp.exports=Cr});var Id=O((_4,up)=>{"use strict";var Ub=Sd(),Bb=sp(),$b=mp();up.exports={XMLParser:Bb,XMLValidator:Ub,XMLBuilder:$b}});var Fa=O(qn=>{"use strict";Object.defineProperty(qn,"__esModule",{value:!0});qn.newLiftedPromise=qn.makeSelfCleaningPromise=void 0;function hI(e,r){return r?e.finally(()=>{r()}):e}qn.makeSelfCleaningPromise=hI;function yI(e){let r,t,n=new Promise((s,o)=>{r=s,t=o});if(!r||!t)throw new Error("Failed to bind resolve and reject when making lifted promise");return e&&e(r,t),{promise:n,resolve:r,reject:t}}qn.newLiftedPromise=yI});var oh=O(pe=>{"use strict";var EI=pe&&pe.__createBinding||(Object.create?function(e,r,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(r,t);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,n,s)}:function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]}),SI=pe&&pe.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),gI=pe&&pe.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var t in e)t!=="default"&&Object.prototype.hasOwnProperty.call(e,t)&&EI(r,e,t);return SI(r,e),r};Object.defineProperty(pe,"__esModule",{value:!0});pe.newCancellablePromiseFromNextEvent=pe.CancelController=pe.EVENT_NAME=void 0;var _I=mt("events"),sh=gI(Fa());pe.EVENT_NAME="cancelled";var qd=class{constructor(r){this.cancelled=!1,r&&r.emitterFactory?this.emitter=r.emitterFactory():this.emitter=new _I.EventEmitter}cancel(){this.cancelled||(this.cancelled=!0,this.emitter.emit(pe.EVENT_NAME),this.emitter.removeAllListeners(pe.EVENT_NAME))}hasBeenCancelled(){return this.cancelled}addListener(r){if(this.cancelled){r();return}return this.emitter.on(pe.EVENT_NAME,r),()=>{this.emitter.removeListener(pe.EVENT_NAME,r)}}};pe.CancelController=qd;function CI(e){let r,t,n=sh.newLiftedPromise();return r=s=>{try{e.eventDataTransformer?n.resolve(e.eventDataTransformer(s)):n.resolve(s)}catch(o){n.reject(o)}},e.emitter.addListener(e.eventName,r),e.cancelController&&(t=e.cancelController.addListener(()=>{n.reject(e.cancelMessage)})),sh.makeSelfCleaningPromise(n.promise,()=>{r&&e.emitter.removeListener(e.eventName,r),t&&t()})}pe.newCancellablePromiseFromNextEvent=CI});var ih=O((m5,xI)=>{xI.exports={name:"aws-crt",version:"1.15.17",description:"NodeJS/browser bindings to the aws-c-* libraries",homepage:"https://github.com/awslabs/aws-crt-nodejs",repository:{type:"git",url:"git+https://github.com/awslabs/aws-crt-nodejs.git"},contributors:["AWS Common Runtime Team <aws-sdk-common-runtime@amazon.com>"],license:"Apache-2.0",main:"./dist/index.js",browser:"./dist.browser/browser.js",types:"./dist/index.d.ts",scripts:{tsc:"node ./scripts/tsc.js",test:"npm run test:native","test:node":"npm run test:native","test:native":"npx jest --runInBand --verbose --config test/native/jest.config.js --forceExit","test:browser":"npx jest --runInBand --verbose --config test/browser/jest.config.js --forceExit","test:browser:ci":"npm run install:puppeteer && npm run test:browser","install:puppeteer":"npm install --save-dev jest-puppeteer puppeteer @types/puppeteer",prepare:"node ./scripts/tsc.js && node ./scripts/install.js",install:"node ./scripts/install.js"},devDependencies:{"@types/crypto-js":"^3.1.43","@types/jest":"^27.0.1","@types/node":"^10.17.54","@types/prettier":"2.6.0","@types/puppeteer":"^5.4.7","@types/uuid":"^3.4.8","@types/ws":"^7.4.7","aws-sdk":"^2.848.0","cmake-js":"^6.3.2","https-proxy-agent":"^5.0.1",jest:"^27.2.1","jest-puppeteer":"^5.0.4","jest-runtime":"^27.2.1",puppeteer:"^3.3.0",tar:"^6.1.11","ts-jest":"^27.0.5",typedoc:"^0.22.18","typedoc-plugin-merge-modules":"^3.1.0",typescript:"^4.7.4",uuid:"^8.3.2",yargs:"^17.2.1"},dependencies:{"@aws-sdk/util-utf8-browser":"^3.109.0","@httptoolkit/websocket-stream":"^6.0.0",axios:"^0.24.0",buffer:"^6.0.3","cmake-js":"^6.3.2","crypto-js":"^4.0.0",mqtt:"^4.3.7",process:"^0.11.10",tar:"^6.1.11"}}});var La=O(wt=>{"use strict";Object.defineProperty(wt,"__esModule",{value:!0});wt.crt_version=wt.package_info=wt.is_browser=wt.is_nodejs=void 0;function ah(){return typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node<"u"}wt.is_nodejs=ah;function wI(){return!ah()}wt.is_browser=wI;function ch(){try{return ih()}catch{return{name:"aws-crt-nodejs",version:"UNKNOWN"}}}wt.package_info=ch;function bI(){return ch().version}wt.crt_version=bI});var dh=O(jn=>{"use strict";var TI=jn&&jn.__awaiter||function(e,r,t,n){function s(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function a(c){try{l(n.next(c))}catch(u){i(u)}}function d(c){try{l(n.throw(c))}catch(u){i(u)}}function l(c){c.done?o(c.value):s(c.value).then(a,d)}l((n=n.apply(e,r||[])).next())})};Object.defineProperty(jn,"__esModule",{value:!0});jn.using=void 0;function II(e,r){return TI(this,void 0,void 0,function*(){try{yield r(e)}finally{e.close()}})}jn.using=II});var rt=O(Ut=>{"use strict";var RI=Ut&&Ut.__createBinding||(Object.create?function(e,r,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(r,t);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,n,s)}:function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]}),kI=Ut&&Ut.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),PI=Ut&&Ut.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var t in e)t!=="default"&&Object.prototype.hasOwnProperty.call(e,t)&&RI(r,e,t);return kI(r,e),r};Object.defineProperty(Ut,"__esModule",{value:!0});var Ma=PI(mt("path")),lh=mt("os"),ph=mt("fs"),mh=mt("process"),uh="Please upgrade to node >=10.16.0, or use the provided browser implementation.";if("napi"in mh.versions){if(parseInt(mh.versions.napi)<4)throw new Error("The AWS CRT native implementation requires that NAPI version 4 be present. "+uh)}else throw new Error("The current runtime is not reporting an NAPI version. "+uh);var AI="aws-crt-nodejs",NI=`${lh.platform}-${lh.arch}`,jd=Ma.resolve(__dirname,"..",".."),fh=Ma.join(jd,"dist");(0,ph.existsSync)(fh)&&(jd=fh);var DI=Ma.resolve(jd,"bin"),hh=[Ma.join(DI,NI,AI)],Vd;for(let e of hh)if((0,ph.existsSync)(e+".node")){Vd=mt(e);break}if(Vd==null)throw new Error(`AWS CRT binary not present in any of the following locations:
	`+hh.join(`
	`));Ut.default=Vd});var nt=O(Hn=>{"use strict";var vI=Hn&&Hn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hn,"__esModule",{value:!0});Hn.CrtError=void 0;var yh=vI(rt()),Vn=class extends Error{constructor(r){super(OI(r)),this.error=r,this.error_code=FI(r),this.error_name=LI(r)}};Hn.CrtError=Vn;function OI(e){return typeof e=="number"?yh.default.error_code_to_string(e):e instanceof Vn?e.message:e.toString()}function FI(e){if(typeof e=="number")return e;if(e instanceof Vn)return e.error_code}function LI(e){if(typeof e=="number")return yh.default.error_code_to_name(e);if(e instanceof Vn)return e.error_name}});var fn=O(Gn=>{"use strict";Object.defineProperty(Gn,"__esModule",{value:!0});Gn.NativeResourceMixin=Gn.NativeResource=void 0;var Hd=class{constructor(r){this.handle=r}native_handle(){return this.handle}};Gn.NativeResource=Hd;function MI(e){return class extends e{constructor(...r){let t=r.shift();super(...r),this._handle=t}_super(r){this._handle=r}native_handle(){return this._handle}}}Gn.NativeResourceMixin=MI});var Gd=O(st=>{"use strict";Object.defineProperty(st,"__esModule",{value:!0});st.SocketDomain=st.SocketType=st.TlsVersion=void 0;var UI;(function(e){e[e.SSLv3=0]="SSLv3",e[e.TLSv1=1]="TLSv1",e[e.TLSv1_1=2]="TLSv1_1",e[e.TLSv1_2=3]="TLSv1_2",e[e.TLSv1_3=4]="TLSv1_3",e[e.Default=128]="Default"})(UI=st.TlsVersion||(st.TlsVersion={}));var BI;(function(e){e[e.STREAM=0]="STREAM",e[e.DGRAM=1]="DGRAM"})(BI=st.SocketType||(st.SocketType={}));var $I;(function(e){e[e.IPV4=0]="IPV4",e[e.IPV6=1]="IPV6",e[e.LOCAL=2]="LOCAL"})($I=st.SocketDomain||(st.SocketDomain={}))});var Bt=O(L=>{"use strict";var zI=L&&L.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(L,"__esModule",{value:!0});L.Pkcs11Lib=L.TlsConnectionOptions=L.ServerTlsContext=L.ClientTlsContext=L.TlsContext=L.TlsContextOptions=L.SocketOptions=L.ClientBootstrap=L.InputStream=L.is_alpn_available=L.enable_logging=L.LogLevel=L.error_code_to_name=L.error_code_to_string=L.SocketDomain=L.SocketType=L.TlsVersion=void 0;var Be=zI(rt()),Kn=fn(),Wd=Gd(),el=Gd();Object.defineProperty(L,"TlsVersion",{enumerable:!0,get:function(){return el.TlsVersion}});Object.defineProperty(L,"SocketType",{enumerable:!0,get:function(){return el.SocketType}});Object.defineProperty(L,"SocketDomain",{enumerable:!0,get:function(){return el.SocketDomain}});var Eh=nt();function qI(e){return Be.default.error_code_to_string(e)}L.error_code_to_string=qI;function jI(e){return Be.default.error_code_to_name(e)}L.error_code_to_name=jI;var VI;(function(e){e[e.NONE=0]="NONE",e[e.FATAL=1]="FATAL",e[e.ERROR=2]="ERROR",e[e.WARN=3]="WARN",e[e.INFO=4]="INFO",e[e.DEBUG=5]="DEBUG",e[e.TRACE=6]="TRACE"})(VI=L.LogLevel||(L.LogLevel={}));function HI(e){Be.default.io_logging_enable(e)}L.enable_logging=HI;function GI(){return Be.default.is_alpn_available()}L.is_alpn_available=GI;var Kd=class extends Kn.NativeResource{constructor(r){super(Be.default.io_input_stream_new(16*1024)),this.source=r,this.source.on("data",t=>{t=Buffer.isBuffer(t)?t:Buffer.from(t.toString()),Be.default.io_input_stream_append(this.native_handle(),t)}),this.source.on("end",()=>{Be.default.io_input_stream_append(this.native_handle(),void 0)})}};L.InputStream=Kd;var Yd=class extends Kn.NativeResource{constructor(){super(Be.default.io_client_bootstrap_new())}};L.ClientBootstrap=Yd;var Xd=class extends Kn.NativeResource{constructor(r=Wd.SocketType.STREAM,t=Wd.SocketDomain.IPV6,n=5e3,s=!1,o=0,i=0,a=0){super(Be.default.io_socket_options_new(r,t,n,o,i,a,s))}};L.SocketOptions=Xd;var Ue=class{constructor(){this.min_tls_version=Wd.TlsVersion.Default,this.alpn_list=[],this.verify_peer=!0}override_default_trust_store_from_path(r,t){this.ca_dirpath=r,this.ca_filepath=t}override_default_trust_store(r){this.certificate_authority=r}static create_client_with_mtls(r,t){let n=new Ue;return n.certificate=r,n.private_key=t,n.verify_peer=!0,n}static create_client_with_mtls_from_path(r,t){let n=new Ue;return n.certificate_filepath=r,n.private_key_filepath=t,n.verify_peer=!0,n}static create_client_with_mtls_pkcs12_from_path(r,t){let n=new Ue;return n.pkcs12_filepath=r,n.pkcs12_password=t,n.verify_peer=!0,n}static create_client_with_mtls_pkcs_from_path(r,t){return this.create_client_with_mtls_pkcs12_from_path(r,t)}static create_client_with_mtls_pkcs11(r){let t=new Ue;return t.pkcs11_options=r,t.verify_peer=!0,t}static create_client_with_mtls_windows_cert_store_path(r){let t=new Ue;return t.windows_cert_store_path=r,t.verify_peer=!0,t}static create_server_with_mtls_from_path(r,t){let n=new Ue;return n.certificate_filepath=r,n.private_key_filepath=t,n.verify_peer=!1,n}static create_server_with_mtls_pkcs_from_path(r,t){let n=new Ue;return n.pkcs12_filepath=r,n.pkcs12_password=t,n.verify_peer=!1,n}};L.TlsContextOptions=Ue;var fi=class extends Kn.NativeResource{constructor(r){if(r==null||r==null)throw new Eh.CrtError("TlsContext constructor: ctx_opt not defined");super(Be.default.io_tls_ctx_new(r.min_tls_version,r.ca_filepath,r.ca_dirpath,r.certificate_authority,r.alpn_list&&r.alpn_list.length>0?r.alpn_list.join(";"):void 0,r.certificate_filepath,r.certificate,r.private_key_filepath,r.private_key,r.pkcs12_filepath,r.pkcs12_password,r.pkcs11_options,r.windows_cert_store_path,r.verify_peer))}};L.TlsContext=fi;var Qd=class extends fi{constructor(r){r||(r=new Ue,r.verify_peer=!0),super(r)}};L.ClientTlsContext=Qd;var Jd=class extends fi{constructor(r){r||(r=new Ue,r.verify_peer=!1),super(r)}};L.ServerTlsContext=Jd;var Zd=class extends Kn.NativeResource{constructor(r,t,n=[]){if(r==null||r==null)throw new Eh.CrtError("TlsConnectionOptions constructor: tls_ctx not defined");super(Be.default.io_tls_connection_options_new(r.native_handle(),t,n&&n.length>0?n.join(";"):void 0)),this.tls_ctx=r,this.server_name=t,this.alpn_list=n}};L.TlsConnectionOptions=Zd;var Wn=class extends Kn.NativeResource{constructor(r,t=Wn.InitializeFinalizeBehavior.DEFAULT){super(Be.default.io_pkcs11_lib_new(r,t))}close(){Be.default.io_pkcs11_lib_close(this.native_handle())}};L.Pkcs11Lib=Wn;(function(e){let r;(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.OMIT=1]="OMIT",t[t.STRICT=2]="STRICT"})(r=e.InitializeFinalizeBehavior||(e.InitializeFinalizeBehavior={}))})(Wn=L.Pkcs11Lib||(L.Pkcs11Lib={}))});var Ua=O(Z=>{"use strict";var WI=Z&&Z.__awaiter||function(e,r,t,n){function s(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function a(c){try{l(n.next(c))}catch(u){i(u)}}function d(c){try{l(n.throw(c))}catch(u){i(u)}}function l(c){c.done?o(c.value):s(c.value).then(a,d)}l((n=n.apply(e,r||[])).next())})},KI=Z&&Z.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Z,"__esModule",{value:!0});Z.aws_verify_sigv4a_signing=Z.aws_sign_request=Z.AwsSignedBodyHeaderType=Z.AwsSignedBodyValue=Z.AwsSignatureType=Z.AwsSigningAlgorithm=Z.AwsCredentialsProvider=void 0;var nl=KI(rt()),tl=nt(),YI=Bt(),rl=class extends nl.default.AwsCredentialsProvider{static newDefault(r=void 0){return super.newDefault(r!=null?r.native_handle():null)}static newStatic(r,t,n){return super.newStatic(r,t,n)}static newCognito(r){if(r==null||r==null)throw new tl.CrtError("AwsCredentialsProvider newCognito: Cognito config not defined");return super.newCognito(r,r.tlsContext!=null?r.tlsContext.native_handle():new YI.ClientTlsContext().native_handle(),r.bootstrap!=null?r.bootstrap.native_handle():null,r.httpProxyOptions?r.httpProxyOptions.create_native_handle():null)}static newX509(r){if(r==null||r==null)throw new tl.CrtError("AwsCredentialsProvider newX509: X509 config not defined");return super.newX509(r,r.tlsContext.native_handle(),r.httpProxyOptions?r.httpProxyOptions.create_native_handle():null)}};Z.AwsCredentialsProvider=rl;var XI;(function(e){e[e.SigV4=0]="SigV4",e[e.SigV4Asymmetric=1]="SigV4Asymmetric"})(XI=Z.AwsSigningAlgorithm||(Z.AwsSigningAlgorithm={}));var QI;(function(e){e[e.HttpRequestViaHeaders=0]="HttpRequestViaHeaders",e[e.HttpRequestViaQueryParams=1]="HttpRequestViaQueryParams",e[e.HttpRequestChunk=2]="HttpRequestChunk",e[e.HttpRequestEvent=3]="HttpRequestEvent"})(QI=Z.AwsSignatureType||(Z.AwsSignatureType={}));var JI;(function(e){e.EmptySha256="e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855",e.UnsignedPayload="UNSIGNED-PAYLOAD",e.StreamingAws4HmacSha256Payload="STREAMING-AWS4-HMAC-SHA256-PAYLOAD",e.StreamingAws4HmacSha256Events="STREAMING-AWS4-HMAC-SHA256-EVENTS"})(JI=Z.AwsSignedBodyValue||(Z.AwsSignedBodyValue={}));var ZI;(function(e){e[e.None=0]="None",e[e.XAmzContentSha256=1]="XAmzContentSha256"})(ZI=Z.AwsSignedBodyHeaderType||(Z.AwsSignedBodyHeaderType={}));function eR(e,r){return WI(this,void 0,void 0,function*(){return new Promise((t,n)=>{try{nl.default.aws_sign_request(e,r,s=>{s==0?t(e):n(new tl.CrtError(s))})}catch(s){n(s)}})})}Z.aws_sign_request=eR;function tR(e,r,t,n,s,o){return nl.default.aws_verify_sigv4a_signing(e,r,t,n,s,o)}Z.aws_verify_sigv4a_signing=tR});var gh=O(Ir=>{"use strict";var rR=Ir&&Ir.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ir,"__esModule",{value:!0});Ir.crc32c=Ir.crc32=void 0;var Sh=rR(rt());function nR(e,r){return Sh.default.checksums_crc32(e,r)}Ir.crc32=nR;function sR(e,r){return Sh.default.checksums_crc32c(e,r)}Ir.crc32c=sR});var Ch=O(Rr=>{"use strict";var oR=Rr&&Rr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rr,"__esModule",{value:!0});Rr.native_memory_dump=Rr.native_memory=void 0;var _h=oR(rt());function iR(){return _h.default.native_memory()}Rr.native_memory=iR;function aR(){return _h.default.native_memory_dump()}Rr.native_memory_dump=aR});var wh=O(me=>{"use strict";var cR=me&&me.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(me,"__esModule",{value:!0});me.hmac_sha256=me.Sha256Hmac=me.hash_sha1=me.Sha1Hash=me.hash_sha256=me.Sha256Hash=me.hash_md5=me.Md5Hash=void 0;var Ke=cR(rt()),xh=fn(),pi=class extends xh.NativeResource{update(r){Ke.default.hash_update(this.native_handle(),r)}finalize(r){return Ke.default.hash_digest(this.native_handle(),r)}constructor(r){super(r)}},sl=class extends pi{constructor(){super(Ke.default.hash_md5_new())}};me.Md5Hash=sl;function dR(e,r){return Ke.default.hash_md5_compute(e,r)}me.hash_md5=dR;var ol=class extends pi{constructor(){super(Ke.default.hash_sha256_new())}};me.Sha256Hash=ol;function lR(e,r){return Ke.default.hash_sha256_compute(e,r)}me.hash_sha256=lR;var il=class extends pi{constructor(){super(Ke.default.hash_sha1_new())}};me.Sha1Hash=il;function mR(e,r){return Ke.default.hash_sha1_compute(e,r)}me.hash_sha1=mR;var al=class extends xh.NativeResource{update(r){Ke.default.hmac_update(this.native_handle(),r)}finalize(r){return Ke.default.hmac_digest(this.native_handle(),r)}constructor(r){super(r)}},cl=class extends al{constructor(r){super(Ke.default.hmac_sha256_new(r))}};me.Sha256Hmac=cl;function uR(e,r,t){return Ke.default.hmac_sha256_compute(e,r,t)}me.hmac_sha256=uR});var hi=O(Ba=>{"use strict";Object.defineProperty(Ba,"__esModule",{value:!0});Ba.BufferedEventEmitter=void 0;var fR=mt("events"),dl=class{constructor(r,t){this.event=r,this.args=t}},ll=class extends fR.EventEmitter{constructor(){super(),this.corked=!1}cork(){this.corked=!0}uncork(){for(this.corked=!1;this.eventQueue;){let r=this.eventQueue;super.emit(r.event,...r.args),this.eventQueue=this.eventQueue.next}}emit(r,...t){if(this.corked){let n=this.lastQueuedEvent;return this.lastQueuedEvent=new dl(r,t),n?n.next=this.lastQueuedEvent:this.eventQueue=this.lastQueuedEvent,this.listeners(r).length>0}return super.emit(r,...t)}};Ba.BufferedEventEmitter=ll});var Th=O(ee=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0});ee.unmarshalInt64BigintFromBuffer=ee.marshalInt64BigintAsBuffer=ee.MIN_INT64=ee.MAX_INT64=ee.MIN_INT32=ee.MAX_INT32=ee.MIN_INT16=ee.MAX_INT16=ee.MIN_INT8=ee.MAX_INT8=void 0;var bh=nt();ee.MAX_INT8=127;ee.MIN_INT8=-128;ee.MAX_INT16=32767;ee.MIN_INT16=-32768;ee.MAX_INT32=2147483647;ee.MIN_INT32=-2147483648;ee.MAX_INT64=BigInt("9223372036854775807");ee.MIN_INT64=BigInt("-9223372036854775808");var Yn=BigInt("256");function pR(e){if(e<ee.MIN_INT64||e>ee.MAX_INT64)throw new bh.CrtError("marshalInt64BigintAsBuffer expects a value that can fit in 8 bytes");let r=new Uint8Array(8);if(e<0){e=-e-BigInt(1);for(let t=0;t<8;++t)r[t]=255-Number(e%Yn),e/=Yn}else for(let t=0;t<8;++t)r[t]=Number(e%Yn),e/=Yn;return r}ee.marshalInt64BigintAsBuffer=pR;function hR(e){let r=BigInt(0),t=new Uint8Array(e);if(t.length!=8)throw new bh.CrtError("unmarshalInt64BigintFromBuffer expects a byte buffer of length 8");let n=BigInt(1);if((t[7]&128)!=0){for(let o=0;o<t.length;++o){let i=BigInt(255-t[o]);r+=i*n,n*=Yn}r+=BigInt(1),r=-r}else for(let o=0;o<t.length;++o){let i=BigInt(t[o]);r+=i*n,n*=Yn}return r}ee.unmarshalInt64BigintFromBuffer=hR});var Ph=O(W=>{"use strict";var yR=W&&W.__createBinding||(Object.create?function(e,r,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(r,t);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,n,s)}:function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]}),ER=W&&W.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),ml=W&&W.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var t in e)t!=="default"&&Object.prototype.hasOwnProperty.call(e,t)&&yR(r,e,t);return ER(r,e),r},$a=W&&W.__awaiter||function(e,r,t,n){function s(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function a(c){try{l(n.next(c))}catch(u){i(u)}}function d(c){try{l(n.throw(c))}catch(u){i(u)}}function l(c){c.done?o(c.value):s(c.value).then(a,d)}l((n=n.apply(e,r||[])).next())})},SR=W&&W.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(W,"__esModule",{value:!0});W.ClientStream=W.ClientConnection=W.MessageType=W.MessageFlags=W.Header=W.HeaderType=void 0;var Ih=fn(),Rh=hi(),J=nt(),za=ml(Bt()),ot=ml(Th()),qa=ml(Fa()),kr=SR(rt()),ne;(function(e){e[e.BooleanTrue=0]="BooleanTrue",e[e.BooleanFalse=1]="BooleanFalse",e[e.Byte=2]="Byte",e[e.Int16=3]="Int16",e[e.Int32=4]="Int32",e[e.Int64=5]="Int64",e[e.ByteBuffer=6]="ByteBuffer",e[e.String=7]="String",e[e.Timestamp=8]="Timestamp",e[e.UUID=9]="UUID"})(ne=W.HeaderType||(W.HeaderType={}));var gR=127,G=class{constructor(r,t,n){this.name=r,this.type=t,this.value=n}static validateHeaderName(r){if(r.length==0||r.length>gR)throw new J.CrtError(`Event stream header name (${r}) is not valid`)}static newBoolean(r,t){return G.validateHeaderName(r),t?new G(r,ne.BooleanTrue):new G(r,ne.BooleanFalse)}static newByte(r,t){if(G.validateHeaderName(r),t>=ot.MIN_INT8&&t<=ot.MAX_INT8&&Number.isSafeInteger(t))return new G(r,ne.Byte,t);throw new J.CrtError(`Illegal value for eventstream byte-valued header: ${t}`)}static newInt16(r,t){if(G.validateHeaderName(r),t>=ot.MIN_INT16&&t<=ot.MAX_INT16&&Number.isSafeInteger(t))return new G(r,ne.Int16,t);throw new J.CrtError(`Illegal value for eventstream int16-valued header: ${t}`)}static newInt32(r,t){if(G.validateHeaderName(r),t>=ot.MIN_INT32&&t<=ot.MAX_INT32&&Number.isSafeInteger(t))return new G(r,ne.Int32,t);throw new J.CrtError(`Illegal value for eventstream int32-valued header: ${t}`)}static newInt64FromNumber(r,t){if(G.validateHeaderName(r),Number.isSafeInteger(t))return new G(r,ne.Int64,ot.marshalInt64BigintAsBuffer(BigInt(t)));throw new J.CrtError(`Illegal value for eventstream int64-valued header: ${t}`)}static newInt64FromBigint(r,t){if(G.validateHeaderName(r),t>=ot.MIN_INT64&&t<=ot.MAX_INT64)return new G(r,ne.Int64,ot.marshalInt64BigintAsBuffer(t));throw new J.CrtError(`Illegal value for eventstream int64-valued header: ${t}`)}static newByteBuffer(r,t){return G.validateHeaderName(r),new G(r,ne.ByteBuffer,t)}static newString(r,t){return G.validateHeaderName(r),new G(r,ne.String,t)}static newTimeStampFromSecondsSinceEpoch(r,t){if(G.validateHeaderName(r),Number.isSafeInteger(t)&&t>=0)return new G(r,ne.Timestamp,t);throw new J.CrtError(`Illegal value for eventstream timestamp-valued header: ${t}`)}static newTimeStampFromDate(r,t){G.validateHeaderName(r);let n=t.getTime();if(Number.isSafeInteger(n))return new G(r,ne.Timestamp,n);throw new J.CrtError(`Illegal value for eventstream timestamp-valued header: ${t}`)}static newUUID(r,t){if(G.validateHeaderName(r),t.byteLength==16)return new G(r,ne.UUID,t);throw new J.CrtError(`Illegal value for eventstream uuid-valued header: ${t}`)}toValue(r){if(r!=this.type)throw new J.CrtError(`Header of type (${this.type}) cannot be converted to type (${r})`);return this.value}asBoolean(){switch(this.type){case ne.BooleanFalse:return!1;case ne.BooleanTrue:return!0;default:throw new J.CrtError(`Header of type (${this.type}) cannot be converted to type (boolean)`)}}asByte(){return this.toValue(ne.Byte)}asInt16(){return this.toValue(ne.Int16)}asInt32(){return this.toValue(ne.Int32)}asInt64(){return ot.unmarshalInt64BigintFromBuffer(this.toValue(ne.Int64))}asByteBuffer(){return this.toValue(ne.ByteBuffer)}asString(){return this.toValue(ne.String)}asTimestamp(){return this.toValue(ne.Timestamp)}asUUID(){return this.toValue(ne.UUID)}};W.Header=G;var _R;(function(e){e[e.None=0]="None",e[e.ConnectionAccepted=1]="ConnectionAccepted",e[e.TerminateStream=2]="TerminateStream"})(_R=W.MessageFlags||(W.MessageFlags={}));var CR;(function(e){e[e.ApplicationMessage=0]="ApplicationMessage",e[e.ApplicationError=1]="ApplicationError",e[e.Ping=2]="Ping",e[e.PingResponse=3]="PingResponse",e[e.Connect=4]="Connect",e[e.ConnectAck=5]="ConnectAck",e[e.ProtocolError=6]="ProtocolError",e[e.InternalError=7]="InternalError"})(CR=W.MessageType||(W.MessageType={}));function xR(e){return Array.from(e,r=>new G(r.name,r.type,r.value))}function kh(e){let r={type:e.type,flags:e.flags,payload:e.payload};return e.headers&&(r.headers=xR(e.headers)),r}var Ie;(function(e){e[e.None=0]="None",e[e.Connecting=1]="Connecting",e[e.Connected=2]="Connected",e[e.Disconnected=3]="Disconnected",e[e.Closed=4]="Closed"})(Ie||(Ie={}));var bt=class extends(0,Ih.NativeResourceMixin)(Rh.BufferedEventEmitter){constructor(r){if(r===void 0)throw new J.CrtError("Invalid configuration passed to eventstream ClientConnection constructor");super(),this.state=Ie.None,this._super(kr.default.event_stream_client_connection_new(this,r,(t,n)=>{bt._s_on_disconnect(t,n)},(t,n)=>{bt._s_on_protocol_message(t,n)},r.socketOptions?r.socketOptions.native_handle():null,r.tlsCtx?r.tlsCtx.native_handle():null))}close(){this.state!=Ie.Closed&&(this.state=Ie.Closed,kr.default.event_stream_client_connection_close(this.native_handle()))}connect(r){return $a(this,void 0,void 0,function*(){let t,n=new Promise((s,o)=>{if(!r){o(new J.CrtError("Invalid options passed to event stream ClientConnection.connect"));return}if(this.state!=Ie.None){o(new J.CrtError(`Event stream connection in a state (${this.state}) where connect() is not allowed.`));return}if(this.state=Ie.Connecting,r.cancelController){let a=()=>{o(new J.CrtError("Event stream connection connect() cancelled by external request.")),setImmediate(()=>{this.close()})};if(t=r.cancelController.addListener(a),!t)return}function i(a,d){return bt._s_on_connection_setup(s,o,a,d)}try{kr.default.event_stream_client_connection_connect(this.native_handle(),i)}catch(a){this.state=Ie.Disconnected,o(a)}});return qa.makeSelfCleaningPromise(n,t)})}sendProtocolMessage(r){return $a(this,void 0,void 0,function*(){let t,n=new Promise((s,o)=>{try{let i=function(a){return bt._s_on_connection_send_protocol_message_completion(s,o,a)};if(!r){o(new J.CrtError("Invalid options passed to event stream ClientConnection.sendProtocolMessage"));return}if(!this.isConnected()){o(new J.CrtError(`Event stream connection in a state (${this.state}) where sending protocol messages is not allowed.`));return}if(r.cancelController){let a=()=>{o(new J.CrtError("Event stream connection sendProtocolMessage() cancelled by external request.")),setImmediate(()=>{this.close()})};if(t=r.cancelController.addListener(a),!t)return}kr.default.event_stream_client_connection_send_protocol_message(this.native_handle(),r,i)}catch(i){o(i)}});return qa.makeSelfCleaningPromise(n,t)})}isConnected(){return this.state==Ie.Connected}newStream(){if(!this.isConnected())throw new J.CrtError(`Event stream connection in a state (${this.state}) where creating new streams is forbidden.`);return new $e(this)}on(r,t){return super.on(r,t),this}static _s_on_connection_setup(r,t,n,s){s==0&&n.state==Ie.Connecting?(n.state=Ie.Connected,r()):(n.state!=Ie.Closed&&(n.state=Ie.Disconnected),t(za.error_code_to_string(s)))}static _s_on_disconnect(r,t){r.state!=Ie.Closed&&(r.state=Ie.Disconnected),process.nextTick(()=>{r.emit("disconnection",{errorCode:t})})}static _s_on_protocol_message(r,t){process.nextTick(()=>{r.emit("protocolMessage",{message:kh(t)})})}static _s_on_connection_send_protocol_message_completion(r,t,n){n==0?r():t(za.error_code_to_string(n))}};W.ClientConnection=bt;bt.DISCONNECTION="disconnection";bt.PROTOCOL_MESSAGE="protocolMessage";var Re;(function(e){e[e.None=0]="None",e[e.Activating=1]="Activating",e[e.Activated=2]="Activated",e[e.Ended=3]="Ended",e[e.Closed=4]="Closed"})(Re||(Re={}));var $e=class extends(0,Ih.NativeResourceMixin)(Rh.BufferedEventEmitter){constructor(r){super(),this._super(kr.default.event_stream_client_stream_new(this,r.native_handle(),t=>{$e._s_on_stream_ended(t)},(t,n)=>{$e._s_on_stream_message(t,n)})),this.state=Re.None}close(){this.state!=Re.Closed&&(this.state=Re.Closed,kr.default.event_stream_client_stream_close(this.native_handle()))}activate(r){return $a(this,void 0,void 0,function*(){let t,n=new Promise((s,o)=>{try{let i=function(a,d){return $e._s_on_stream_activated(s,o,a,d)};if(this.state!=Re.None){o(new J.CrtError(`Event stream in a state (${this.state}) where activation is not allowed.`));return}if(r===void 0){this.state=Re.Ended,o(new J.CrtError("Invalid options passed to ClientStream.activate"));return}if(this.state=Re.Activating,r.cancelController){let a=()=>{o(new J.CrtError("Event stream activate() cancelled by external request.")),setImmediate(()=>{this.close()})};if(t=r.cancelController.addListener(a),!t)return}kr.default.event_stream_client_stream_activate(this.native_handle(),r,i)}catch(i){this.state=Re.Ended,o(i)}});return qa.makeSelfCleaningPromise(n,t)})}sendMessage(r){return $a(this,void 0,void 0,function*(){let t,n=new Promise((s,o)=>{try{let i=function(a){return $e._s_on_stream_send_message_completion(s,o,a)};if(!r){o(new J.CrtError("Invalid options passed to ClientStream.sendMessage"));return}if(this.state!=Re.Activated){o(new J.CrtError(`Event stream in a state (${this.state}) where sending messages is not allowed.`));return}if(r.cancelController){let a=()=>{o(new J.CrtError("Event stream sendMessage() cancelled by external request.")),setImmediate(()=>{this.close()})};if(t=r.cancelController.addListener(a),!t)return}kr.default.event_stream_client_stream_send_message(this.native_handle(),r,i)}catch(i){o(i)}});return qa.makeSelfCleaningPromise(n,t)})}isActive(){return this.state==Re.Activated}on(r,t){return super.on(r,t),this}static _s_on_stream_activated(r,t,n,s){s==0&&n.state==Re.Activating?(n.state=Re.Activated,r()):(n.state!=Re.Closed&&(n.state=Re.Ended),t(za.error_code_to_string(s)))}static _s_on_stream_send_message_completion(r,t,n){n==0?r():t(za.error_code_to_string(n))}static _s_on_stream_ended(r){process.nextTick(()=>{r.emit($e.ENDED,{})})}static _s_on_stream_message(r,t){process.nextTick(()=>{r.emit($e.MESSAGE,{message:kh(t)})})}};W.ClientStream=$e;$e.ENDED="ended";$e.MESSAGE="message"});var fl=O(Tt=>{"use strict";Object.defineProperty(Tt,"__esModule",{value:!0});Tt.CommonHttpProxyOptions=Tt.HttpProxyAuthenticationType=Tt.HttpVersion=void 0;var wR;(function(e){e[e.Unknown=0]="Unknown",e[e.Http1_0=1]="Http1_0",e[e.Http1_1=2]="Http1_1",e[e.Http2=3]="Http2"})(wR=Tt.HttpVersion||(Tt.HttpVersion={}));var Ah;(function(e){e[e.None=0]="None",e[e.Basic=1]="Basic"})(Ah=Tt.HttpProxyAuthenticationType||(Tt.HttpProxyAuthenticationType={}));var ul=class{constructor(r,t,n=Ah.None,s,o){this.host_name=r,this.port=t,this.auth_method=n,this.auth_username=s,this.auth_password=o}};Tt.CommonHttpProxyOptions=ul});var Ha=O(K=>{"use strict";var bR=K&&K.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(K,"__esModule",{value:!0});K.HttpClientConnectionManager=K.HttpClientStream=K.HttpStream=K.HttpClientConnection=K.HttpProxyOptions=K.HttpProxyConnectionType=K.HttpConnection=K.HttpRequest=K.HttpHeaders=K.HttpProxyAuthenticationType=void 0;var Ye=bR(rt()),El=fn(),pn=nt(),Nh=fl(),TR=fl();Object.defineProperty(K,"HttpProxyAuthenticationType",{enumerable:!0,get:function(){return TR.HttpProxyAuthenticationType}});var Dh=hi();K.HttpHeaders=Ye.default.HttpHeaders;var IR=Ye.default.HttpRequest,pl=class extends IR{constructor(r,t,n,s){super(r,t,n,s==null?void 0:s.native_handle())}};K.HttpRequest=pl;var hn=class extends(0,El.NativeResourceMixin)(Dh.BufferedEventEmitter){constructor(r){super(),this._super(r)}close(){Ye.default.http_connection_close(this.native_handle())}on(r,t){return super.on(r,t),r=="connect"&&process.nextTick(()=>{this.uncork()}),this}};K.HttpConnection=hn;hn.CONNECT="connect";hn.ERROR="error";hn.CLOSE="close";var vh;(function(e){e[e.Legacy=0]="Legacy",e[e.Forwarding=1]="Forwarding",e[e.Tunneling=2]="Tunneling"})(vh=K.HttpProxyConnectionType||(K.HttpProxyConnectionType={}));var hl=class extends Nh.CommonHttpProxyOptions{constructor(r,t,n=Nh.HttpProxyAuthenticationType.None,s,o,i,a){super(r,t,n,s,o),this.tls_opts=i,this.connection_type=a}create_native_handle(){return Ye.default.http_proxy_options_new(this.host_name,this.port,this.auth_method,this.auth_username,this.auth_password,this.tls_opts?this.tls_opts.native_handle():void 0,this.connection_type?this.connection_type:vh.Legacy)}};K.HttpProxyOptions=hl;var ja=class extends hn{constructor(r,t,n,s,o,i,a){if(s==null||s==null)throw new pn.CrtError("HttpClientConnection constructor: socket_options not defined");super(a||Ye.default.http_connection_new(r!=null?r.native_handle():null,(d,l)=>{this._on_setup(d,l)},(d,l)=>{this._on_shutdown(d,l)},t,n,s.native_handle(),o?o.native_handle():void 0,i?i.create_native_handle():void 0)),this.bootstrap=r,this.socket_options=s,this.tls_opts=o}_on_setup(r,t){if(t){this.emit("error",new pn.CrtError(t));return}this.emit("connect")}_on_shutdown(r,t){if(t){this.emit("error",new pn.CrtError(t));return}this.emit("close")}request(r){let t,n=(a,d)=>{t._on_response(a,d)},s=a=>{t._on_body(a)},o=a=>{t._on_complete(a)},i=Ye.default.http_stream_new(this.native_handle(),r,o,n,s);return t=new $t(i,this,r)}};K.HttpClientConnection=ja;var Va=class extends(0,El.NativeResourceMixin)(Dh.BufferedEventEmitter){constructor(r,t){super(),this.connection=t,this._super(r),this.cork()}activate(){Ye.default.http_stream_activate(this.native_handle())}close(){Ye.default.http_stream_close(this.native_handle())}_on_body(r){this.emit("data",r)}_on_complete(r){if(r){this.emit("error",new pn.CrtError(r)),this.close();return}this.on("end",()=>{this.close()}),this.emit("end")}};K.HttpStream=Va;var $t=class extends Va{constructor(r,t,n){super(r,t),this.request=n}status_code(){return this.response_status_code}on(r,t){return super.on(r,t),r=="response"&&process.nextTick(()=>{this.uncork()}),this}_on_response(r,t){this.response_status_code=r;let n=new K.HttpHeaders(t);this.emit("response",r,n)}};K.HttpClientStream=$t;$t.RESPONSE="response";$t.DATA="data";$t.ERROR="error";$t.END="end";$t.HEADERS="headers";var yl=class extends El.NativeResource{constructor(r,t,n,s,o,i,a,d){if(i==null||i==null)throw new pn.CrtError("HttpClientConnectionManager constructor: socket_options not defined");super(Ye.default.http_connection_manager_new(r!=null?r.native_handle():null,t,n,s,o,i.native_handle(),a?a.native_handle():void 0,d?d.create_native_handle():void 0,void 0)),this.bootstrap=r,this.host=t,this.port=n,this.max_connections=s,this.initial_window_size=o,this.socket_options=i,this.tls_opts=a,this.proxy_options=d,this.connections=new Map}acquire(){return new Promise((r,t)=>{let n=(s,o)=>{if(o){t(new pn.CrtError(o));return}let i=this.connections.get(s);i||(i=new ja(this.bootstrap,this.host,this.port,this.socket_options,this.tls_opts,this.proxy_options,s),this.connections.set(s,i),i.on("close",()=>{this.connections.delete(s)})),r(i)};Ye.default.http_connection_manager_acquire(this.native_handle(),n)})}release(r){if(r==null||r==null)throw new pn.CrtError("HttpClientConnectionManager release: connection not defined");Ye.default.http_connection_manager_release(this.native_handle(),r.native_handle())}close(){Ye.default.http_connection_manager_close(this.native_handle())}};K.HttpClientConnectionManager=yl});var Ga=O(it=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0});it.DEFAULT_RECONNECT_MIN_SEC=it.DEFAULT_RECONNECT_MAX_SEC=it.MqttWill=it.QoS=void 0;var RR;(function(e){e[e.AtMostOnce=0]="AtMostOnce",e[e.AtLeastOnce=1]="AtLeastOnce",e[e.ExactlyOnce=2]="ExactlyOnce"})(RR=it.QoS||(it.QoS={}));var Sl=class{constructor(r,t,n,s=!1){this.topic=r,this.qos=t,this.payload=n,this.retain=s}};it.MqttWill=Sl;it.DEFAULT_RECONNECT_MAX_SEC=128;it.DEFAULT_RECONNECT_MIN_SEC=1});var _l=O(he=>{"use strict";var kR=he&&he.__createBinding||(Object.create?function(e,r,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(r,t);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,n,s)}:function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]}),PR=he&&he.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),AR=he&&he.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var t in e)t!=="default"&&Object.prototype.hasOwnProperty.call(e,t)&&kR(r,e,t);return PR(r,e),r};Object.defineProperty(he,"__esModule",{value:!0});he.extractRegionFromEndpoint=he.buildMqtt5FinalUsername=he.populate_username_string_with_custom_authorizer=he.is_string_and_not_empty=he.add_to_username_parameter=void 0;var NR=AR(La());function Wa(e,r,t){let n=e;return n.indexOf("?")!=-1?n+="&":n+="?",r.indexOf(t)!=-1?n+r:n+t+r}he.add_to_username_parameter=Wa;function It(e){return e!=null&&typeof e=="string"&&e!=""}he.is_string_and_not_empty=It;function DR(e,r,t,n,s,o,i){let a="";if(e&&(a+=e),It(r)==!1?It(s)&&s&&(a+=s):a+=r,It(t)&&t&&(a=Wa(a,t,"x-amz-customauthorizer-name=")),It(n)&&n&&(a=Wa(a,n,"x-amz-customauthorizer-signature="),(It(o)&&o||It(i)&&i)&&console.log("Warning: Signed custom authorizers with signature will not work without a token key name and token value. Your connection may be rejected/stalled on the IoT Core side due to this. Please set the token key name and token value to connect to a signed custom authorizer.")),It(n)||It(i)||It(o)){if(!i||!o)throw new Error("Token-based custom authentication requires all token-related properties to be set");a=Wa(a,i,o+"=")}return a}he.populate_username_string_with_custom_authorizer=DR;function gl(e,r,t){r&&t.push([e,r])}function vR(e){let r="",t=[];if(e){let n=!1;if((e.tokenValue||e.tokenKeyName||e.tokenSignature)&&(n=!0,!e.tokenValue||!e.tokenKeyName||!e.tokenSignature))throw new Error("Token-based custom authentication requires all token-related properties to be set");let s=e.username,o=(s??"").split("?"),i=o.slice(1);if(r=o[0],i.length>1)throw new Error("Custom auth username property value is invalid");i.length==1&&i[0].split("&").forEach((a,d,l)=>{var c;let u=a.split("=");t.push([u[0],(c=u[1])!==null&&c!==void 0?c:""])}),gl("x-amz-customauthorizer-name",e.authorizerName,t),n&&(gl(e.tokenKeyName,e.tokenValue,t),gl("x-amz-customauthorizer-signature",e.tokenSignature,t))}return t.push(["SDK","NodeJSv2"]),t.push(["Version",NR.crt_version()]),(r??"")+"?"+t.map(n=>`${n[0]}=${n[1]}`).join("&")}he.buildMqtt5FinalUsername=vR;function OR(e){let r=/^[\w\-]+\.[\w\-]+\.([\w+\-]+)\./,t=e.match(r);if(t)return t[1];throw new Error("AWS region could not be extracted from endpoint.  Use 'region' property on WebsocketConfig to set manually.")}he.extractRegionFromEndpoint=OR});var Lh=O(Qe=>{"use strict";var FR=Qe&&Qe.__createBinding||(Object.create?function(e,r,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(r,t);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,n,s)}:function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]}),LR=Qe&&Qe.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),xl=Qe&&Qe.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var t in e)t!=="default"&&Object.prototype.hasOwnProperty.call(e,t)&&FR(r,e,t);return LR(r,e),r},MR=Qe&&Qe.__awaiter||function(e,r,t,n){function s(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function a(c){try{l(n.next(c))}catch(u){i(u)}}function d(c){try{l(n.throw(c))}catch(u){i(u)}}function l(c){c.done?o(c.value):s(c.value).then(a,d)}l((n=n.apply(e,r||[])).next())})};Object.defineProperty(Qe,"__esModule",{value:!0});Qe.AwsIotMqttConnectionConfigBuilder=void 0;var Oh=Ga(),Pr=xl(Bt()),Xn=Bt(),UR=xl(La()),Fh=nt(),yi=Ua(),Cl=xl(_l()),Xe=class{constructor(r){this.tls_ctx_options=r,this.params={client_id:"",host_name:"",socket_options:new Pr.SocketOptions,port:8883,use_websocket:!1,clean_session:!1,keep_alive:void 0,will:void 0,username:"",password:void 0,tls_ctx:void 0,reconnect_min_sec:Oh.DEFAULT_RECONNECT_MIN_SEC,reconnect_max_sec:Oh.DEFAULT_RECONNECT_MAX_SEC},this.is_using_custom_authorizer=!1}static new_mtls_builder_from_path(r,t){let n=new Xe(Xn.TlsContextOptions.create_client_with_mtls_from_path(r,t));return n.params.port=8883,Pr.is_alpn_available()&&n.tls_ctx_options.alpn_list.unshift("x-amzn-mqtt-ca"),n}static new_mtls_builder(r,t){let n=new Xe(Xn.TlsContextOptions.create_client_with_mtls(r,t));return n.params.port=8883,Pr.is_alpn_available()&&n.tls_ctx_options.alpn_list.unshift("x-amzn-mqtt-ca"),n}static new_mtls_pkcs11_builder(r){let t=new Xe(Xn.TlsContextOptions.create_client_with_mtls_pkcs11(r));return t.params.port=8883,Pr.is_alpn_available()&&t.tls_ctx_options.alpn_list.unshift("x-amzn-mqtt-ca"),t}static new_mtls_pkcs12_builder(r){let t=new Xe(Xn.TlsContextOptions.create_client_with_mtls_pkcs12_from_path(r.pkcs12_file,r.pkcs12_password));return t.params.port=8883,Pr.is_alpn_available()&&t.tls_ctx_options.alpn_list.unshift("x-amzn-mqtt-ca"),t}static new_mtls_windows_cert_store_path_builder(r){let t=new Xe(Xn.TlsContextOptions.create_client_with_mtls_windows_cert_store_path(r));return t.params.port=8883,Pr.is_alpn_available()&&t.tls_ctx_options.alpn_list.unshift("x-amzn-mqtt-ca"),t}static new_default_builder(){let r=new Pr.TlsContextOptions;return new Xe(r)}static new_websocket_builder(...r){return this.new_with_websockets(...r)}static configure_websocket_handshake(r,t){if(t){if(r==null||r==null)throw new Fh.CrtError("AwsIotMqttConnectionConfigBuilder configure_websocket_handshake: builder not defined");r.params.websocket_handshake_transform=(n,s)=>MR(this,void 0,void 0,function*(){var o,i,a;let d=(i=(o=t.create_signing_config)===null||o===void 0?void 0:o.call(t))!==null&&i!==void 0?i:{algorithm:yi.AwsSigningAlgorithm.SigV4,signature_type:yi.AwsSignatureType.HttpRequestViaQueryParams,provider:t.credentials_provider,region:t.region,service:(a=t.service)!==null&&a!==void 0?a:"iotdevicegateway",signed_body_value:yi.AwsSignedBodyValue.EmptySha256,omit_session_token:!0};try{yield(0,yi.aws_sign_request)(n,d),s()}catch(l){l instanceof Fh.CrtError?s(l.error_code):s(3)}})}return r}static new_with_websockets(r){let t=r==null?void 0:r.tls_ctx_options;t||(t=new Xn.TlsContextOptions,t.alpn_list=[]);let n=new Xe(t);return n.params.use_websocket=!0,n.params.proxy_options=r==null?void 0:r.proxy_options,n.tls_ctx_options&&(n.params.port=443),this.configure_websocket_handshake(n,r),n}static new_builder_for_websocket(){return this.new_with_websockets()}with_certificate_authority_from_path(r,t){return this.tls_ctx_options.override_default_trust_store_from_path(r,t),this}with_certificate_authority(r){return this.tls_ctx_options.override_default_trust_store(r),this}with_endpoint(r){return this.params.host_name=r,this}with_port(r){return this.params.port=r,this}with_client_id(r){return this.params.client_id=r,this}with_clean_session(r){return this.params.clean_session=r,this}with_keep_alive_seconds(r){return this.params.keep_alive=r,this}with_timeout_ms(r){return this.with_ping_timeout_ms(r),this}with_ping_timeout_ms(r){return this.params.ping_timeout=r,this}with_protocol_operation_timeout_ms(r){return this.params.protocol_operation_timeout=r,this}with_will(r){return this.params.will=r,this}with_socket_options(r){return this.params.socket_options=r,this}with_credentials(r,t,n,s){return Xe.configure_websocket_handshake(this,{credentials_provider:yi.AwsCredentialsProvider.newStatic(t,n,s),region:r,service:"iotdevicegateway"})}with_http_proxy_options(r){return this.params.proxy_options=r,this}with_custom_authorizer(r,t,n,s,o,i){this.is_using_custom_authorizer=!0;let a=Cl.populate_username_string_with_custom_authorizer("",r,t,n,this.params.username,o,i);return this.params.username=a,this.params.password=s,this.params.use_websocket||(this.tls_ctx_options.alpn_list=["mqtt"]),this.params.port=443,this}with_username(r){return this.params.username=r,this}with_password(r){return this.params.password=r,this}with_reconnect_max_sec(r){return this.params.reconnect_max_sec=r,this}with_reconnect_min_sec(r){return this.params.reconnect_min_sec=r,this}build(){var r,t,n;if(this.params.client_id===void 0||this.params.host_name===void 0)throw"client_id and endpoint are required";return this.is_using_custom_authorizer==!1&&Cl.is_string_and_not_empty(this.params.username)&&(((r=this.params.username)===null||r===void 0?void 0:r.indexOf("x-amz-customauthorizer-name="))!=-1||((t=this.params.username)===null||t===void 0?void 0:t.indexOf("x-amz-customauthorizer-signature="))!=-1)&&(this.is_using_custom_authorizer=!0),this.is_using_custom_authorizer==!0&&this.params.port!=443&&console.log("Warning: Attempting to connect to authorizer with unsupported port. Port is not 443..."),this.params.tls_ctx===void 0&&(this.params.tls_ctx=new Pr.ClientTlsContext(this.tls_ctx_options)),Cl.is_string_and_not_empty(this.params.username)==!1?this.params.username="?SDK=NodeJSv2&Version=":((n=this.params.username)===null||n===void 0?void 0:n.indexOf("?"))!=-1?this.params.username+="&SDK=NodeJSv2&Version=":this.params.username+="?SDK=NodeJSv2&Version=",this.params.username+=UR.crt_version(),this.params}};Qe.AwsIotMqttConnectionConfigBuilder=Xe});var Ka=O(Qn=>{"use strict";Object.defineProperty(Qn,"__esModule",{value:!0});Qn.DEFAULT_KEEP_ALIVE=Qn.normalize_payload=void 0;function BR(e){if(e instanceof Buffer||typeof e=="string")return e;if(ArrayBuffer.isView(e)){let r=e;return Buffer.from(r.buffer,r.byteOffset,r.byteLength)}if(e instanceof ArrayBuffer)return Buffer.from(e);if(typeof e=="object")return JSON.stringify(e);if(!e)return"";throw new TypeError("payload parameter must be a string, object, or DataView.")}Qn.normalize_payload=BR;Qn.DEFAULT_KEEP_ALIVE=1200});var Mh=O(Ar=>{"use strict";Object.defineProperty(Ar,"__esModule",{value:!0});Ar.RetryJitterType=Ar.ClientSessionBehavior=void 0;var $R;(function(e){e[e.Default=0]="Default",e[e.Clean=1]="Clean",e[e.RejoinPostSuccess=2]="RejoinPostSuccess",e[e.RejoinAlways=3]="RejoinAlways"})($R=Ar.ClientSessionBehavior||(Ar.ClientSessionBehavior={}));var zR;(function(e){e[e.Default=0]="Default",e[e.None=1]="None",e[e.Full=2]="Full",e[e.Decorrelated=3]="Decorrelated"})(zR=Ar.RetryJitterType||(Ar.RetryJitterType={}))});var Uh=O(U=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0});U.PacketType=U.RetainHandlingType=U.QoS=U.PayloadFormatIndicator=U.isSuccessfulPubackReasonCode=U.PubackReasonCode=U.isSuccessfulUnsubackReasonCode=U.UnsubackReasonCode=U.isSuccessfulSubackReasonCode=U.SubackReasonCode=U.isSuccessfulDisconnectReasonCode=U.DisconnectReasonCode=U.isSuccessfulConnectReasonCode=U.ConnectReasonCode=void 0;var qR;(function(e){e[e.Success=0]="Success",e[e.UnspecifiedError=128]="UnspecifiedError",e[e.MalformedPacket=129]="MalformedPacket",e[e.ProtocolError=130]="ProtocolError",e[e.ImplementationSpecificError=131]="ImplementationSpecificError",e[e.UnsupportedProtocolVersion=132]="UnsupportedProtocolVersion",e[e.ClientIdentifierNotValid=133]="ClientIdentifierNotValid",e[e.BadUsernameOrPassword=134]="BadUsernameOrPassword",e[e.NotAuthorized=135]="NotAuthorized",e[e.ServerUnavailable=136]="ServerUnavailable",e[e.ServerBusy=137]="ServerBusy",e[e.Banned=138]="Banned",e[e.BadAuthenticationMethod=140]="BadAuthenticationMethod",e[e.TopicNameInvalid=144]="TopicNameInvalid",e[e.PacketTooLarge=149]="PacketTooLarge",e[e.QuotaExceeded=151]="QuotaExceeded",e[e.PayloadFormatInvalid=153]="PayloadFormatInvalid",e[e.RetainNotSupported=154]="RetainNotSupported",e[e.QosNotSupported=155]="QosNotSupported",e[e.UseAnotherServer=156]="UseAnotherServer",e[e.ServerMoved=157]="ServerMoved",e[e.ConnectionRateExceeded=159]="ConnectionRateExceeded"})(qR=U.ConnectReasonCode||(U.ConnectReasonCode={}));function jR(e){return e<128}U.isSuccessfulConnectReasonCode=jR;var VR;(function(e){e[e.NormalDisconnection=0]="NormalDisconnection",e[e.DisconnectWithWillMessage=4]="DisconnectWithWillMessage",e[e.UnspecifiedError=128]="UnspecifiedError",e[e.MalformedPacket=129]="MalformedPacket",e[e.ProtocolError=130]="ProtocolError",e[e.ImplementationSpecificError=131]="ImplementationSpecificError",e[e.NotAuthorized=135]="NotAuthorized",e[e.ServerBusy=137]="ServerBusy",e[e.ServerShuttingDown=139]="ServerShuttingDown",e[e.KeepAliveTimeout=141]="KeepAliveTimeout",e[e.SessionTakenOver=142]="SessionTakenOver",e[e.TopicFilterInvalid=143]="TopicFilterInvalid",e[e.TopicNameInvalid=144]="TopicNameInvalid",e[e.ReceiveMaximumExceeded=147]="ReceiveMaximumExceeded",e[e.TopicAliasInvalid=148]="TopicAliasInvalid",e[e.PacketTooLarge=149]="PacketTooLarge",e[e.MessageRateTooHigh=150]="MessageRateTooHigh",e[e.QuotaExceeded=151]="QuotaExceeded",e[e.AdministrativeAction=152]="AdministrativeAction",e[e.PayloadFormatInvalid=153]="PayloadFormatInvalid",e[e.RetainNotSupported=154]="RetainNotSupported",e[e.QosNotSupported=155]="QosNotSupported",e[e.UseAnotherServer=156]="UseAnotherServer",e[e.ServerMoved=157]="ServerMoved",e[e.SharedSubscriptionsNotSupported=158]="SharedSubscriptionsNotSupported",e[e.ConnectionRateExceeded=159]="ConnectionRateExceeded",e[e.MaximumConnectTime=160]="MaximumConnectTime",e[e.SubscriptionIdentifiersNotSupported=161]="SubscriptionIdentifiersNotSupported",e[e.WildcardSubscriptionsNotSupported=162]="WildcardSubscriptionsNotSupported"})(VR=U.DisconnectReasonCode||(U.DisconnectReasonCode={}));function HR(e){return e<128}U.isSuccessfulDisconnectReasonCode=HR;var GR;(function(e){e[e.GrantedQoS0=0]="GrantedQoS0",e[e.GrantedQoS1=1]="GrantedQoS1",e[e.GrantedQoS2=2]="GrantedQoS2",e[e.UnspecifiedError=128]="UnspecifiedError",e[e.ImplementationSpecificError=131]="ImplementationSpecificError",e[e.NotAuthorized=135]="NotAuthorized",e[e.TopicFilterInvalid=143]="TopicFilterInvalid",e[e.PacketIdentifierInUse=145]="PacketIdentifierInUse",e[e.QuotaExceeded=151]="QuotaExceeded",e[e.SharedSubscriptionsNotSupported=158]="SharedSubscriptionsNotSupported",e[e.SubscriptionIdentifiersNotSupported=161]="SubscriptionIdentifiersNotSupported",e[e.WildcardSubscriptionsNotSupported=162]="WildcardSubscriptionsNotSupported"})(GR=U.SubackReasonCode||(U.SubackReasonCode={}));function WR(e){return e<128}U.isSuccessfulSubackReasonCode=WR;var KR;(function(e){e[e.Success=0]="Success",e[e.NoSubscriptionExisted=17]="NoSubscriptionExisted",e[e.UnspecifiedError=128]="UnspecifiedError",e[e.ImplementationSpecificError=131]="ImplementationSpecificError",e[e.NotAuthorized=135]="NotAuthorized",e[e.TopicFilterInvalid=143]="TopicFilterInvalid",e[e.PacketIdentifierInUse=145]="PacketIdentifierInUse"})(KR=U.UnsubackReasonCode||(U.UnsubackReasonCode={}));function YR(e){return e<128}U.isSuccessfulUnsubackReasonCode=YR;var XR;(function(e){e[e.Success=0]="Success",e[e.NoMatchingSubscribers=16]="NoMatchingSubscribers",e[e.UnspecifiedError=128]="UnspecifiedError",e[e.ImplementationSpecificError=131]="ImplementationSpecificError",e[e.NotAuthorized=135]="NotAuthorized",e[e.TopicNameInvalid=144]="TopicNameInvalid",e[e.PacketIdentifierInUse=145]="PacketIdentifierInUse",e[e.QuotaExceeded=151]="QuotaExceeded",e[e.PayloadFormatInvalid=153]="PayloadFormatInvalid"})(XR=U.PubackReasonCode||(U.PubackReasonCode={}));function QR(e){return e<128}U.isSuccessfulPubackReasonCode=QR;var JR;(function(e){e[e.Bytes=0]="Bytes",e[e.Utf8=1]="Utf8"})(JR=U.PayloadFormatIndicator||(U.PayloadFormatIndicator={}));var ZR;(function(e){e[e.AtMostOnce=0]="AtMostOnce",e[e.AtLeastOnce=1]="AtLeastOnce",e[e.ExactlyOnce=2]="ExactlyOnce"})(ZR=U.QoS||(U.QoS={}));var ek;(function(e){e[e.SendOnSubscribe=0]="SendOnSubscribe",e[e.SendOnSubscribeIfNew=1]="SendOnSubscribeIfNew",e[e.DontSend=2]="DontSend"})(ek=U.RetainHandlingType||(U.RetainHandlingType={}));var tk;(function(e){e[e.Connect=1]="Connect",e[e.Connack=2]="Connack",e[e.Publish=3]="Publish",e[e.Puback=4]="Puback",e[e.Pubrec=5]="Pubrec",e[e.Pubrel=6]="Pubrel",e[e.Pubcomp=7]="Pubcomp",e[e.Subscribe=8]="Subscribe",e[e.Suback=9]="Suback",e[e.Unsubscribe=10]="Unsubscribe",e[e.Unsuback=11]="Unsuback",e[e.Pingreq=12]="Pingreq",e[e.Pingresp=13]="Pingresp",e[e.Disconnect=14]="Disconnect",e[e.Auth=15]="Auth"})(tk=U.PacketType||(U.PacketType={}))});var Tl=O(X=>{"use strict";var $h=X&&X.__createBinding||(Object.create?function(e,r,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(r,t);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,n,s)}:function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]}),rk=X&&X.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),zh=X&&X.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var t in e)t!=="default"&&Object.prototype.hasOwnProperty.call(e,t)&&$h(r,e,t);return rk(r,e),r},qh=X&&X.__exportStar||function(e,r){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&$h(r,e,t)},wl=X&&X.__awaiter||function(e,r,t,n){function s(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function a(c){try{l(n.next(c))}catch(u){i(u)}}function d(c){try{l(n.throw(c))}catch(u){i(u)}}function l(c){c.done?o(c.value):s(c.value).then(a,d)}l((n=n.apply(e,r||[])).next())})},nk=X&&X.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(X,"__esModule",{value:!0});X.Mqtt5Client=X.ClientExtendedValidationAndFlowControl=X.ClientOperationQueueBehavior=X.HttpProxyOptions=void 0;var Nr=nk(rt()),sk=fn(),ok=hi(),bl=zh(Bt()),ik=zh(Ka()),Bh=nt(),ak=Ha();Object.defineProperty(X,"HttpProxyOptions",{enumerable:!0,get:function(){return ak.HttpProxyOptions}});qh(Mh(),X);qh(Uh(),X);var ck;(function(e){e[e.Default=0]="Default",e[e.FailNonQos1PublishOnDisconnect=1]="FailNonQos1PublishOnDisconnect",e[e.FailQos0PublishOnDisconnect=2]="FailQos0PublishOnDisconnect",e[e.FailAllOnDisconnect=3]="FailAllOnDisconnect"})(ck=X.ClientOperationQueueBehavior||(X.ClientOperationQueueBehavior={}));var dk;(function(e){e[e.None=0]="None",e[e.AwsIotCoreDefaults=1]="AwsIotCoreDefaults"})(dk=X.ClientExtendedValidationAndFlowControl||(X.ClientExtendedValidationAndFlowControl={}));var Y=class extends(0,sk.NativeResourceMixin)(ok.BufferedEventEmitter){constructor(r){super(),this._super(Nr.default.mqtt5_client_new(this,r,t=>{Y._s_on_stopped(t)},t=>{Y._s_on_attempting_connect(t)},(t,n,s)=>{Y._s_on_connection_success(t,n,s)},(t,n,s)=>{Y._s_on_connection_failure(t,new Bh.CrtError(n),s)},(t,n,s)=>{Y._s_on_disconnection(t,new Bh.CrtError(n),s)},(t,n)=>{Y._s_on_message_received(t,n)},r.clientBootstrap?r.clientBootstrap.native_handle():null,r.socketOptions?r.socketOptions.native_handle():null,r.tlsCtx?r.tlsCtx.native_handle():null,r.httpProxyOptions?r.httpProxyOptions.create_native_handle():null))}close(){Nr.default.mqtt5_client_close(this.native_handle())}start(){Nr.default.mqtt5_client_start(this.native_handle())}stop(r){Nr.default.mqtt5_client_stop(this.native_handle(),r)}subscribe(r){return wl(this,void 0,void 0,function*(){return new Promise((t,n)=>{function s(o,i,a){return Y._s_on_suback_callback(t,n,o,i,a)}try{Nr.default.mqtt5_client_subscribe(this.native_handle(),r,s)}catch(o){n(o)}})})}unsubscribe(r){return wl(this,void 0,void 0,function*(){return new Promise((t,n)=>{function s(o,i,a){return Y._s_on_unsuback_callback(t,n,o,i,a)}try{Nr.default.mqtt5_client_unsubscribe(this.native_handle(),r,s)}catch(o){n(o)}})})}publish(r){return wl(this,void 0,void 0,function*(){return new Promise((t,n)=>{r&&r.payload&&(r.payload=ik.normalize_payload(r.payload));function s(o,i,a){return Y._s_on_puback_callback(t,n,o,i,a)}try{Nr.default.mqtt5_client_publish(this.native_handle(),r,s)}catch(o){n(o)}})})}getQueueStatistics(){return Nr.default.mqtt5_client_get_queue_statistics(this.native_handle())}on(r,t){return super.on(r,t),this}static _s_on_stopped(r){process.nextTick(()=>{let t={};r.emit(Y.STOPPED,t)})}static _s_on_attempting_connect(r){process.nextTick(()=>{let t={};r.emit(Y.ATTEMPTING_CONNECT,t)})}static _s_on_connection_success(r,t,n){let s={connack:t,settings:n};process.nextTick(()=>{r.emit(Y.CONNECTION_SUCCESS,s)})}static _s_on_connection_failure(r,t,n){let s={error:t};n!=null&&(s.connack=n),process.nextTick(()=>{r.emit(Y.CONNECTION_FAILURE,s)})}static _s_on_disconnection(r,t,n){let s={error:t};n!=null&&(s.disconnect=n),process.nextTick(()=>{r.emit(Y.DISCONNECTION,s)})}static _s_on_suback_callback(r,t,n,s,o){s==0&&o!==void 0?r(o):t(bl.error_code_to_string(s))}static _s_on_unsuback_callback(r,t,n,s,o){s==0&&o!==void 0?r(o):t(bl.error_code_to_string(s))}static _s_on_puback_callback(r,t,n,s,o){s==0?r(o):t(bl.error_code_to_string(s))}static _s_on_message_received(r,t){let n={message:t};process.nextTick(()=>{r.emit(Y.MESSAGE_RECEIVED,n)})}};X.Mqtt5Client=Y;Y.ERROR="error";Y.MESSAGE_RECEIVED="messageReceived";Y.ATTEMPTING_CONNECT="attemptingConnect";Y.CONNECTION_SUCCESS="connectionSuccess";Y.CONNECTION_FAILURE="connectionFailure";Y.DISCONNECTION="disconnection";Y.STOPPED="stopped"});var Hh=O(Je=>{"use strict";var lk=Je&&Je.__createBinding||(Object.create?function(e,r,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(r,t);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,n,s)}:function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]}),mk=Je&&Je.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),Si=Je&&Je.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var t in e)t!=="default"&&Object.prototype.hasOwnProperty.call(e,t)&&lk(r,e,t);return mk(r,e),r},jh=Je&&Je.__awaiter||function(e,r,t,n){function s(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function a(c){try{l(n.next(c))}catch(u){i(u)}}function d(c){try{l(n.throw(c))}catch(u){i(u)}}function l(c){c.done?o(c.value):s(c.value).then(a,d)}l((n=n.apply(e,r||[])).next())})};Object.defineProperty(Je,"__esModule",{value:!0});Je.AwsIotMqtt5ClientConfigBuilder=void 0;var uk=Si(Tl()),Fe=Si(Bt()),Ei=Si(Ua()),fk=nt(),Vh=Si(_l()),pk=Si(Ka()),ie=class{constructor(r,t,n){this.tlsContextOptions=n,this.config={hostName:r,port:t,connectProperties:{keepAliveIntervalSeconds:pk.DEFAULT_KEEP_ALIVE},extendedValidationAndFlowControlOptions:uk.ClientExtendedValidationAndFlowControl.AwsIotCoreDefaults}}static newDirectMqttBuilderWithMtlsFromPath(r,t,n){let s=new ie(r,ie.DEFAULT_DIRECT_MQTT_PORT,Fe.TlsContextOptions.create_client_with_mtls_from_path(t,n));return Fe.is_alpn_available()&&s.tlsContextOptions.alpn_list.unshift("x-amzn-mqtt-ca"),s}static newDirectMqttBuilderWithMtlsFromMemory(r,t,n){let s=new ie(r,ie.DEFAULT_DIRECT_MQTT_PORT,Fe.TlsContextOptions.create_client_with_mtls(t,n));return Fe.is_alpn_available()&&s.tlsContextOptions.alpn_list.unshift("x-amzn-mqtt-ca"),s}static newDirectMqttBuilderWithMtlsFromPkcs11(r,t){let n=new ie(r,ie.DEFAULT_DIRECT_MQTT_PORT,Fe.TlsContextOptions.create_client_with_mtls_pkcs11(t));return Fe.is_alpn_available()&&n.tlsContextOptions.alpn_list.unshift("x-amzn-mqtt-ca"),n}static newDirectMqttBuilderWithMtlsFromPkcs12(r,t){let n=new ie(r,ie.DEFAULT_DIRECT_MQTT_PORT,Fe.TlsContextOptions.create_client_with_mtls_pkcs12_from_path(t.pkcs12_file,t.pkcs12_password));return Fe.is_alpn_available()&&n.tlsContextOptions.alpn_list.unshift("x-amzn-mqtt-ca"),n}static newDirectMqttBuilderWithMtlsFromWindowsCertStorePath(r,t){let n=new ie(r,ie.DEFAULT_DIRECT_MQTT_PORT,Fe.TlsContextOptions.create_client_with_mtls_windows_cert_store_path(t));return Fe.is_alpn_available()&&n.tlsContextOptions.alpn_list.unshift("x-amzn-mqtt-ca"),n}static newDirectMqttBuilderWithCustomAuth(r,t){let n=new ie(r,ie.DEFAULT_WEBSOCKET_MQTT_PORT,new Fe.TlsContextOptions);return n.customAuthConfig=t,n.tlsContextOptions.alpn_list=["mqtt"],n}static newWebsocketMqttBuilderWithSigv4Auth(r,t){let n=new Fe.TlsContextOptions;n.alpn_list=[];let s=new ie(r,ie.DEFAULT_WEBSOCKET_MQTT_PORT,n),o=t==null?void 0:t.credentialsProvider;return o||(o=Ei.AwsCredentialsProvider.newDefault()),s.config.websocketHandshakeTransform=(i,a)=>jh(this,void 0,void 0,function*(){var d;try{let l={algorithm:Ei.AwsSigningAlgorithm.SigV4,signature_type:Ei.AwsSignatureType.HttpRequestViaQueryParams,provider:o,region:(d=t==null?void 0:t.region)!==null&&d!==void 0?d:Vh.extractRegionFromEndpoint(r),service:"iotdevicegateway",signed_body_value:Ei.AwsSignedBodyValue.EmptySha256,omit_session_token:!0};yield Ei.aws_sign_request(i,l),a()}catch(l){l instanceof fk.CrtError?a(l.error_code):a(3)}}),s}static newWebsocketMqttBuilderWithCustomAuth(r,t){let n=new ie(r,ie.DEFAULT_WEBSOCKET_MQTT_PORT,new Fe.TlsContextOptions);return n.customAuthConfig=t,n.config.websocketHandshakeTransform=(s,o)=>jh(this,void 0,void 0,function*(){o(0)}),n}withCertificateAuthorityFromPath(r,t){return this.tlsContextOptions.override_default_trust_store_from_path(r,t),this}withCertificateAuthority(r){return this.tlsContextOptions.override_default_trust_store(r),this}withPort(r){return this.config.port=r,this}withConnectProperties(r){return this.config.connectProperties=r,this}withSessionBehavior(r){return this.config.sessionBehavior=r,this}withRetryJitterMode(r){return this.config.retryJitterMode=r,this}withMinReconnectDelayMs(r){return this.config.minReconnectDelayMs=r,this}withMaxReconnectDelayMs(r){return this.config.maxReconnectDelayMs=r,this}withMinConnectedTimeToResetReconnectDelayMs(r){return this.config.minConnectedTimeToResetReconnectDelayMs=r,this}withConnackTimeoutMs(r){return this.config.connackTimeoutMs=r,this}withOfflineQueueBehavior(r){return this.config.offlineQueueBehavior=r,this}withPingTimeoutMs(r){return this.config.pingTimeoutMs=r,this}withAckTimeoutSeconds(r){return this.config.ackTimeoutSeconds=r,this}withSocketOptions(r){return this.config.socketOptions=r,this}withHttpProxyOptions(r){return this.config.httpProxyOptions=r,this}withExtendedValidationAndFlowControlOptions(r){return this.config.extendedValidationAndFlowControlOptions=r,this}build(){var r,t;return this.config.tlsCtx===void 0&&(this.config.tlsCtx=new Fe.ClientTlsContext(this.tlsContextOptions)),this.config.connectProperties&&(this.config.connectProperties.username=Vh.buildMqtt5FinalUsername(this.customAuthConfig),!((r=this.customAuthConfig)===null||r===void 0)&&r.password&&(this.config.connectProperties.password=(t=this.customAuthConfig)===null||t===void 0?void 0:t.password)),this.config}};Je.AwsIotMqtt5ClientConfigBuilder=ie;ie.DEFAULT_WEBSOCKET_MQTT_PORT=443;ie.DEFAULT_DIRECT_MQTT_PORT=8883});var Wh=O(Dr=>{"use strict";var hk=Dr&&Dr.__createBinding||(Object.create?function(e,r,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(r,t);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,n,s)}:function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]}),Gh=Dr&&Dr.__exportStar||function(e,r){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&hk(r,e,t)};Object.defineProperty(Dr,"__esModule",{value:!0});Gh(Lh(),Dr);Gh(Hh(),Dr)});var Zh=O(ae=>{"use strict";var yk=ae&&ae.__createBinding||(Object.create?function(e,r,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(r,t);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,n,s)}:function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]}),Ek=ae&&ae.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),Xh=ae&&ae.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var t in e)t!=="default"&&Object.prototype.hasOwnProperty.call(e,t)&&yk(r,e,t);return Ek(r,e),r},Jn=ae&&ae.__awaiter||function(e,r,t,n){function s(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function a(c){try{l(n.next(c))}catch(u){i(u)}}function d(c){try{l(n.throw(c))}catch(u){i(u)}}function l(c){c.done?o(c.value):s(c.value).then(a,d)}l((n=n.apply(e,r||[])).next())})},Sk=ae&&ae.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ae,"__esModule",{value:!0});ae.MqttClientConnection=ae.MqttClient=ae.MqttWill=ae.QoS=ae.HttpProxyOptions=void 0;var at=Sk(rt()),Qh=fn(),gk=hi(),Kh=Xh(Ka()),Zn=nt(),Ya=Xh(Bt()),_k=Ha();Object.defineProperty(ae,"HttpProxyOptions",{enumerable:!0,get:function(){return _k.HttpProxyOptions}});var Yh=Ga(),Jh=Ga();Object.defineProperty(ae,"QoS",{enumerable:!0,get:function(){return Jh.QoS}});Object.defineProperty(ae,"MqttWill",{enumerable:!0,get:function(){return Jh.MqttWill}});var Il=class extends Qh.NativeResource{constructor(r=void 0){super(at.default.mqtt_client_new(r!=null?r.native_handle():null)),this.bootstrap=r}new_connection(r){return new Rt(this,r)}};ae.MqttClient=Il;var Rt=class extends(0,Qh.NativeResourceMixin)(gk.BufferedEventEmitter){constructor(r,t){if(super(),this.client=r,this.config=t,t==null||t==null)throw new Zn.CrtError("MqttClientConnection constructor: config not defined");let n=t.will?{topic:t.will.topic,qos:t.will.qos,payload:Kh.normalize_payload(t.will.payload),retain:t.will.retain}:void 0;var s=Yh.DEFAULT_RECONNECT_MIN_SEC,o=Yh.DEFAULT_RECONNECT_MAX_SEC;if(t.reconnect_min_sec&&(s=t.reconnect_min_sec,o=Math.max(s,o)),t.reconnect_max_sec&&(o=t.reconnect_max_sec,s=Math.min(s,o)),r==null||r==null)throw new Zn.CrtError("MqttClientConnection constructor: client not defined");if(t.socket_options==null||t.socket_options==null)throw new Zn.CrtError("MqttClientConnection constructor: socket_options in configuration not defined");this._super(at.default.mqtt_client_connection_new(r.native_handle(),i=>{this._on_connection_interrupted(i)},(i,a)=>{this._on_connection_resumed(i,a)},t.tls_ctx?t.tls_ctx.native_handle():null,n,t.username,t.password,t.use_websocket,t.proxy_options?t.proxy_options.create_native_handle():void 0,t.websocket_handshake_transform,s,o)),this.tls_ctx=t.tls_ctx,at.default.mqtt_client_connection_on_message(this.native_handle(),this._on_any_publish.bind(this)),this.on("error",i=>{})}close(){at.default.mqtt_client_connection_close(this.native_handle())}on(r,t){return super.on(r,t),r=="connect"&&process.nextTick(()=>{this.uncork()}),this}connect(){return Jn(this,void 0,void 0,function*(){return new Promise((r,t)=>{if(t=this._reject(t),this.config.socket_options==null||this.config.socket_options==null)throw new Zn.CrtError("MqttClientConnection connect: socket_options in configuration not defined");try{at.default.mqtt_client_connection_connect(this.native_handle(),this.config.client_id,this.config.host_name,this.config.port,this.config.socket_options.native_handle(),this.config.keep_alive,this.config.ping_timeout,this.config.protocol_operation_timeout,this.config.clean_session,this._on_connect_callback.bind(this,r,t))}catch(n){t(n)}})})}reconnect(){return Jn(this,void 0,void 0,function*(){return new Promise((r,t)=>{t=this._reject(t);try{at.default.mqtt_client_connection_reconnect(this.native_handle(),this._on_connect_callback.bind(this,r,t))}catch(n){t(n)}})})}publish(r,t,n,s=!1){return Jn(this,void 0,void 0,function*(){return typeof r!="string"?Promise.reject("topic is not a string"):typeof n!="number"?Promise.reject("qos is not a number"):typeof s!="boolean"?Promise.reject("retain is not a boolean"):new Promise((o,i)=>{i=this._reject(i);try{at.default.mqtt_client_connection_publish(this.native_handle(),r,Kh.normalize_payload(t),n,s,this._on_puback_callback.bind(this,o,i))}catch(a){i(a)}})})}subscribe(r,t,n){return Jn(this,void 0,void 0,function*(){return typeof r!="string"?Promise.reject("topic is not a string"):typeof t!="number"?Promise.reject("qos is not a number"):new Promise((s,o)=>{o=this._reject(o);try{at.default.mqtt_client_connection_subscribe(this.native_handle(),r,t,n,this._on_suback_callback.bind(this,s,o))}catch(i){o(i)}})})}unsubscribe(r){return Jn(this,void 0,void 0,function*(){return typeof r!="string"?Promise.reject("topic is not a string"):new Promise((t,n)=>{n=this._reject(n);try{at.default.mqtt_client_connection_unsubscribe(this.native_handle(),r,this._on_unsuback_callback.bind(this,t,n))}catch(s){n(s)}})})}disconnect(){return Jn(this,void 0,void 0,function*(){return new Promise((r,t)=>{t=this._reject(t);try{at.default.mqtt_client_connection_disconnect(this.native_handle(),this._on_disconnect_callback.bind(this,r))}catch(n){t(n)}})})}getQueueStatistics(){return at.default.mqtt_client_connection_get_queue_statistics(this.native_handle())}_reject(r){return t=>{r(t),process.nextTick(()=>{this.emit("error",new Zn.CrtError(t))})}}_on_connection_interrupted(r){this.emit("interrupt",new Zn.CrtError(r))}_on_connection_resumed(r,t){this.emit("resume",r,t)}_on_any_publish(r,t,n,s,o){this.emit("message",r,t,n,s,o)}_on_connect_callback(r,t,n,s,o){n==0&&s==0?(r(o),this.emit("connect",o)):n!=0?t("Failed to connect: "+Ya.error_code_to_string(n)):t("Server rejected connection.")}_on_puback_callback(r,t,n,s){s==0?r({packet_id:n}):t("Failed to publish: "+Ya.error_code_to_string(s))}_on_suback_callback(r,t,n,s,o,i){i==0?r({packet_id:n,topic:s,qos:o,error_code:i}):t("Failed to subscribe: "+Ya.error_code_to_string(i))}_on_unsuback_callback(r,t,n,s){s==0?r({packet_id:n}):t("Failed to unsubscribe: "+Ya.error_code_to_string(s))}_on_disconnect_callback(r){r(),this.emit("disconnect"),this.close()}};ae.MqttClientConnection=Rt;Rt.CONNECT="connect";Rt.DISCONNECT="disconnect";Rt.ERROR="error";Rt.INTERRUPT="interrupt";Rt.RESUME="resume";Rt.MESSAGE="message"});var ey=O(B=>{"use strict";var Ck=B&&B.__createBinding||(Object.create?function(e,r,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(r,t);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,n,s)}:function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]}),xk=B&&B.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),Le=B&&B.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var t in e)t!=="default"&&Object.prototype.hasOwnProperty.call(e,t)&&Ck(r,e,t);return xk(r,e),r};Object.defineProperty(B,"__esModule",{value:!0});B.CrtError=B.resource_safety=B.promise=B.platform=B.mqtt5=B.mqtt=B.iot=B.io=B.http=B.eventstream=B.crt=B.crypto=B.checksums=B.cancel=B.auth=void 0;var wk=Le(oh());B.cancel=wk;var bk=Le(La());B.platform=bk;var Tk=Le(Fa());B.promise=Tk;var Ik=Le(dh());B.resource_safety=Ik;var Rk=Le(Ua());B.auth=Rk;var kk=Le(gh());B.checksums=kk;var Pk=Le(Ch());B.crt=Pk;var Ak=Le(wh());B.crypto=Ak;var Nk=Le(Ph());B.eventstream=Nk;var Dk=Le(Ha());B.http=Dk;var vk=Le(Bt());B.io=vk;var Ok=Le(Wh());B.iot=Ok;var Fk=Le(Zh());B.mqtt=Fk;var Lk=Le(Tl());B.mqtt5=Lk;var Mk=nt();Object.defineProperty(B,"CrtError",{enumerable:!0,get:function(){return Mk.CrtError}})});var Ht;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(Ht||(Ht={}));var Cn=(e,r,t)=>{if(r in e){if(e[r]==="true")return!0;if(e[r]==="false")return!1;throw new Error(`Cannot load ${t} "${r}". Expected "true" or "false", got ${e[r]}.`)}};var eC="AWS_USE_DUALSTACK_ENDPOINT",tC="use_dualstack_endpoint";var Gt={environmentVariableSelector:e=>Cn(e,eC,Ht.ENV),configFileSelector:e=>Cn(e,tC,Ht.CONFIG),default:!1};var rC="AWS_USE_FIPS_ENDPOINT",nC="use_fips_endpoint";var Wt={environmentVariableSelector:e=>Cn(e,rC,Ht.ENV),configFileSelector:e=>Cn(e,nC,Ht.CONFIG),default:!1};sn();sn();var sC="AWS_REGION",oC="region",ut={environmentVariableSelector:e=>e[sC],configFileSelector:e=>e[oC],default:()=>{throw new Error("Region is missing")}},Kt={preferredFile:"credentials"};var Li=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips"));var ac=e=>Li(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e;var Yt=e=>{let{region:r,useFipsEndpoint:t}=e;if(!r)throw new Error("Region is missing");return{...e,region:async()=>{if(typeof r=="string")return ac(r);let n=await r();return ac(n)},useFipsEndpoint:async()=>{let n=typeof r=="string"?r:await r();return Li(n)?!0:typeof t!="function"?Promise.resolve(!!t):t()}}};var cc;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(cc||(cc={}));var se=class{constructor(r){this.method=r.method||"GET",this.hostname=r.hostname||"localhost",this.port=r.port,this.query=r.query||{},this.headers=r.headers||{},this.body=r.body,this.protocol=r.protocol?r.protocol.slice(-1)!==":"?`${r.protocol}:`:r.protocol:"https:",this.path=r.path?r.path.charAt(0)!=="/"?`/${r.path}`:r.path:"/"}static isInstance(r){if(!r)return!1;let t=r;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&typeof t.query=="object"&&typeof t.headers=="object"}clone(){let r=new se({...this,headers:{...this.headers}});return r.query&&(r.query=iC(r.query)),r}};function iC(e){return Object.keys(e).reduce((r,t)=>{let n=e[t];return{...r,[t]:Array.isArray(n)?[...n]:n}},{})}var tt=class{constructor(r){this.statusCode=r.statusCode,this.headers=r.headers||{},this.body=r.body}static isInstance(r){if(!r)return!1;let t=r;return typeof t.statusCode=="number"&&typeof t.headers=="object"}};var Yl="content-length";function aC(e){return r=>async t=>{let n=t.request;if(se.isInstance(n)){let{body:s,headers:o}=n;if(s&&Object.keys(o).map(i=>i.toLowerCase()).indexOf(Yl)===-1)try{let i=e(s);n.headers={...n.headers,[Yl]:String(i)}}catch{}}return r({...t,request:n})}}var cC={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},Xt=e=>({applyToStack:r=>{r.add(aC(e.bodyLengthChecker),cC)}});var Xl=async e=>{let r=(e==null?void 0:e.Bucket)||"";if(typeof e.Bucket=="string"&&(e.Bucket=r.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),fC(r)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!uC(r)||r.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||r.toLowerCase()!==r||r.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},dC=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,lC=/(\d+\.){3}\d+/,mC=/\.\./;var uC=e=>dC.test(e)&&!lC.test(e)&&!mC.test(e),fC=e=>{let[r,t,n,s,o,i]=e.split(":"),a=r==="arn"&&e.split(":").length>=6,d=[r,t,n,o,i].filter(Boolean).length===5;if(a&&!d)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return r==="arn"&&!!t&&!!n&&!!o&&!!i};var Ql=(e,r,t)=>{let n=async()=>{let s=t[e]??t[r];return typeof s=="function"?s():s};return e==="endpoint"||r==="endpoint"?async()=>{let s=await n();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){let{protocol:o,hostname:i,port:a,path:d}=s;return`${o}//${i}${a?":"+a:""}${d}`}}return s}:n};var Jl=async(e,r,t,n)=>{let s=await pC(e,r,t);if(typeof t.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return t.endpointProvider(s,n)},pC=async(e,r,t)=>{var o;let n={},s=((o=r==null?void 0:r.getEndpointParameterInstructions)==null?void 0:o.call(r))||{};for(let[i,a]of Object.entries(s))switch(a.type){case"staticContextParams":n[i]=a.value;break;case"contextParams":n[i]=e[a.name];break;case"clientContextParams":case"builtInParams":n[i]=await Ql(a.name,i,t)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(s).length===0&&Object.assign(n,t),String(t.serviceId).toLowerCase()==="s3"&&await Xl(n),n};em();var Pe=e=>{if(typeof e=="string")return Pe(new URL(e));let{hostname:r,pathname:t,port:n,protocol:s,search:o}=e,i;return o&&(i=Zl(o)),{hostname:r,port:n?parseInt(n):void 0,protocol:s,path:t,query:i}};var tm=e=>typeof e=="object"?"url"in e?Pe(e.url):e:Pe(e);var rm=({config:e,instructions:r})=>(t,n)=>async s=>{var a,d;let o=await Jl(s.input,{getEndpointParameterInstructions(){return r}},{...e},n);n.endpointV2=o,n.authSchemes=(a=o.properties)==null?void 0:a.authSchemes;let i=(d=n.authSchemes)==null?void 0:d[0];return i&&(n.signing_region=i.signingRegion,n.signing_service=i.signingName),t({...s})};var nm=(e,r)=>(t,n)=>async s=>{let{response:o}=await t(s);try{let i=await r(o,e);return{response:o,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:o}),!("$metadata"in i)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";i.message+=`
  `+a}throw i}};var sm=(e,r)=>(t,n)=>async s=>{var a;let o=(a=n.endpointV2)!=null&&a.url&&e.urlParser?async()=>e.urlParser(n.endpointV2.url):e.endpoint;if(!o)throw new Error("No valid endpoint provider available.");let i=await r(s.input,{...e,endpoint:o});return t({...s,request:i})};var hC={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},dc={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function h(e,r,t){return{applyToStack:n=>{n.add(nm(e,t),hC),n.add(sm(e,r),dc)}}}var yC={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:dc.name},y=(e,r)=>({applyToStack:t=>{t.addRelativeTo(rm({config:e,instructions:r}),yC)}});sn();var Qt=e=>{let r=e.tls??!0,{endpoint:t}=e,n=t!=null?async()=>tm(await Ee(t)()):void 0;return{...e,endpoint:n,tls:r,isCustomEndpoint:!!t,useDualstackEndpoint:Ee(e.useDualstackEndpoint??!1),useFipsEndpoint:Ee(e.useFipsEndpoint??!1)}};var EC=e=>r=>async t=>{if(!se.isInstance(t.request))return r(t);let{request:n}=t,{handlerProtocol:s=""}=e.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]="";else if(!n.headers.host){let o=n.hostname;n.port!=null&&(o+=`:${n.port}`),n.headers.host=o}return r(t)},SC={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Jt=e=>({applyToStack:r=>{r.add(EC(e),SC)}});var gC=()=>(e,r)=>async t=>{var n,s;try{let o=await e(t),{clientName:i,commandName:a,logger:d,dynamoDbDocumentClientOptions:l={}}=r,{overrideInputFilterSensitiveLog:c,overrideOutputFilterSensitiveLog:u}=l,f=c??r.inputFilterSensitiveLog,E=u??r.outputFilterSensitiveLog,{$metadata:S,...C}=o.output;return(n=d==null?void 0:d.info)==null||n.call(d,{clientName:i,commandName:a,input:f(t.input),output:E(C),metadata:S}),o}catch(o){let{clientName:i,commandName:a,logger:d,dynamoDbDocumentClientOptions:l={}}=r,{overrideInputFilterSensitiveLog:c}=l,u=c??r.inputFilterSensitiveLog;throw(s=d==null?void 0:d.error)==null||s.call(d,{clientName:i,commandName:a,input:u(t.input),error:o,metadata:o.$metadata}),o}},_C={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},Zt=e=>({applyToStack:r=>{r.add(gC(),_C)}});var om="X-Amzn-Trace-Id",CC="AWS_LAMBDA_FUNCTION_NAME",xC="_X_AMZN_TRACE_ID",wC=e=>r=>async t=>{let{request:n}=t;if(!se.isInstance(n)||e.runtime!=="node"||n.headers.hasOwnProperty(om))return r(t);let s=process.env[CC],o=process.env[xC],i=a=>typeof a=="string"&&a.length>0;return i(s)&&i(o)&&(n.headers[om]=o),r({...t,request:n})},bC={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},er=e=>({applyToStack:r=>{r.add(wC(e),bC)}});var qe;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(qe||(qe={}));var tr=3,ft=qe.STANDARD;var im=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],am=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],cm=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],dm=[500,502,503,504],lm=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"];var mm=e=>e.$retryable!==void 0,um=e=>im.includes(e.name),rr=e=>{var r,t;return((r=e.$metadata)==null?void 0:r.httpStatusCode)===429||am.includes(e.name)||((t=e.$retryable)==null?void 0:t.throttling)==!0},jo=e=>{var r;return cm.includes(e.name)||lm.includes((e==null?void 0:e.code)||"")||dm.includes(((r=e.$metadata)==null?void 0:r.httpStatusCode)||0)},fm=e=>{var r;if(((r=e.$metadata)==null?void 0:r.httpStatusCode)!==void 0){let t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!jo(e)}return!1};var Vo=class{constructor(r){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=(r==null?void 0:r.beta)??.7,this.minCapacity=(r==null?void 0:r.minCapacity)??1,this.minFillRate=(r==null?void 0:r.minFillRate)??.5,this.scaleConstant=(r==null?void 0:r.scaleConstant)??.4,this.smooth=(r==null?void 0:r.smooth)??.8;let t=this.getCurrentTimeInSeconds();this.lastThrottleTime=t,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(r){if(this.enabled){if(this.refillTokenBucket(),r>this.currentCapacity){let t=(r-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>setTimeout(n,t))}this.currentCapacity=this.currentCapacity-r}}refillTokenBucket(){let r=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=r;return}let t=(r-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+t),this.lastTimestamp=r}updateClientSendingRate(r){let t;if(this.updateMeasuredRate(),rr(r)){let s=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=s,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),t=this.cubicThrottle(s),this.enableTokenBucket()}else this.calculateTimeWindow(),t=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(t,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(r){return this.getPrecise(r*this.beta)}cubicSuccess(r){return this.getPrecise(this.scaleConstant*Math.pow(r-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(r){this.refillTokenBucket(),this.fillRate=Math.max(r,this.minFillRate),this.maxCapacity=Math.max(r,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let r=this.getCurrentTimeInSeconds(),t=Math.floor(r*2)/2;if(this.requestCount++,t>this.lastTxRateBucket){let n=this.requestCount/(t-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=t}}getPrecise(r){return parseFloat(r.toFixed(8))}};var xn="amz-sdk-invocation-id",wn="amz-sdk-request";var pm=()=>{let e=100;return{computeNextBackoffDelay:n=>Math.floor(Math.min(2e4,Math.random()*2**n*e)),setDelayBase:n=>{e=n}}};var lc=({retryDelay:e,retryCount:r,retryCost:t})=>({getRetryCount:()=>r,getRetryDelay:()=>Math.min(2e4,e),getRetryCost:()=>t});var an=class{constructor(r){this.maxAttempts=r,this.mode=qe.STANDARD,this.capacity=500,this.retryBackoffStrategy=pm(),this.maxAttemptsProvider=typeof r=="function"?r:async()=>r}async acquireInitialRetryToken(r){return lc({retryDelay:100,retryCount:0})}async refreshRetryTokenForRetry(r,t){let n=await this.getMaxAttempts();if(this.shouldRetry(r,t,n)){let s=t.errorType;this.retryBackoffStrategy.setDelayBase(s==="THROTTLING"?500:100);let o=this.retryBackoffStrategy.computeNextBackoffDelay(r.getRetryCount()),i=t.retryAfterHint?Math.max(t.retryAfterHint.getTime()-Date.now()||0,o):o,a=this.getCapacityCost(s);return this.capacity-=a,lc({retryDelay:i,retryCount:r.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(r){this.capacity=Math.max(500,this.capacity+(r.getRetryCost()??1))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${tr}`),tr}}shouldRetry(r,t,n){return r.getRetryCount()<n&&this.capacity>=this.getCapacityCost(t.errorType)&&this.isRetryableError(t.errorType)}getCapacityCost(r){return r==="TRANSIENT"?10:5}isRetryableError(r){return r==="THROTTLING"||r==="TRANSIENT"}};var Ui=class{constructor(r,t){this.maxAttemptsProvider=r,this.mode=qe.ADAPTIVE;let{rateLimiter:n}=t??{};this.rateLimiter=n??new Vo,this.standardRetryStrategy=new an(r)}async acquireInitialRetryToken(r){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(r)}async refreshRetryTokenForRetry(r,t){return this.rateLimiter.updateClientSendingRate(t),this.standardRetryStrategy.refreshRetryTokenForRetry(r,t)}recordSuccess(r){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(r)}};ji();var vm=(e,r)=>{let t=e,n=(r==null?void 0:r.noRetryIncrement)??1,s=(r==null?void 0:r.retryCost)??5,o=(r==null?void 0:r.timeoutRetryCost)??10,i=e,a=u=>u.name==="TimeoutError"?o:s,d=u=>a(u)<=i;return Object.freeze({hasRetryTokens:d,retrieveRetryTokens:u=>{if(!d(u))throw new Error("No retry token available");let f=a(u);return i-=f,f},releaseRetryTokens:u=>{i+=u??n,i=Math.min(i,t)}})};var Om=(e,r)=>Math.floor(Math.min(2e4,Math.random()*2**r*e));var Fm=e=>e?mm(e)||um(e)||rr(e)||jo(e):!1;var Vi=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`);var Cc=class{constructor(r,t){this.maxAttemptsProvider=r,this.mode=qe.STANDARD,this.retryDecider=(t==null?void 0:t.retryDecider)??Fm,this.delayDecider=(t==null?void 0:t.delayDecider)??Om,this.retryQuota=(t==null?void 0:t.retryQuota)??vm(500)}shouldRetry(r,t,n){return t<n&&this.retryDecider(r)&&this.retryQuota.hasRetryTokens(r)}async getMaxAttempts(){let r;try{r=await this.maxAttemptsProvider()}catch{r=tr}return r}async retry(r,t,n){let s,o=0,i=0,a=await this.getMaxAttempts(),{request:d}=t;for(se.isInstance(d)&&(d.headers[xn]=Ae());;)try{se.isInstance(d)&&(d.headers[wn]=`attempt=${o+1}; max=${a}`),n!=null&&n.beforeRequest&&await n.beforeRequest();let{response:l,output:c}=await r(t);return n!=null&&n.afterRequest&&n.afterRequest(l),this.retryQuota.releaseRetryTokens(s),c.$metadata.attempts=o+1,c.$metadata.totalRetryDelay=i,{response:l,output:c}}catch(l){let c=Vi(l);if(o++,this.shouldRetry(c,o,a)){s=this.retryQuota.retrieveRetryTokens(c);let u=this.delayDecider(rr(c)?500:100,o),f=qC(c.$response),E=Math.max(f||0,u);i+=E,await new Promise(S=>setTimeout(S,E));continue}throw c.$metadata||(c.$metadata={}),c.$metadata.attempts=o,c.$metadata.totalRetryDelay=i,c}}},qC=e=>{if(!tt.isInstance(e))return;let r=Object.keys(e.headers).find(o=>o.toLowerCase()==="retry-after");if(!r)return;let t=e.headers[r],n=Number(t);return Number.isNaN(n)?new Date(t).getTime()-Date.now():n*1e3};sn();var Lm="AWS_MAX_ATTEMPTS",Mm="max_attempts",or={environmentVariableSelector:e=>{let r=e[Lm];if(!r)return;let t=parseInt(r);if(Number.isNaN(t))throw new Error(`Environment variable ${Lm} mast be a number, got "${r}"`);return t},configFileSelector:e=>{let r=e[Mm];if(!r)return;let t=parseInt(r);if(Number.isNaN(t))throw new Error(`Shared config file entry ${Mm} mast be a number, got "${r}"`);return t},default:tr},ir=e=>{let{retryStrategy:r}=e,t=Ee(e.maxAttempts??tr);return{...e,maxAttempts:t,retryStrategy:async()=>r||(await Ee(e.retryMode)()===qe.ADAPTIVE?new Ui(t):new an(t))}},jC="AWS_RETRY_MODE",VC="retry_mode",ar={environmentVariableSelector:e=>e[jC],configFileSelector:e=>e[VC],default:ft};var HC=()=>e=>async r=>{let{request:t}=r;return se.isInstance(t)&&(delete t.headers[xn],delete t.headers[wn]),e(r)},GC={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},rU=e=>({applyToStack:r=>{r.addRelativeTo(HC(),GC)}});ji();var WC=e=>(r,t)=>async n=>{let s=await e.retryStrategy(),o=await e.maxAttempts();if(KC(s)){s=s;let i=await s.acquireInitialRetryToken(t.partition_id),a=new Error,d=0,l=0,{request:c}=n;for(se.isInstance(c)&&(c.headers[xn]=Ae());;)try{se.isInstance(c)&&(c.headers[wn]=`attempt=${d+1}; max=${o}`);let{response:u,output:f}=await r(n);return s.recordSuccess(i),f.$metadata.attempts=d+1,f.$metadata.totalRetryDelay=l,{response:u,output:f}}catch(u){let f=YC(u);a=Vi(u);try{i=await s.refreshRetryTokenForRetry(i,f)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=d+1,a.$metadata.totalRetryDelay=l,a}d=i.getRetryCount();let E=i.getRetryDelay();l+=E,await new Promise(S=>setTimeout(S,E))}}else return s=s,s!=null&&s.mode&&(t.userAgent=[...t.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(r,n)},KC=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",YC=e=>{let r={errorType:XC(e)},t=JC(e.$response);return t&&(r.retryAfterHint=t),r},XC=e=>rr(e)?"THROTTLING":jo(e)?"TRANSIENT":fm(e)?"SERVER_ERROR":"CLIENT_ERROR",QC={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},cr=e=>({applyToStack:r=>{r.add(WC(e),QC)}}),JC=e=>{if(!tt.isInstance(e))return;let r=Object.keys(e.headers).find(o=>o.toLowerCase()==="retry-after");if(!r)return;let t=e.headers[r],n=Number(t);return Number.isNaN(n)?new Date(t):new Date(n*1e3)};var Ne=class extends Error{constructor(r,t=!0){super(r),this.tryNextLink=t,this.name="ProviderError",Object.setPrototypeOf(this,Ne.prototype)}static from(r,t=!0){return Object.assign(new this(r.message,t),r)}};var D=class extends Ne{constructor(r,t=!0){super(r,t),this.tryNextLink=t,this.name="CredentialsProviderError",Object.setPrototypeOf(this,D.prototype)}};var De=class extends Ne{constructor(r,t=!0){super(r,t),this.tryNextLink=t,this.name="TokenProviderError",Object.setPrototypeOf(this,De.prototype)}};function Hi(...e){return()=>{let r=Promise.reject(new Ne("No providers in chain"));for(let t of e)r=r.catch(n=>{if(n!=null&&n.tryNextLink)return t();throw n});return r}}var Um=e=>()=>Promise.resolve(e);var dr=(e,r,t)=>{let n,s,o,i=!1,a=async()=>{s||(s=e());try{n=await s,o=!0,i=!1}finally{s=void 0}return n};return r===void 0?async d=>((!o||d!=null&&d.forceRefresh)&&(n=await a()),n):async d=>((!o||d!=null&&d.forceRefresh)&&(n=await a()),i?n:t&&!t(n)?(i=!0,n):(r(n)&&await a(),n))};Yu();sn();var Qx=3e5,ia=e=>{let r=e.credentials?Jx(e.credentials):e.credentialDefaultProvider(e),{signingEscapePath:t=!0,systemClockOffset:n=e.systemClockOffset||0,sha256:s}=e,o;return e.signer?o=Ee(e.signer):e.regionInfoProvider?o=()=>Ee(e.region)().then(async i=>[await e.regionInfoProvider(i,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},i]).then(([i,a])=>{let{signingRegion:d,signingService:l}=i;e.signingRegion=e.signingRegion||d||a,e.signingName=e.signingName||l||e.serviceId;let c={...e,credentials:r,region:e.signingRegion,service:e.signingName,sha256:s,uriEscapePath:t},u=e.signerConstructor||Jo;return new u(c)}):o=async i=>{i=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await Ee(e.region)(),properties:{}},i);let a=i.signingRegion,d=i.signingName;e.signingRegion=e.signingRegion||a,e.signingName=e.signingName||d||e.serviceId;let l={...e,credentials:r,region:e.signingRegion,service:e.signingName,sha256:s,uriEscapePath:t},c=e.signerConstructor||Jo;return new c(l)},{...e,systemClockOffset:n,signingEscapePath:t,credentials:r,signer:o}};var Jx=e=>typeof e=="function"?dr(e,r=>r.expiration!==void 0&&r.expiration.getTime()-Date.now()<Qx,r=>r.expiration!==void 0):Ee(e);var aa=e=>new Date(Date.now()+e);var Xu=(e,r)=>Math.abs(aa(r).getTime()-e)>=3e5;var Zc=(e,r)=>{let t=Date.parse(e);return Xu(t,r)?t-Date.now():r};var Zx=e=>(r,t)=>async function(n){var l,c,u,f;if(!se.isInstance(n.request))return r(n);let s=(u=(c=(l=t.endpointV2)==null?void 0:l.properties)==null?void 0:c.authSchemes)==null?void 0:u[0],o=(s==null?void 0:s.name)==="sigv4a"?(f=s==null?void 0:s.signingRegionSet)==null?void 0:f.join(","):void 0,i=await e.signer(s),a=await r({...n,request:await i.sign(n.request,{signingDate:aa(e.systemClockOffset),signingRegion:o||t.signing_region,signingService:t.signing_service})}).catch(E=>{let S=E.ServerTime??Qu(E.$response);throw S&&(e.systemClockOffset=Zc(S,e.systemClockOffset)),E}),d=Qu(a.response);return d&&(e.systemClockOffset=Zc(d,e.systemClockOffset)),a},Qu=e=>{var r,t;return tt.isInstance(e)?((r=e.headers)==null?void 0:r.date)??((t=e.headers)==null?void 0:t.Date):void 0},ew={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},ca=e=>({applyToStack:r=>{r.addRelativeTo(Zx(e),ew)}});function fr(e){return{...e,customUserAgent:typeof e.customUserAgent=="string"?[[e.customUserAgent]]:e.customUserAgent}}var ed={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{}}],version:"1.1"};var Ju=ed,Zu="",rw=e=>{let{partitions:r}=Ju;for(let n of r){let{regions:s,outputs:o}=n;for(let[i,a]of Object.entries(s))if(i===e)return{...o,...a}}for(let n of r){let{regionRegex:s,outputs:o}=n;if(new RegExp(s).test(e))return{...o}}let t=r.find(n=>n.id==="aws");if(!t)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...t.outputs}},ef=(e,r="")=>{Ju=e,Zu=r},nw=()=>{ef(ed,"")},td=()=>Zu;var Ot="endpoints";function Ve(e){return typeof e!="object"||e==null?e:"ref"in e?`$${Ve(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(Ve).join(", ")})`:JSON.stringify(e,null,2)}var Q=class extends Error{constructor(r){super(r),this.name="EndpointError"}};var od={};qo(od,{aws:()=>rd,booleanEquals:()=>aw,getAttr:()=>nd,isSet:()=>cw,isValidHostLabel:()=>la,not:()=>dw,parseURL:()=>lw,stringEquals:()=>mw,substring:()=>uw,uriEncode:()=>fw});var rd={};qo(rd,{getUserAgentPrefix:()=>td,isVirtualHostableS3Bucket:()=>tf,parseArn:()=>iw,partition:()=>rw,setPartitionInfo:()=>ef,useDefaultPartitionInfo:()=>nw});var sw=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),da=e=>sw.test(e)||e.startsWith("[")&&e.endsWith("]");var ow=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),la=(e,r=!1)=>{if(!r)return ow.test(e);let t=e.split(".");for(let n of t)if(!la(n))return!1;return!0};var tf=(e,r=!1)=>{if(r){for(let t of e.split("."))if(!tf(t))return!1;return!0}return!(!la(e)||e.length<3||e.length>63||e!==e.toLowerCase()||da(e))};var iw=e=>{let r=e.split(":");if(r.length<6)return null;let[t,n,s,o,i,...a]=r;return t!=="arn"||n===""||s===""||a[0]===""?null:{partition:n,service:s,region:o,accountId:i,resourceId:a[0].includes("/")?a[0].split("/"):a}};var aw=(e,r)=>e===r;var rf=e=>{let r=e.split("."),t=[];for(let n of r){let s=n.indexOf("[");if(s!==-1){if(n.indexOf("]")!==n.length-1)throw new Q(`Path: '${e}' does not end with ']'`);let o=n.slice(s+1,-1);if(Number.isNaN(parseInt(o)))throw new Q(`Invalid array index: '${o}' in path: '${e}'`);s!==0&&t.push(n.slice(0,s)),t.push(o)}else t.push(n)}return t};var nd=(e,r)=>rf(r).reduce((t,n)=>{if(typeof t!="object")throw new Q(`Index '${n}' in '${r}' not found in '${JSON.stringify(e)}'`);return Array.isArray(t)?t[parseInt(n)]:t[n]},e);var cw=e=>e!=null;var dw=e=>!e;var nf;(function(e){e.HEADER="header",e.QUERY="query"})(nf||(nf={}));var sf;(function(e){e.AAAA="AAAA",e.A="A"})(sf||(sf={}));var kn;(function(e){e.HTTP="http",e.HTTPS="https"})(kn||(kn={}));var of;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(of||(of={}));var sd={[kn.HTTP]:80,[kn.HTTPS]:443},lw=e=>{let r=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:f,port:E,protocol:S="",path:C="",query:N={}}=e,Dt=new URL(`${S}//${f}${E?`:${E}`:""}${C}`);return Dt.search=Object.entries(N).map(([J_,Z_])=>`${J_}=${Z_}`).join("&"),Dt}return new URL(e)}catch{return null}})();if(!r)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let t=r.href,{host:n,hostname:s,pathname:o,protocol:i,search:a}=r;if(a)return null;let d=i.slice(0,-1);if(!Object.values(kn).includes(d))return null;let l=da(s),c=t.includes(`${n}:${sd[d]}`)||typeof e=="string"&&e.includes(`${n}:${sd[d]}`),u=`${n}${c?`:${sd[d]}`:""}`;return{scheme:d,authority:u,path:o,normalizedPath:o.endsWith("/")?o:`${o}/`,isIp:l}};var mw=(e,r)=>e===r;var uw=(e,r,t,n)=>r>=t||e.length<t?null:n?e.substring(e.length-t,e.length-r):e.substring(r,t);var fw=e=>encodeURIComponent(e).replace(/[!*'()]/g,r=>`%${r.charCodeAt(0).toString(16).toUpperCase()}`);var ma=(e,r)=>{let t=[],n={...r.endpointParams,...r.referenceRecord},s=0;for(;s<e.length;){let o=e.indexOf("{",s);if(o===-1){t.push(e.slice(s));break}t.push(e.slice(s,o));let i=e.indexOf("}",o);if(i===-1){t.push(e.slice(o));break}e[o+1]==="{"&&e[i+1]==="}"&&(t.push(e.slice(o+1,i)),s=i+2);let a=e.substring(o+1,i);if(a.includes("#")){let[d,l]=a.split("#");t.push(nd(n[d],l))}else t.push(n[a]);s=i+1}return t.join("")};var af=({ref:e},r)=>({...r.endpointParams,...r.referenceRecord})[e];var pr=(e,r,t)=>{if(typeof e=="string")return ma(e,t);if(e.fn)return ua(e,t);if(e.ref)return af(e,t);throw new Q(`'${r}': ${String(e)} is not a string, function or reference.`)};var ua=({fn:e,argv:r},t)=>{let n=r.map(s=>["boolean","number"].includes(typeof s)?s:pr(s,"arg",t));return e.split(".").reduce((s,o)=>s[o],od)(...n)};var cf=({assign:e,...r},t)=>{var s,o;if(e&&e in t.referenceRecord)throw new Q(`'${e}' is already defined in Reference Record.`);let n=ua(r,t);return(o=(s=t.logger)==null?void 0:s.debug)==null||o.call(s,Ot,`evaluateCondition: ${Ve(r)} = ${Ve(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}};var Pn=(e=[],r)=>{var n,s;let t={};for(let o of e){let{result:i,toAssign:a}=cf(o,{...r,referenceRecord:{...r.referenceRecord,...t}});if(!i)return{result:i};a&&(t[a.name]=a.value,(s=(n=r.logger)==null?void 0:n.debug)==null||s.call(n,Ot,`assign: ${a.name} := ${Ve(a.value)}`))}return{result:!0,referenceRecord:t}};var df=(e,r)=>Object.entries(e).reduce((t,[n,s])=>({...t,[n]:s.map(o=>{let i=pr(o,"Header value entry",r);if(typeof i!="string")throw new Q(`Header '${n}' value '${i}' is not a string`);return i})}),{});var id=(e,r)=>{if(Array.isArray(e))return e.map(t=>id(t,r));switch(typeof e){case"string":return ma(e,r);case"object":if(e===null)throw new Q(`Unexpected endpoint property: ${e}`);return fa(e,r);case"boolean":return e;default:throw new Q(`Unexpected endpoint property type: ${typeof e}`)}};var fa=(e,r)=>Object.entries(e).reduce((t,[n,s])=>({...t,[n]:id(s,r)}),{});var lf=(e,r)=>{let t=pr(e,"Endpoint URL",r);if(typeof t=="string")try{return new URL(t)}catch(n){throw console.error(`Failed to construct URL with ${t}`,n),n}throw new Q(`Endpoint URL must be a string, got ${typeof t}`)};var mf=(e,r)=>{var c,u;let{conditions:t,endpoint:n}=e,{result:s,referenceRecord:o}=Pn(t,r);if(!s)return;let i={...r,referenceRecord:{...r.referenceRecord,...o}},{url:a,properties:d,headers:l}=n;return(u=(c=r.logger)==null?void 0:c.debug)==null||u.call(c,Ot,`Resolving endpoint from template: ${Ve(n)}`),{...l!=null&&{headers:df(l,i)},...d!=null&&{properties:fa(d,i)},url:lf(a,i)}};var uf=(e,r)=>{let{conditions:t,error:n}=e,{result:s,referenceRecord:o}=Pn(t,r);if(s)throw new Q(pr(n,"Error",{...r,referenceRecord:{...r.referenceRecord,...o}}))};var ff=(e,r)=>{let{conditions:t,rules:n}=e,{result:s,referenceRecord:o}=Pn(t,r);if(s)return pa(n,{...r,referenceRecord:{...r.referenceRecord,...o}})};var pa=(e,r)=>{for(let t of e)if(t.type==="endpoint"){let n=mf(t,r);if(n)return n}else if(t.type==="error")uf(t,r);else if(t.type==="tree"){let n=ff(t,r);if(n)return n}else throw new Q(`Unknown endpoint rule: ${t}`);throw new Q("Rules evaluation failed")};var hr=(e,r)=>{var l,c,u,f,E;let{endpointParams:t,logger:n}=r,{parameters:s,rules:o}=e;(c=(l=r.logger)==null?void 0:l.debug)==null||c.call(l,`${Ot} Initial EndpointParams: ${Ve(t)}`);let i=Object.entries(s).filter(([,S])=>S.default!=null).map(([S,C])=>[S,C.default]);if(i.length>0)for(let[S,C]of i)t[S]=t[S]??C;let a=Object.entries(s).filter(([,S])=>S.required).map(([S])=>S);for(let S of a)if(t[S]==null)throw new Q(`Missing required parameter: '${S}'`);let d=pa(o,{endpointParams:t,logger:n,referenceRecord:{}});if((u=r.endpointParams)!=null&&u.Endpoint)try{let S=new URL(r.endpointParams.Endpoint),{protocol:C,port:N}=S;d.url.protocol=C,d.url.port=N}catch{}return(E=(f=r.logger)==null?void 0:f.debug)==null||E.call(f,`${Ot} Resolved endpoint: ${Ve(d)}`),d};var ad="user-agent",ha="x-amz-user-agent",cd=" ",pf=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g;var pw=e=>(r,t)=>async n=>{var f,E;let{request:s}=n;if(!se.isInstance(s))return r(n);let{headers:o}=s,i=((f=t==null?void 0:t.userAgent)==null?void 0:f.map(dd))||[],a=(await e.defaultUserAgentProvider()).map(dd),d=((E=e==null?void 0:e.customUserAgent)==null?void 0:E.map(dd))||[],l=td(),c=(l?[l]:[]).concat([...a,...i,...d]).join(cd),u=[...a.filter(S=>S.startsWith("aws-sdk-")),...d].join(cd);return e.runtime!=="browser"?(u&&(o[ha]=o[ha]?`${o[ad]} ${u}`:u),o[ad]=c):o[ha]=c,r({...n,request:s})},dd=([e,r])=>{let t=e.indexOf("/"),n=e.substring(0,t),s=e.substring(t+1);return n==="api"&&(s=s.toLowerCase()),[n,s,r].filter(o=>o&&o.length>0).map(o=>o==null?void 0:o.replace(pf,"_")).join("/")},hw={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},yr=e=>({applyToStack:r=>{r.add(pw(e),hw)}});var St=class{trace(){}debug(){}info(){}warn(){}error(){}};var An=()=>{let e=[],r=[],t=new Set,n=c=>c.sort((u,f)=>hf[f.step]-hf[u.step]||yf[f.priority||"normal"]-yf[u.priority||"normal"]),s=c=>{let u=!1,f=E=>E.name&&E.name===c?(u=!0,t.delete(c),!1):!0;return e=e.filter(f),r=r.filter(f),u},o=c=>{let u=!1,f=E=>E.middleware===c?(u=!0,E.name&&t.delete(E.name),!1):!0;return e=e.filter(f),r=r.filter(f),u},i=c=>(e.forEach(u=>{c.add(u.middleware,{...u})}),r.forEach(u=>{c.addRelativeTo(u.middleware,{...u})}),c),a=c=>{let u=[];return c.before.forEach(f=>{f.before.length===0&&f.after.length===0?u.push(f):u.push(...a(f))}),u.push(c),c.after.reverse().forEach(f=>{f.before.length===0&&f.after.length===0?u.push(f):u.push(...a(f))}),u},d=(c=!1)=>{let u=[],f=[],E={};return e.forEach(C=>{let N={...C,before:[],after:[]};N.name&&(E[N.name]=N),u.push(N)}),r.forEach(C=>{let N={...C,before:[],after:[]};N.name&&(E[N.name]=N),f.push(N)}),f.forEach(C=>{if(C.toMiddleware){let N=E[C.toMiddleware];if(N===void 0){if(c)return;throw new Error(`${C.toMiddleware} is not found when adding ${C.name||"anonymous"} middleware ${C.relation} ${C.toMiddleware}`)}C.relation==="after"&&N.after.push(C),C.relation==="before"&&N.before.push(C)}}),n(u).map(a).reduce((C,N)=>(C.push(...N),C),[])},l={add:(c,u={})=>{let{name:f,override:E}=u,S={step:"initialize",priority:"normal",middleware:c,...u};if(f){if(t.has(f)){if(!E)throw new Error(`Duplicate middleware name '${f}'`);let C=e.findIndex(Dt=>Dt.name===f),N=e[C];if(N.step!==S.step||N.priority!==S.priority)throw new Error(`"${f}" middleware with ${N.priority} priority in ${N.step} step cannot be overridden by same-name middleware with ${S.priority} priority in ${S.step} step.`);e.splice(C,1)}t.add(f)}e.push(S)},addRelativeTo:(c,u)=>{let{name:f,override:E}=u,S={middleware:c,...u};if(f){if(t.has(f)){if(!E)throw new Error(`Duplicate middleware name '${f}'`);let C=r.findIndex(Dt=>Dt.name===f),N=r[C];if(N.toMiddleware!==S.toMiddleware||N.relation!==S.relation)throw new Error(`"${f}" middleware ${N.relation} "${N.toMiddleware}" middleware cannot be overridden by same-name middleware ${S.relation} "${S.toMiddleware}" middleware.`);r.splice(C,1)}t.add(f)}r.push(S)},clone:()=>i(An()),use:c=>{c.applyToStack(l)},remove:c=>typeof c=="string"?s(c):o(c),removeByTag:c=>{let u=!1,f=E=>{let{tags:S,name:C}=E;return S&&S.includes(c)?(C&&t.delete(C),u=!0,!1):!0};return e=e.filter(f),r=r.filter(f),u},concat:c=>{let u=i(An());return u.use(c),u},applyToStack:i,identify:()=>d(!0).map(c=>c.name+": "+(c.tags||[]).join(",")),resolve:(c,u)=>{for(let f of d().map(E=>E.middleware).reverse())c=f(c,u);return c}};return l},hf={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},yf={high:3,normal:2,low:1};var gt=class{constructor(r){this.middlewareStack=An(),this.config=r}send(r,t,n){let s=typeof t!="function"?t:void 0,o=typeof t=="function"?t:n,i=r.resolveMiddleware(this.middlewareStack,this.config,s);if(o)i(r).then(a=>o(null,a.output),a=>o(a)).catch(()=>{});else return i(r).then(a=>a.output)}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}};var p=class{constructor(){this.middlewareStack=An()}};var mn="***SensitiveInformation***";var Ef=(e,r)=>{for(let t of Object.keys(e)){let n=e[t],s=async function(i,a,d){let l=new n(i);if(typeof a=="function")this.send(l,a);else if(typeof d=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(l,a||{},d)}else return this.send(l,a)},o=(t[0].toLowerCase()+t.slice(1)).replace(/Command$/,"");r.prototype[o]=s}};var fe=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}};var ld=e=>{if(e!=null){if(typeof e=="string"){let r=parseFloat(e);if(!Number.isNaN(r))return String(r)!==String(e)&&Tf.warn(bf(`Expected number but observed string: ${e}`)),r}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},yw=Math.ceil(34028234663852886e22),Sf=e=>{let r=ld(e);if(r!==void 0&&!Number.isNaN(r)&&r!==1/0&&r!==-1/0&&Math.abs(r)>yw)throw new TypeError(`Expected 32-bit float, got ${e}`);return r},ya=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}};var Ea=e=>md(e,32),gf=e=>md(e,16),_f=e=>md(e,8),md=(e,r)=>{let t=ya(e);if(t!==void 0&&Ew(t,r)!==t)throw new TypeError(`Expected ${r}-bit integer, got ${e}`);return t},Ew=(e,r)=>{switch(r){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},M=(e,r)=>{if(e==null)throw r?new TypeError(`Expected a non-null value for ${r}`):new TypeError("Expected a non-null value");return e},Sa=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let r=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${r}: ${e}`)},m=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return Tf.warn(bf(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}};var Cf=e=>ld(typeof e=="string"?Nn(e):e);var xf=e=>Sf(typeof e=="string"?Nn(e):e),Sw=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Nn=e=>{let r=e.match(Sw);if(r===null||r[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)};var H2=e=>ya(typeof e=="string"?Nn(e):e);var ce=e=>Ea(typeof e=="string"?Nn(e):e),Zo=e=>gf(typeof e=="string"?Nn(e):e),wf=e=>_f(typeof e=="string"?Nn(e):e),bf=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(r=>!r.includes("stackTraceWarning")).join(`
`),Tf={warn:console.warn};var gw=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],fd=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function K2(e){let r=e.getUTCFullYear(),t=e.getUTCMonth(),n=e.getUTCDay(),s=e.getUTCDate(),o=e.getUTCHours(),i=e.getUTCMinutes(),a=e.getUTCSeconds(),d=s<10?`0${s}`:`${s}`,l=o<10?`0${o}`:`${o}`,c=i<10?`0${i}`:`${i}`,u=a<10?`0${a}`:`${a}`;return`${gw[n]}, ${d} ${fd[t]} ${r} ${l}:${c}:${u} GMT`}var Y2=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/);var _w=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),z=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let r=_w.exec(e);if(!r)throw new TypeError("Invalid RFC-3339 date-time value");let[t,n,s,o,i,a,d,l,c]=r,u=Zo(ei(n)),f=Er(s,"month",1,12),E=Er(o,"day",1,31),S=ga(u,f,E,{hours:i,minutes:a,seconds:d,fractionalMilliseconds:l});return c.toUpperCase()!="Z"&&S.setTime(S.getTime()-Nw(c)),S},Cw=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),xw=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),ww=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),X2=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let r=Cw.exec(e);if(r){let[t,n,s,o,i,a,d,l]=r;return ga(Zo(ei(o)),ud(s),Er(n,"day",1,31),{hours:i,minutes:a,seconds:d,fractionalMilliseconds:l})}if(r=xw.exec(e),r){let[t,n,s,o,i,a,d,l]=r;return Iw(ga(bw(o),ud(s),Er(n,"day",1,31),{hours:i,minutes:a,seconds:d,fractionalMilliseconds:l}))}if(r=ww.exec(e),r){let[t,n,s,o,i,a,d,l]=r;return ga(Zo(ei(l)),ud(n),Er(s.trimLeft(),"day",1,31),{hours:o,minutes:i,seconds:a,fractionalMilliseconds:d})}throw new TypeError("Invalid RFC-7231 date-time value")},Q2=e=>{if(e==null)return;let r;if(typeof e=="number")r=e;else if(typeof e=="string")r=Cf(e);else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(r)||r===1/0||r===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(r*1e3))},ga=(e,r,t,n)=>{let s=r-1;return kw(e,s,t),new Date(Date.UTC(e,s,t,Er(n.hours,"hour",0,23),Er(n.minutes,"minute",0,59),Er(n.seconds,"seconds",0,60),Aw(n.fractionalMilliseconds)))},bw=e=>{let r=new Date().getUTCFullYear(),t=Math.floor(r/100)*100+Zo(ei(e));return t<r?t+100:t},Tw=50*365*24*60*60*1e3,Iw=e=>e.getTime()-new Date().getTime()>Tw?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,ud=e=>{let r=fd.indexOf(e);if(r<0)throw new TypeError(`Invalid month: ${e}`);return r+1},Rw=[31,28,31,30,31,30,31,31,30,31,30,31],kw=(e,r,t)=>{let n=Rw[r];if(r===1&&Pw(e)&&(n=29),t>n)throw new TypeError(`Invalid day for ${fd[r]} in ${e}: ${t}`)},Pw=e=>e%4===0&&(e%100!==0||e%400===0),Er=(e,r,t,n)=>{let s=wf(ei(e));if(s<t||s>n)throw new TypeError(`${r} must be between ${t} and ${n}, inclusive`);return s},Aw=e=>e==null?0:xf("0."+e)*1e3,Nw=e=>{let r=e[0],t=1;if(r=="+")t=1;else if(r=="-")t=-1;else throw new TypeError(`Offset direction, ${r}, must be "+" or "-"`);let n=Number(e.substring(1,3)),s=Number(e.substring(4,6));return t*(n*60+s)*60*1e3},ei=e=>{let r=0;for(;r<e.length-1&&e.charAt(r)==="0";)r++;return r===0?e:e.slice(r)};var He=class extends Error{constructor(r){super(r.message),Object.setPrototypeOf(this,He.prototype),this.name=r.name,this.$fault=r.$fault,this.$metadata=r.$metadata}},v=(e,r={})=>{Object.entries(r).filter(([,n])=>n!==void 0).forEach(([n,s])=>{(e[n]==null||e[n]==="")&&(e[n]=s)});let t=e.message||e.Message||"UnknownError";return e.message=t,delete e.Message,e};var Dw=({output:e,parsedBody:r,exceptionCtor:t,errorCode:n})=>{let s=vw(e),o=s.httpStatusCode?s.httpStatusCode+"":void 0,i=new t({name:(r==null?void 0:r.code)||(r==null?void 0:r.Code)||n||o||"UnknownError",$fault:"client",$metadata:s});throw v(i,r)},Sr=e=>({output:r,parsedBody:t,errorCode:n})=>{Dw({output:r,parsedBody:t,exceptionCtor:e,errorCode:n})},vw=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]});var gr=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}};var If=!1,_r=e=>{e&&!If&&parseInt(e.substring(1,e.indexOf(".")))<14&&(If=!0)};function Ft(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(r){return"%"+r.charCodeAt(0).toString(16).toUpperCase()})}var P=e=>Array.isArray(e)?e:[e];var ti=e=>{let r="#text";for(let t in e)e.hasOwnProperty(t)&&e[t][r]!==void 0?e[t]=e[t][r]:typeof e[t]=="object"&&e[t]!==null&&(e[t]=ti(e[t]));return e};var pd=function(){let e=Object.getPrototypeOf(this).constructor,r=Function.bind.apply(String,[null,...arguments]),t=new r;return Object.setPrototypeOf(t,e.prototype),t};pd.prototype=Object.create(String.prototype,{constructor:{value:pd,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(pd,String);function oe(e,r,t){let n,s,o;if(typeof r>"u"&&typeof t>"u")n={},o=e;else{if(n=e,typeof r=="function")return s=r,o=t,Ow(n,s,o);o=r}for(let i of Object.keys(o)){if(!Array.isArray(o[i])){n[i]=o[i];continue}Rf(n,null,o,i)}return n}var de=(e,r)=>{let t={};for(let n in r)Rf(t,e,r,n);return t},Ow=(e,r,t)=>oe(e,Object.entries(t).reduce((n,[s,o])=>(Array.isArray(o)?n[s]=o:typeof o=="function"?n[s]=[r,o()]:n[s]=[r,o],n),{})),Rf=(e,r,t,n)=>{if(r!==null){let i=t[n];typeof i=="function"&&(i=[,i]);let[a=Fw,d=Lw,l=n]=i;(typeof a=="function"&&a(r[l])||typeof a!="function"&&a)&&(e[n]=d(r[l]));return}let[s,o]=t[n];if(typeof o=="function"){let i,a=s===void 0&&(i=o())!=null,d=typeof s=="function"&&!!s(void 0)||typeof s!="function"&&!!s;a?e[n]=i:d&&(e[n]=o())}else{let i=s===void 0&&o!=null,a=typeof s=="function"&&!!s(o)||typeof s!="function"&&!!s;(i||a)&&(e[n]=o)}},Fw=e=>e!=null,Lw=e=>e;var lq=(e,r,t,n,s,o)=>{if(r!=null&&r[t]!==void 0){let i=n();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+t+".");e=e.replace(s,o?i.split("/").map(a=>Ft(a)).join("/"):Ft(i))}else throw new Error("No value provided for input HTTP label: "+t+".");return e};var ri=e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(r=>r!=null);if(typeof e=="object"){let r={};for(let t of Object.keys(e))e[t]!=null&&(r[t]=ri(e[t]));return r}return e};var kf=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"cloudformation"});var Pf={name:"@aws-sdk/client-cloudformation",description:"AWS SDK for JavaScript Cloudformation Client for Node.js, Browser and React Native",version:"3.344.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo cloudformation"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.344.0","@aws-sdk/config-resolver":"3.342.0","@aws-sdk/credential-provider-node":"3.344.0","@aws-sdk/fetch-http-handler":"3.342.0","@aws-sdk/hash-node":"3.344.0","@aws-sdk/invalid-dependency":"3.342.0","@aws-sdk/middleware-content-length":"3.342.0","@aws-sdk/middleware-endpoint":"3.344.0","@aws-sdk/middleware-host-header":"3.342.0","@aws-sdk/middleware-logger":"3.342.0","@aws-sdk/middleware-recursion-detection":"3.342.0","@aws-sdk/middleware-retry":"3.342.0","@aws-sdk/middleware-serde":"3.342.0","@aws-sdk/middleware-signing":"3.342.0","@aws-sdk/middleware-stack":"3.342.0","@aws-sdk/middleware-user-agent":"3.342.0","@aws-sdk/node-config-provider":"3.342.0","@aws-sdk/node-http-handler":"3.344.0","@aws-sdk/smithy-client":"3.342.0","@aws-sdk/types":"3.342.0","@aws-sdk/url-parser":"3.342.0","@aws-sdk/util-base64":"3.310.0","@aws-sdk/util-body-length-browser":"3.310.0","@aws-sdk/util-body-length-node":"3.310.0","@aws-sdk/util-defaults-mode-browser":"3.342.0","@aws-sdk/util-defaults-mode-node":"3.342.0","@aws-sdk/util-endpoints":"3.342.0","@aws-sdk/util-retry":"3.342.0","@aws-sdk/util-user-agent-browser":"3.342.0","@aws-sdk/util-user-agent-node":"3.342.0","@aws-sdk/util-utf8":"3.310.0","@aws-sdk/util-waiter":"3.342.0","@smithy/protocol-http":"^1.0.1","@smithy/types":"^1.0.0","fast-xml-parser":"4.1.2",tslib:"^2.5.0",uuid:"^8.3.2"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.310.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31","@types/uuid":"^8.3.0",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-cloudformation",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-cloudformation"}};var Af=(e,{stsClientCtor:r})=>ia({...e,stsClientCtor:r});var Nf=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"});var Df={name:"@aws-sdk/client-sts",description:"AWS SDK for JavaScript Sts Client for Node.js, Browser and React Native",version:"3.344.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sts",test:"yarn test:unit","test:unit":"jest"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/config-resolver":"3.342.0","@aws-sdk/credential-provider-node":"3.344.0","@aws-sdk/fetch-http-handler":"3.342.0","@aws-sdk/hash-node":"3.344.0","@aws-sdk/invalid-dependency":"3.342.0","@aws-sdk/middleware-content-length":"3.342.0","@aws-sdk/middleware-endpoint":"3.344.0","@aws-sdk/middleware-host-header":"3.342.0","@aws-sdk/middleware-logger":"3.342.0","@aws-sdk/middleware-recursion-detection":"3.342.0","@aws-sdk/middleware-retry":"3.342.0","@aws-sdk/middleware-sdk-sts":"3.342.0","@aws-sdk/middleware-serde":"3.342.0","@aws-sdk/middleware-signing":"3.342.0","@aws-sdk/middleware-stack":"3.342.0","@aws-sdk/middleware-user-agent":"3.342.0","@aws-sdk/node-config-provider":"3.342.0","@aws-sdk/node-http-handler":"3.344.0","@aws-sdk/smithy-client":"3.342.0","@aws-sdk/types":"3.342.0","@aws-sdk/url-parser":"3.342.0","@aws-sdk/util-base64":"3.310.0","@aws-sdk/util-body-length-browser":"3.310.0","@aws-sdk/util-body-length-node":"3.310.0","@aws-sdk/util-defaults-mode-browser":"3.342.0","@aws-sdk/util-defaults-mode-node":"3.342.0","@aws-sdk/util-endpoints":"3.342.0","@aws-sdk/util-retry":"3.342.0","@aws-sdk/util-user-agent-browser":"3.342.0","@aws-sdk/util-user-agent-node":"3.342.0","@aws-sdk/util-utf8":"3.310.0","@smithy/protocol-http":"^1.0.1","@smithy/types":"^1.0.0","fast-xml-parser":"4.1.2",tslib:"^2.5.0"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.310.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sts",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sts"}};var ve=class extends He{constructor(r){super(r),Object.setPrototypeOf(this,ve.prototype)}};var Dn=class extends ve{constructor(r){super({name:"ExpiredTokenException",$fault:"client",...r}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,Dn.prototype)}},vn=class extends ve{constructor(r){super({name:"MalformedPolicyDocumentException",$fault:"client",...r}),this.name="MalformedPolicyDocumentException",this.$fault="client",Object.setPrototypeOf(this,vn.prototype)}},On=class extends ve{constructor(r){super({name:"PackedPolicyTooLargeException",$fault:"client",...r}),this.name="PackedPolicyTooLargeException",this.$fault="client",Object.setPrototypeOf(this,On.prototype)}},Fn=class extends ve{constructor(r){super({name:"RegionDisabledException",$fault:"client",...r}),this.name="RegionDisabledException",this.$fault="client",Object.setPrototypeOf(this,Fn.prototype)}},Ln=class extends ve{constructor(r){super({name:"IDPRejectedClaimException",$fault:"client",...r}),this.name="IDPRejectedClaimException",this.$fault="client",Object.setPrototypeOf(this,Ln.prototype)}},Mn=class extends ve{constructor(r){super({name:"InvalidIdentityTokenException",$fault:"client",...r}),this.name="InvalidIdentityTokenException",this.$fault="client",Object.setPrototypeOf(this,Mn.prototype)}},Un=class extends ve{constructor(r){super({name:"IDPCommunicationErrorException",$fault:"client",...r}),this.name="IDPCommunicationErrorException",this.$fault="client",Object.setPrototypeOf(this,Un.prototype)}};var vf=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:mn}}),Of=e=>({...e,...e.Credentials&&{Credentials:vf(e.Credentials)}});var Ff=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:mn}}),Lf=e=>({...e,...e.Credentials&&{Credentials:vf(e.Credentials)}});var hd;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(hd||(hd={}));var Ge=class{constructor(r){this.method=r.method||"GET",this.hostname=r.hostname||"localhost",this.port=r.port,this.query=r.query||{},this.headers=r.headers||{},this.body=r.body,this.protocol=r.protocol?r.protocol.slice(-1)!==":"?`${r.protocol}:`:r.protocol:"https:",this.path=r.path?r.path.charAt(0)!=="/"?`/${r.path}`:r.path:"/"}static isInstance(r){if(!r)return!1;let t=r;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&typeof t.query=="object"&&typeof t.headers=="object"}clone(){let r=new Ge({...this,headers:{...this.headers}});return r.query&&(r.query=Bw(r.query)),r}};function Bw(e){return Object.keys(e).reduce((r,t)=>{let n=e[t];return{...r,[t]:Array.isArray(n)?[...n]:n}},{})}var fp=Fi(Id());var pp=async(e,r)=>{let t=Pd,n;return n=Nd({...Wb(e,r),Action:"AssumeRole",Version:"2011-06-15"}),kd(r,t,"/",void 0,n)};var hp=async(e,r)=>{let t=Pd,n;return n=Nd({...Kb(e,r),Action:"AssumeRoleWithWebIdentity",Version:"2011-06-15"}),kd(r,t,"/",void 0,n)};var I4=async(e,r)=>{let t=Pd,n;return n=Nd({...Yb(e,r),Action:"GetCallerIdentity",Version:"2011-06-15"}),kd(r,t,"/",void 0,n)};var yp=async(e,r)=>{if(e.statusCode>=300)return zb(e,r);let t=await _a(e.body,r),n={};return n=eT(t.AssumeRoleResult,r),{$metadata:_t(e),...n}},zb=async(e,r)=>{let t={...e,body:await Ad(e.body,r)},n=Dd(e,t.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await Sp(t,r);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await gp(t,r);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await _p(t,r);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await Cp(t,r);default:let s=t.body;return Rd({output:e,parsedBody:s.Error,errorCode:n})}};var Ep=async(e,r)=>{if(e.statusCode>=300)return qb(e,r);let t=await _a(e.body,r),n={};return n=tT(t.AssumeRoleWithWebIdentityResult,r),{$metadata:_t(e),...n}},qb=async(e,r)=>{let t={...e,body:await Ad(e.body,r)},n=Dd(e,t.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await Sp(t,r);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await Vb(t,r);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await Hb(t,r);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await Gb(t,r);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await gp(t,r);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await _p(t,r);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await Cp(t,r);default:let s=t.body;return Rd({output:e,parsedBody:s.Error,errorCode:n})}};var R4=async(e,r)=>{if(e.statusCode>=300)return jb(e,r);let t=await _a(e.body,r),n={};return n=nT(t.GetCallerIdentityResult,r),{$metadata:_t(e),...n}},jb=async(e,r)=>{let t={...e,body:await Ad(e.body,r)},n=Dd(e,t.body),s=t.body;return Rd({output:e,parsedBody:s.Error,errorCode:n})};var Sp=async(e,r)=>{let t=e.body,n=rT(t.Error,r),s=new Dn({$metadata:_t(e),...n});return v(s,t)},Vb=async(e,r)=>{let t=e.body,n=sT(t.Error,r),s=new Un({$metadata:_t(e),...n});return v(s,t)},Hb=async(e,r)=>{let t=e.body,n=oT(t.Error,r),s=new Ln({$metadata:_t(e),...n});return v(s,t)};var Gb=async(e,r)=>{let t=e.body,n=iT(t.Error,r),s=new Mn({$metadata:_t(e),...n});return v(s,t)},gp=async(e,r)=>{let t=e.body,n=aT(t.Error,r),s=new vn({$metadata:_t(e),...n});return v(s,t)},_p=async(e,r)=>{let t=e.body,n=cT(t.Error,r),s=new On({$metadata:_t(e),...n});return v(s,t)},Cp=async(e,r)=>{let t=e.body,n=dT(t.Error,r),s=new Fn({$metadata:_t(e),...n});return v(s,t)},Wb=(e,r)=>{var n,s,o;let t={};if(e.RoleArn!=null&&(t.RoleArn=e.RoleArn),e.RoleSessionName!=null&&(t.RoleSessionName=e.RoleSessionName),e.PolicyArns!=null){let i=xp(e.PolicyArns,r);((n=e.PolicyArns)==null?void 0:n.length)===0&&(t.PolicyArns=[]),Object.entries(i).forEach(([a,d])=>{let l=`PolicyArns.${a}`;t[l]=d})}if(e.Policy!=null&&(t.Policy=e.Policy),e.DurationSeconds!=null&&(t.DurationSeconds=e.DurationSeconds),e.Tags!=null){let i=Zb(e.Tags,r);((s=e.Tags)==null?void 0:s.length)===0&&(t.Tags=[]),Object.entries(i).forEach(([a,d])=>{let l=`Tags.${a}`;t[l]=d})}if(e.TransitiveTagKeys!=null){let i=Jb(e.TransitiveTagKeys,r);((o=e.TransitiveTagKeys)==null?void 0:o.length)===0&&(t.TransitiveTagKeys=[]),Object.entries(i).forEach(([a,d])=>{let l=`TransitiveTagKeys.${a}`;t[l]=d})}return e.ExternalId!=null&&(t.ExternalId=e.ExternalId),e.SerialNumber!=null&&(t.SerialNumber=e.SerialNumber),e.TokenCode!=null&&(t.TokenCode=e.TokenCode),e.SourceIdentity!=null&&(t.SourceIdentity=e.SourceIdentity),t};var Kb=(e,r)=>{var n;let t={};if(e.RoleArn!=null&&(t.RoleArn=e.RoleArn),e.RoleSessionName!=null&&(t.RoleSessionName=e.RoleSessionName),e.WebIdentityToken!=null&&(t.WebIdentityToken=e.WebIdentityToken),e.ProviderId!=null&&(t.ProviderId=e.ProviderId),e.PolicyArns!=null){let s=xp(e.PolicyArns,r);((n=e.PolicyArns)==null?void 0:n.length)===0&&(t.PolicyArns=[]),Object.entries(s).forEach(([o,i])=>{let a=`PolicyArns.${o}`;t[a]=i})}return e.Policy!=null&&(t.Policy=e.Policy),e.DurationSeconds!=null&&(t.DurationSeconds=e.DurationSeconds),t};var Yb=(e,r)=>({});var xp=(e,r)=>{let t={},n=1;for(let s of e){if(s===null)continue;let o=Xb(s,r);Object.entries(o).forEach(([i,a])=>{t[`member.${n}.${i}`]=a}),n++}return t},Xb=(e,r)=>{let t={};return e.arn!=null&&(t.arn=e.arn),t},Qb=(e,r)=>{let t={};return e.Key!=null&&(t.Key=e.Key),e.Value!=null&&(t.Value=e.Value),t},Jb=(e,r)=>{let t={},n=1;for(let s of e)s!==null&&(t[`member.${n}`]=s,n++);return t},Zb=(e,r)=>{let t={},n=1;for(let s of e){if(s===null)continue;let o=Qb(s,r);Object.entries(o).forEach(([i,a])=>{t[`member.${n}.${i}`]=a}),n++}return t},wp=(e,r)=>{let t={};return e.AssumedRoleId!==void 0&&(t.AssumedRoleId=m(e.AssumedRoleId)),e.Arn!==void 0&&(t.Arn=m(e.Arn)),t},eT=(e,r)=>{let t={};return e.Credentials!==void 0&&(t.Credentials=bp(e.Credentials,r)),e.AssumedRoleUser!==void 0&&(t.AssumedRoleUser=wp(e.AssumedRoleUser,r)),e.PackedPolicySize!==void 0&&(t.PackedPolicySize=ce(e.PackedPolicySize)),e.SourceIdentity!==void 0&&(t.SourceIdentity=m(e.SourceIdentity)),t};var tT=(e,r)=>{let t={};return e.Credentials!==void 0&&(t.Credentials=bp(e.Credentials,r)),e.SubjectFromWebIdentityToken!==void 0&&(t.SubjectFromWebIdentityToken=m(e.SubjectFromWebIdentityToken)),e.AssumedRoleUser!==void 0&&(t.AssumedRoleUser=wp(e.AssumedRoleUser,r)),e.PackedPolicySize!==void 0&&(t.PackedPolicySize=ce(e.PackedPolicySize)),e.Provider!==void 0&&(t.Provider=m(e.Provider)),e.Audience!==void 0&&(t.Audience=m(e.Audience)),e.SourceIdentity!==void 0&&(t.SourceIdentity=m(e.SourceIdentity)),t},bp=(e,r)=>{let t={};return e.AccessKeyId!==void 0&&(t.AccessKeyId=m(e.AccessKeyId)),e.SecretAccessKey!==void 0&&(t.SecretAccessKey=m(e.SecretAccessKey)),e.SessionToken!==void 0&&(t.SessionToken=m(e.SessionToken)),e.Expiration!==void 0&&(t.Expiration=M(z(e.Expiration))),t};var rT=(e,r)=>{let t={};return e.message!==void 0&&(t.message=m(e.message)),t};var nT=(e,r)=>{let t={};return e.UserId!==void 0&&(t.UserId=m(e.UserId)),e.Account!==void 0&&(t.Account=m(e.Account)),e.Arn!==void 0&&(t.Arn=m(e.Arn)),t};var sT=(e,r)=>{let t={};return e.message!==void 0&&(t.message=m(e.message)),t},oT=(e,r)=>{let t={};return e.message!==void 0&&(t.message=m(e.message)),t};var iT=(e,r)=>{let t={};return e.message!==void 0&&(t.message=m(e.message)),t},aT=(e,r)=>{let t={};return e.message!==void 0&&(t.message=m(e.message)),t},cT=(e,r)=>{let t={};return e.message!==void 0&&(t.message=m(e.message)),t},dT=(e,r)=>{let t={};return e.message!==void 0&&(t.message=m(e.message)),t},_t=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),lT=(e=new Uint8Array,r)=>e instanceof Uint8Array?Promise.resolve(e):r.streamCollector(e)||Promise.resolve(new Uint8Array),mT=(e,r)=>lT(e,r).then(t=>r.utf8Encoder(t)),Rd=Sr(ve),kd=async(e,r,t,n,s)=>{let{hostname:o,protocol:i="https",port:a,path:d}=await e.endpoint(),l={protocol:i,hostname:o,port:a,method:"POST",path:d.endsWith("/")?d.slice(0,-1)+t:d+t,headers:r};return n!==void 0&&(l.hostname=n),s!==void 0&&(l.body=s),new Ge(l)},Pd={"content-type":"application/x-www-form-urlencoded"},_a=(e,r)=>mT(e,r).then(t=>{if(t.length){let n=new fp.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(d,l)=>l.trim()===""&&l.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let s=n.parse(t),o="#text",i=Object.keys(s)[0],a=s[i];return a[o]&&(a[i]=a[o],delete a[o]),ti(a)}return{}}),Ad=async(e,r)=>{let t=await _a(e,r);return t.Error&&(t.Error.message=t.Error.message??t.Error.Message),t},Nd=e=>Object.entries(e).map(([r,t])=>Ft(r)+"="+Ft(t)).join("&"),Dd=(e,r)=>{var t;if(((t=r.Error)==null?void 0:t.Code)!==void 0)return r.Error.Code;if(e.statusCode==404)return"NotFound"};var Bn=class extends p{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,Bn.getEndpointParameterInstructions())),this.middlewareStack.use(ca(t));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"STSClient",commandName:"AssumeRoleCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:Of},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return pp(r,t)}deserialize(r,t){return yp(r,t)}};var $n=class extends p{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,$n.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"STSClient",commandName:"AssumeRoleWithWebIdentityCommand",inputFilterSensitiveLog:Ff,outputFilterSensitiveLog:Lf},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return hp(r,t)}deserialize(r,t){return Ep(r,t)}};var Tp="us-east-1",Ip=e=>typeof e!="function"?e===void 0?Tp:e:async()=>{try{return await e()}catch{return Tp}},vd=(e,r)=>{let t,n;return async(s,o)=>{if(n=s,!t){let{logger:a,region:d,requestHandler:l}=e;t=new r({logger:a,credentialDefaultProvider:()=>async()=>n,region:Ip(d||e.region),...l?{requestHandler:l}:{}})}let{Credentials:i}=await t.send(new Bn(o));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${o.RoleArn}`);return{accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration}}},Od=(e,r)=>{let t;return async n=>{if(!t){let{logger:o,region:i,requestHandler:a}=e;t=new r({logger:o,region:Ip(i||e.region),...a?{requestHandler:a}:{}})}let{Credentials:s}=await t.send(new $n(n));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration}}},Rp=e=>r=>e({roleAssumer:vd(r,r.stsClientCtor),roleAssumerWithWebIdentity:Od(r,r.stsClientCtor),...r});var uT="AWS_ACCESS_KEY_ID",fT="AWS_SECRET_ACCESS_KEY",pT="AWS_SESSION_TOKEN",hT="AWS_CREDENTIAL_EXPIRATION",Ca=()=>async()=>{let e=process.env[uT],r=process.env[fT],t=process.env[pT],n=process.env[hT];if(e&&r)return{accessKeyId:e,secretAccessKey:r,...t&&{sessionToken:t},...n&&{expiration:new Date(n)}};throw new D("Unable to find environment variable credentials.")};import{homedir as yT}from"os";import{sep as ET}from"path";var zn=()=>{let{HOME:e,USERPROFILE:r,HOMEPATH:t,HOMEDRIVE:n=`C:${ET}`}=process.env;return e||r||(t?`${n}${t}`:yT())};var Fd="AWS_PROFILE",ST="default",We=e=>e.profile||process.env[Fd]||ST;import{createHash as gT}from"crypto";import{join as _T}from"path";var xa=e=>{let t=gT("sha1").update(e).digest("hex");return _T(zn(),".aws","sso","cache",`${t}.json`)};import{promises as CT}from"fs";var{readFile:xT}=CT,wa=async e=>{let r=xa(e),t=await xT(r,"utf8");return JSON.parse(t)};import{join as wT}from"path";var bT="AWS_CONFIG_FILE",ba=()=>process.env[bT]||wT(zn(),".aws","config");import{join as TT}from"path";var IT="AWS_SHARED_CREDENTIALS_FILE",kp=()=>process.env[IT]||TT(zn(),".aws","credentials");var Pp=/^profile\s(["'])?([^\1]+)\1$/,Ap=e=>Object.entries(e).filter(([r])=>Pp.test(r)).reduce((r,[t,n])=>({...r,[Pp.exec(t)[2]]:n}),{...e.default&&{default:e.default}});var RT=["__proto__","profile __proto__"],oi=e=>{let r={},t;for(let n of e.split(/\r?\n/))if(n=n.split(/(^|\s)[;#]/)[0].trim(),n[0]==="["&&n[n.length-1]==="]"){if(t=n.substring(1,n.length-1),RT.includes(t))throw new Error(`Found invalid profile name "${t}"`)}else if(t){let o=n.indexOf("="),i=0,a=n.length-1;if(o!==-1&&o!==i&&o!==a){let[l,c]=[n.substring(0,o).trim(),n.substring(o+1).trim()];r[t]=r[t]||{},r[t][l]=c}}return r};import{promises as kT}from"fs";var{readFile:PT}=kT,Ld={},ii=(e,r)=>((!Ld[e]||r!=null&&r.ignoreCache)&&(Ld[e]=PT(e,"utf8")),Ld[e]);var Np=()=>({}),Ta=async(e={})=>{let{filepath:r=kp(),configFilepath:t=ba()}=e,n=await Promise.all([ii(t,{ignoreCache:e.ignoreCache}).then(oi).then(Ap).catch(Np),ii(r,{ignoreCache:e.ignoreCache}).then(oi).catch(Np)]);return{configFile:n[0],credentialsFile:n[1]}};var Dp=/^sso-session\s(["'])?([^\1]+)\1$/,vp=e=>Object.entries(e).filter(([r])=>Dp.test(r)).reduce((r,[t,n])=>({...r,[Dp.exec(t)[2]]:n}),{});var AT=()=>({}),Ia=async(e={})=>ii(e.configFilepath??ba()).then(oi).then(vp).catch(AT);var Op=(...e)=>{let r={};for(let t of e)for(let[n,s]of Object.entries(t))r[n]!==void 0?Object.assign(r[n],s):r[n]=s;return r};var xr=async e=>{let r=await Ta(e);return Op(r.configFile,r.credentialsFile)};import{parse as vT}from"url";import{Buffer as NT}from"buffer";import{request as DT}from"http";function Mt(e){return new Promise((r,t)=>{var s;let n=DT({method:"GET",...e,hostname:(s=e.hostname)==null?void 0:s.replace(/^\[(.+)\]$/,"$1")});n.on("error",o=>{t(Object.assign(new Ne("Unable to connect to instance metadata service"),o)),n.destroy()}),n.on("timeout",()=>{t(new Ne("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",o=>{let{statusCode:i=400}=o;(i<200||300<=i)&&(t(Object.assign(new Ne("Error response received from instance metadata service"),{statusCode:i})),n.destroy());let a=[];o.on("data",d=>{a.push(d)}),o.on("end",()=>{r(NT.concat(a)),n.destroy()})}),n.end()})}var Ra=e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string",ka=e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration)});var Pa=({maxRetries:e=0,timeout:r=1e3})=>({maxRetries:e,timeout:r});var ai=(e,r)=>{let t=e();for(let n=0;n<r;n++)t=t.catch(e);return t};var ci="AWS_CONTAINER_CREDENTIALS_FULL_URI",di="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",Fp="AWS_CONTAINER_AUTHORIZATION_TOKEN",Aa=(e={})=>{let{timeout:r,maxRetries:t}=Pa(e);return()=>ai(async()=>{let n=await UT(),s=JSON.parse(await OT(r,n));if(!Ra(s))throw new D("Invalid response received from instance metadata service.");return ka(s)},t)},OT=async(e,r)=>(process.env[Fp]&&(r.headers={...r.headers,Authorization:process.env[Fp]}),(await Mt({...r,timeout:e})).toString()),FT="169.254.170.2",LT={localhost:!0,"127.0.0.1":!0},MT={"http:":!0,"https:":!0},UT=async()=>{if(process.env[di])return{hostname:FT,path:process.env[di]};if(process.env[ci]){let e=vT(process.env[ci]);if(!e.hostname||!(e.hostname in LT))throw new D(`${e.hostname} is not a valid container metadata service hostname`,!1);if(!e.protocol||!(e.protocol in MT))throw new D(`${e.protocol} is not a valid container metadata service protocol`,!1);return{...e,port:e.port?parseInt(e.port,10):void 0}}throw new D(`The container metadata credential provider cannot be used unless the ${di} or ${ci} environment variable is set`,!1)};var Lp=e=>async()=>{try{let r=e(process.env);if(r===void 0)throw new Error;return r}catch(r){throw new D(r.message||`Cannot load config from environment variables with getter: ${e}`)}};var Mp=(e,{preferredFile:r="config",...t}={})=>async()=>{let n=We(t),{configFile:s,credentialsFile:o}=await Ta(t),i=o[n]||{},a=s[n]||{},d=r==="config"?{...i,...a}:{...a,...i};try{let l=e(d);if(l===void 0)throw new Error;return l}catch(l){throw new D(l.message||`Cannot load config for profile ${n} in SDK configuration files with getter: ${e}`)}};var BT=e=>typeof e=="function",Up=e=>BT(e)?async()=>await e():Um(e);var q=({environmentVariableSelector:e,configFileSelector:r,default:t},n={})=>dr(Hi(Lp(e),Mp(r,n),Up(t)));var li;(function(e){e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]"})(li||(li={}));var $T="AWS_EC2_METADATA_SERVICE_ENDPOINT",zT="ec2_metadata_service_endpoint",Bp={environmentVariableSelector:e=>e[$T],configFileSelector:e=>e[zT],default:void 0};var wr;(function(e){e.IPv4="IPv4",e.IPv6="IPv6"})(wr||(wr={}));var qT="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",jT="ec2_metadata_service_endpoint_mode",$p={environmentVariableSelector:e=>e[qT],configFileSelector:e=>e[jT],default:wr.IPv4};var mi=async()=>Pe(await VT()||await HT()),VT=async()=>q(Bp)(),HT=async()=>{let e=await q($p)();switch(e){case wr.IPv4:return li.IPv4;case wr.IPv6:return li.IPv6;default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(wr)}`)}};var GT="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",Md=(e,r)=>{let t=300+Math.floor(Math.random()*300),n=new Date(Date.now()+t*1e3);r.warn("Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(newExpiration)}.\nFor more information, please visit: "+GT);let s=e.originalExpiration??e.expiration;return{...e,...s?{originalExpiration:s}:{},expiration:n}};var zp=(e,r={})=>{let t=(r==null?void 0:r.logger)||console,n;return async()=>{let s;try{s=await e(),s.expiration&&s.expiration.getTime()<Date.now()&&(s=Md(s,t))}catch(o){if(n)t.warn("Credential renew failed: ",o),s=Md(n,t);else throw o}return n=s,s}};var qp="/latest/meta-data/iam/security-credentials/",WT="/latest/api/token",Na=(e={})=>zp(KT(e),{logger:e.logger}),KT=e=>{let r=!1,{timeout:t,maxRetries:n}=Pa(e),s=async(o,i)=>{let a=(await ai(async()=>{let d;try{d=await XT(i)}catch(l){throw l.statusCode===401&&(r=!1),l}return d},o)).trim();return ai(async()=>{let d;try{d=await QT(a,i)}catch(l){throw l.statusCode===401&&(r=!1),l}return d},o)};return async()=>{let o=await mi();if(r)return s(n,{...o,timeout:t});{let i;try{i=(await YT({...o,timeout:t})).toString()}catch(a){if((a==null?void 0:a.statusCode)===400)throw Object.assign(a,{message:"EC2 Metadata token request returned error"});return(a.message==="TimeoutError"||[403,404,405].includes(a.statusCode))&&(r=!0),s(n,{...o,timeout:t})}return s(n,{...o,headers:{"x-aws-ec2-metadata-token":i},timeout:t})}}},YT=async e=>Mt({...e,path:WT,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),XT=async e=>(await Mt({...e,path:qp})).toString(),QT=async(e,r)=>{let t=JSON.parse((await Mt({...r,path:qp+e})).toString());if(!Ra(t))throw new D("Invalid response received from instance metadata service.");return ka(t)};var jp=(e,r)=>{let t={EcsContainer:Aa,Ec2InstanceMetadata:Na,Environment:Ca};if(e in t)return t[e]();throw new D(`Unsupported credential source in profile ${r}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`)};var Vp=e=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(JT(e)||ZT(e)),JT=e=>typeof e.source_profile=="string"&&typeof e.credential_source>"u",ZT=e=>typeof e.credential_source=="string"&&typeof e.source_profile>"u",Hp=async(e,r,t,n={})=>{let s=r[e];if(!t.roleAssumer)throw new D(`Profile ${e} requires a role to be assumed, but no role assumption callback was provided.`,!1);let{source_profile:o}=s;if(o&&o in n)throw new D(`Detected a cycle attempting to resolve credentials for profile ${We(t)}. Profiles visited: `+Object.keys(n).join(", "),!1);let i=o?Da(o,r,t,{...n,[o]:!0}):jp(s.credential_source,e)(),a={RoleArn:s.role_arn,RoleSessionName:s.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:s.external_id},{mfa_serial:d}=s;if(d){if(!t.mfaCodeProvider)throw new D(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,!1);a.SerialNumber=d,a.TokenCode=await t.mfaCodeProvider(d)}let l=await i;return t.roleAssumer(l,a)};import{exec as eI}from"child_process";import{promisify as tI}from"util";var Gp=(e,r)=>{if(r.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(r.AccessKeyId===void 0||r.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(r.Expiration){let t=new Date;if(new Date(r.Expiration)<t)throw Error(`Profile ${e} credential_process returned expired credentials.`)}return{accessKeyId:r.AccessKeyId,secretAccessKey:r.SecretAccessKey,...r.SessionToken&&{sessionToken:r.SessionToken},...r.Expiration&&{expiration:new Date(r.Expiration)}}};var Wp=async(e,r)=>{let t=r[e];if(r[e]){let n=t.credential_process;if(n!==void 0){let s=tI(eI);try{let{stdout:o}=await s(n),i;try{i=JSON.parse(o.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return Gp(e,i)}catch(o){throw new D(o.message)}}else throw new D(`Profile ${e} did not contain credential_process.`)}else throw new D(`Profile ${e} could not be found in shared credentials file.`)};var va=(e={})=>async()=>{let r=await xr(e);return Wp(We(e),r)};var Kp=e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string",Yp=async(e,r)=>va({...e,profile:r})();var ui=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string");var Xp=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"});var Qp={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.344.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/config-resolver":"3.342.0","@aws-sdk/fetch-http-handler":"3.342.0","@aws-sdk/hash-node":"3.344.0","@aws-sdk/invalid-dependency":"3.342.0","@aws-sdk/middleware-content-length":"3.342.0","@aws-sdk/middleware-endpoint":"3.344.0","@aws-sdk/middleware-host-header":"3.342.0","@aws-sdk/middleware-logger":"3.342.0","@aws-sdk/middleware-recursion-detection":"3.342.0","@aws-sdk/middleware-retry":"3.342.0","@aws-sdk/middleware-serde":"3.342.0","@aws-sdk/middleware-stack":"3.342.0","@aws-sdk/middleware-user-agent":"3.342.0","@aws-sdk/node-config-provider":"3.342.0","@aws-sdk/node-http-handler":"3.344.0","@aws-sdk/smithy-client":"3.342.0","@aws-sdk/types":"3.342.0","@aws-sdk/url-parser":"3.342.0","@aws-sdk/util-base64":"3.310.0","@aws-sdk/util-body-length-browser":"3.310.0","@aws-sdk/util-body-length-node":"3.310.0","@aws-sdk/util-defaults-mode-browser":"3.342.0","@aws-sdk/util-defaults-mode-node":"3.342.0","@aws-sdk/util-endpoints":"3.342.0","@aws-sdk/util-retry":"3.342.0","@aws-sdk/util-user-agent-browser":"3.342.0","@aws-sdk/util-user-agent-node":"3.342.0","@aws-sdk/util-utf8":"3.310.0","@smithy/protocol-http":"^1.0.1","@smithy/types":"^1.0.0",tslib:"^2.5.0"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.310.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}};Rn();vt();import{Buffer as nI}from"buffer";import{createHash as sI,createHmac as oI}from"crypto";var Ct=class{constructor(r,t){this.algorithmIdentifier=r,this.secret=t,this.reset()}update(r,t){this.hash.update(ht(Jp(r,t)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?oI(this.algorithmIdentifier,Jp(this.secret)):sI(this.algorithmIdentifier)}};function Jp(e,r){return nI.isBuffer(e)?e:typeof e=="string"?In(e,r):ArrayBuffer.isView(e)?dn(e.buffer,e.byteOffset,e.byteLength):dn(e)}Hc();function Ud(e){let r=[];for(let t of Object.keys(e).sort()){let n=e[t];if(t=Et(t),Array.isArray(n))for(let s=0,o=n.length;s<o;s++)r.push(`${t}=${Et(n[s])}`);else{let s=t;(n||typeof n=="string")&&(s+=`=${Et(n)}`),r.push(s)}}return r.join("&")}import{Agent as cI,request as dI}from"http";import{Agent as lI,request as mI}from"https";var Zp=["ECONNRESET","EPIPE","ETIMEDOUT"];var Bd=e=>{let r={};for(let t of Object.keys(e)){let n=e[t];r[t]=Array.isArray(n)?n.join(","):n}return r};var eh=(e,r,t=0)=>{t&&e.on("socket",n=>{if(n.connecting){let s=setTimeout(()=>{e.destroy(),r(Object.assign(new Error(`Socket timed out without establishing a connection within ${t} ms`),{name:"TimeoutError"}))},t);n.on("connect",()=>{clearTimeout(s)})}})};var th=(e,{keepAlive:r,keepAliveMsecs:t})=>{r===!0&&e.on("socket",n=>{n.setKeepAlive(r,t||0)})};var rh=(e,r,t=0)=>{e.setTimeout(t,()=>{e.destroy(),r(Object.assign(new Error(`Connection timed out after ${t} ms`),{name:"TimeoutError"}))})};import{Readable as iI}from"stream";var nh=1e3;async function $d(e,r,t=nh){let n=r.headers??{},s=n.Expect||n.expect,o=-1;s==="100-continue"&&await Promise.race([new Promise(i=>{o=Number(setTimeout(i,Math.max(nh,t)))}),new Promise(i=>{e.on("continue",()=>{clearTimeout(o),i()})})]),aI(e,r.body)}function aI(e,r){r instanceof iI?r.pipe(e):r?e.end(Buffer.from(r)):e.end()}var xt=class{constructor(r){this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((t,n)=>{typeof r=="function"?r().then(s=>{t(this.resolveDefaultConfig(s))}).catch(n):t(this.resolveDefaultConfig(r))})}resolveDefaultConfig(r){let{requestTimeout:t,connectionTimeout:n,socketTimeout:s,httpAgent:o,httpsAgent:i}=r||{},a=!0,d=50;return{connectionTimeout:n,requestTimeout:t??s,httpAgent:o||new cI({keepAlive:a,maxSockets:d}),httpsAgent:i||new lI({keepAlive:a,maxSockets:d})}}destroy(){var r,t,n,s;(t=(r=this.config)==null?void 0:r.httpAgent)==null||t.destroy(),(s=(n=this.config)==null?void 0:n.httpsAgent)==null||s.destroy()}async handle(r,{abortSignal:t}={}){return this.config||(this.config=await this.configProvider),new Promise((n,s)=>{let o,i=async S=>{await o,n(S)},a=async S=>{await o,s(S)};if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(t!=null&&t.aborted){let S=new Error("Request aborted");S.name="AbortError",a(S);return}let d=r.protocol==="https:",l=Ud(r.query||{}),c={headers:r.headers,host:r.hostname,method:r.method,path:l?`${r.path}?${l}`:r.path,port:r.port,agent:d?this.config.httpsAgent:this.config.httpAgent},f=(d?mI:dI)(c,S=>{let C=new tt({statusCode:S.statusCode||-1,headers:Bd(S.headers),body:S});i({response:C})});f.on("error",S=>{Zp.includes(S.code)?a(Object.assign(S,{name:"TimeoutError"})):a(S)}),eh(f,a,this.config.connectionTimeout),rh(f,a,this.config.requestTimeout),t&&(t.onabort=()=>{f.abort();let S=new Error("Request aborted");S.name="AbortError",a(S)});let E=c.agent;typeof E=="object"&&"keepAlive"in E&&th(f,{keepAlive:E.keepAlive,keepAliveMsecs:E.keepAliveMsecs}),o=$d(f,r,this.config.requestTimeout)})}};var zd=class{constructor(r){this.sessions=[],this.sessions=r??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(r){this.sessions.push(r)}contains(r){return this.sessions.includes(r)}remove(r){this.sessions=this.sessions.filter(t=>t!==r)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(r){for(let t of this.sessions)t===r&&(t.destroyed||t.destroy())}};import{Writable as uI}from"stream";var Oa=class extends uI{constructor(){super(...arguments),this.bufferedBytes=[]}_write(r,t,n){this.bufferedBytes.push(r),n()}};var br=e=>new Promise((r,t)=>{let n=new Oa;e.pipe(n),e.on("error",s=>{n.end(),t(s)}),n.on("error",t),n.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.bufferedBytes));r(s)})});import{fstatSync as fI,lstatSync as pI}from"fs";var Tr=e=>{if(!e)return 0;if(typeof e=="string")return Buffer.from(e).length;if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.path=="string"||Buffer.isBuffer(e.path))return pI(e.path).size;if(typeof e.fd=="number")return fI(e.fd).size;throw new Error(`Body Length computation failed for ${e}`)};import{platform as Uk,release as Bk}from"os";import{env as ry,versions as $k}from"process";var ty=()=>{try{return typeof mt=="function"&&typeof module<"u"&&ey()?["md/crt-avail"]:null}catch{return null}};var zk="AWS_SDK_UA_APP_ID",qk="sdk-ua-app-id",vr=({serviceId:e,clientVersion:r})=>{let t=[["aws-sdk-js",r],[`os/${Uk()}`,Bk()],["lang/js"],["md/nodejs",`${$k.node}`]],n=ty();n&&t.push(n),e&&t.push([`api/${e}`,r]),ry.AWS_EXECUTION_ENV&&t.push([`exec-env/${ry.AWS_EXECUTION_ENV}`]);let s=q({environmentVariableSelector:i=>i[zk],configFileSelector:i=>i[qk],default:void 0})(),o;return async()=>{if(!o){let i=await s;o=i?[...t,[`app/${i}`]]:[...t]}return o}};Rn();var jk=/^[A-Za-z0-9+/]*={0,2}$/,Or=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!jk.exec(e))throw new TypeError("Invalid base64 string.");let r=In(e,"base64");return new Uint8Array(r.buffer,r.byteOffset,r.byteLength)};Rn();var Fr=e=>dn(e.buffer,e.byteOffset,e.byteLength).toString("base64");vt();var ly="required",zt="fn",qt="argv",es="ref",Rl="PartitionResult",kt="tree",gi="error",_i="endpoint",ny={[ly]:!1,type:"String"},sy={[ly]:!0,default:!1,type:"Boolean"},my={[es]:"Endpoint"},uy={[zt]:"booleanEquals",[qt]:[{[es]:"UseFIPS"},!0]},fy={[zt]:"booleanEquals",[qt]:[{[es]:"UseDualStack"},!0]},Pt={},oy={[zt]:"booleanEquals",[qt]:[!0,{[zt]:"getAttr",[qt]:[{[es]:Rl},"supportsFIPS"]}]},iy={[zt]:"booleanEquals",[qt]:[!0,{[zt]:"getAttr",[qt]:[{[es]:Rl},"supportsDualStack"]}]},ay=[my],cy=[uy],dy=[fy],Vk={version:"1.0",parameters:{Region:ny,UseDualStack:sy,UseFIPS:sy,Endpoint:ny},rules:[{conditions:[{[zt]:"aws.partition",[qt]:[{[es]:"Region"}],assign:Rl}],type:kt,rules:[{conditions:[{[zt]:"isSet",[qt]:ay},{[zt]:"parseURL",[qt]:ay,assign:"url"}],type:kt,rules:[{conditions:cy,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:gi},{type:kt,rules:[{conditions:dy,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:gi},{endpoint:{url:my,properties:Pt,headers:Pt},type:_i}]}]},{conditions:[uy,fy],type:kt,rules:[{conditions:[oy,iy],type:kt,rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Pt,headers:Pt},type:_i}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:gi}]},{conditions:cy,type:kt,rules:[{conditions:[oy],type:kt,rules:[{type:kt,rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Pt,headers:Pt},type:_i}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:gi}]},{conditions:dy,type:kt,rules:[{conditions:[iy],type:kt,rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Pt,headers:Pt},type:_i}]},{error:"DualStack is enabled but this partition does not support DualStack",type:gi}]},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:Pt,headers:Pt},type:_i}]}]},py=Vk;var hy=(e,r={})=>hr(py,{endpointParams:e,logger:r.logger});var yy=e=>({apiVersion:"2019-06-10",base64Decoder:(e==null?void 0:e.base64Decoder)??Or,base64Encoder:(e==null?void 0:e.base64Encoder)??Fr,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??hy,logger:(e==null?void 0:e.logger)??new St,serviceId:(e==null?void 0:e.serviceId)??"SSO",urlParser:(e==null?void 0:e.urlParser)??Pe,utf8Decoder:(e==null?void 0:e.utf8Decoder)??je,utf8Encoder:(e==null?void 0:e.utf8Encoder)??yt});var Ey="AWS_EXECUTION_ENV",kl="AWS_REGION",Pl="AWS_DEFAULT_REGION",Sy="AWS_EC2_METADATA_DISABLED",gy=["in-region","cross-region","mobile","standard","legacy"],_y="/latest/meta-data/placement/region";var Hk="AWS_DEFAULTS_MODE",Gk="defaults_mode",Cy={environmentVariableSelector:e=>e[Hk],configFileSelector:e=>e[Gk],default:"legacy"};var Lr=({region:e=q(ut),defaultsMode:r=q(Cy)}={})=>dr(async()=>{let t=typeof r=="function"?await r():r;switch(t==null?void 0:t.toLowerCase()){case"auto":return Wk(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(t==null?void 0:t.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${gy.join(", ")}, got ${t}`)}}),Wk=async e=>{if(e){let r=typeof e=="function"?await e():e,t=await Kk();return t?r===t?"in-region":"cross-region":"standard"}return"standard"},Kk=async()=>{if(process.env[Ey]&&(process.env[kl]||process.env[Pl]))return process.env[kl]??process.env[Pl];if(!process.env[Sy])try{let e=await mi();return(await Mt({...e,path:_y})).toString()}catch{}};var xy=e=>{_r(process.version);let r=Lr(e),t=()=>r().then(gr),n=yy(e);return{...n,...e,runtime:"node",defaultsMode:r,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??Tr,defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??vr({serviceId:n.serviceId,clientVersion:Qp.version}),maxAttempts:(e==null?void 0:e.maxAttempts)??q(or),region:(e==null?void 0:e.region)??q(ut,Kt),requestHandler:(e==null?void 0:e.requestHandler)??new xt(t),retryMode:(e==null?void 0:e.retryMode)??q({...ar,default:async()=>(await t()).retryMode||ft}),sha256:(e==null?void 0:e.sha256)??Ct.bind(null,"sha256"),streamCollector:(e==null?void 0:e.streamCollector)??br,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??q(Gt),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??q(Wt)}};var Xa=class extends gt{constructor(r){let t=xy(r),n=Xp(t),s=Yt(n),o=Qt(s),i=ir(o),a=i,d=fr(a);super(d),this.config=d,this.middlewareStack.use(cr(this.config)),this.middlewareStack.use(Xt(this.config)),this.middlewareStack.use(Jt(this.config)),this.middlewareStack.use(Zt(this.config)),this.middlewareStack.use(er(this.config)),this.middlewareStack.use(yr(this.config))}destroy(){super.destroy()}};var ct=class extends He{constructor(r){super(r),Object.setPrototypeOf(this,ct.prototype)}};var ts=class extends ct{constructor(r){super({name:"InvalidRequestException",$fault:"client",...r}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,ts.prototype)}},rs=class extends ct{constructor(r){super({name:"ResourceNotFoundException",$fault:"client",...r}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,rs.prototype)}},ns=class extends ct{constructor(r){super({name:"TooManyRequestsException",$fault:"client",...r}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,ns.prototype)}},ss=class extends ct{constructor(r){super({name:"UnauthorizedException",$fault:"client",...r}),this.name="UnauthorizedException",this.$fault="client",Object.setPrototypeOf(this,ss.prototype)}},wy=e=>({...e,...e.accessToken&&{accessToken:mn}}),Yk=e=>({...e,...e.secretAccessKey&&{secretAccessKey:mn},...e.sessionToken&&{sessionToken:mn}}),by=e=>({...e,...e.roleCredentials&&{roleCredentials:Yk(e.roleCredentials)}});var Ty=async(e,r)=>{let{hostname:t,protocol:n="https",port:s,path:o}=await r.endpoint(),i=oe({},sP,{"x-amz-sso_bearer_token":e.accessToken}),a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/federation/credentials`,d=oe({role_name:[,M(e.roleName,"roleName")],account_id:[,M(e.accountId,"accountId")]}),l;return new Ge({protocol:n,hostname:t,port:s,method:"GET",headers:i,path:a,query:d,body:l})};var Iy=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return Xk(e,r);let t=oe({$metadata:Ci(e)}),n=M(Sa(await Ry(e.body,r)),"body"),s=de(n,{roleCredentials:ri});return Object.assign(t,s),t},Xk=async(e,r)=>{let t={...e,body:await oP(e.body,r)},n=iP(e,t.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await Jk(t,r);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await Zk(t,r);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await eP(t,r);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await tP(t,r);default:let s=t.body;return Qk({output:e,parsedBody:s,errorCode:n})}};var Qk=Sr(ct),Jk=async(e,r)=>{let t=oe({}),n=e.body,s=de(n,{message:m});Object.assign(t,s);let o=new ts({$metadata:Ci(e),...t});return v(o,e.body)},Zk=async(e,r)=>{let t=oe({}),n=e.body,s=de(n,{message:m});Object.assign(t,s);let o=new rs({$metadata:Ci(e),...t});return v(o,e.body)},eP=async(e,r)=>{let t=oe({}),n=e.body,s=de(n,{message:m});Object.assign(t,s);let o=new ns({$metadata:Ci(e),...t});return v(o,e.body)},tP=async(e,r)=>{let t=oe({}),n=e.body,s=de(n,{message:m});Object.assign(t,s);let o=new ss({$metadata:Ci(e),...t});return v(o,e.body)},Ci=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),rP=(e=new Uint8Array,r)=>e instanceof Uint8Array?Promise.resolve(e):r.streamCollector(e)||Promise.resolve(new Uint8Array),nP=(e,r)=>rP(e,r).then(t=>r.utf8Encoder(t)),sP=e=>e!=null&&e!==""&&(!Object.getOwnPropertyNames(e).includes("length")||e.length!=0)&&(!Object.getOwnPropertyNames(e).includes("size")||e.size!=0),Ry=(e,r)=>nP(e,r).then(t=>t.length?JSON.parse(t):{}),oP=async(e,r)=>{let t=await Ry(e,r);return t.message=t.message??t.Message,t},iP=(e,r)=>{let t=(o,i)=>Object.keys(o).find(a=>a.toLowerCase()===i.toLowerCase()),n=o=>{let i=o;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},s=t(e.headers,"x-amzn-errortype");if(s!==void 0)return n(e.headers[s]);if(r.code!==void 0)return n(r.code);if(r.__type!==void 0)return n(r.__type)};var os=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,os.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"SSOClient",commandName:"GetRoleCredentialsCommand",inputFilterSensitiveLog:wy,outputFilterSensitiveLog:by},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return Ty(r,t)}deserialize(r,t){return Iy(r,t)}};var is="To refresh this SSO session run 'aws sso login' with the corresponding profile.";var ky=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssooidc"});var Py={name:"@aws-sdk/client-sso-oidc",description:"AWS SDK for JavaScript Sso Oidc Client for Node.js, Browser and React Native",version:"3.344.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso-oidc"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/config-resolver":"3.342.0","@aws-sdk/fetch-http-handler":"3.342.0","@aws-sdk/hash-node":"3.344.0","@aws-sdk/invalid-dependency":"3.342.0","@aws-sdk/middleware-content-length":"3.342.0","@aws-sdk/middleware-endpoint":"3.344.0","@aws-sdk/middleware-host-header":"3.342.0","@aws-sdk/middleware-logger":"3.342.0","@aws-sdk/middleware-recursion-detection":"3.342.0","@aws-sdk/middleware-retry":"3.342.0","@aws-sdk/middleware-serde":"3.342.0","@aws-sdk/middleware-stack":"3.342.0","@aws-sdk/middleware-user-agent":"3.342.0","@aws-sdk/node-config-provider":"3.342.0","@aws-sdk/node-http-handler":"3.344.0","@aws-sdk/smithy-client":"3.342.0","@aws-sdk/types":"3.342.0","@aws-sdk/url-parser":"3.342.0","@aws-sdk/util-base64":"3.310.0","@aws-sdk/util-body-length-browser":"3.310.0","@aws-sdk/util-body-length-node":"3.310.0","@aws-sdk/util-defaults-mode-browser":"3.342.0","@aws-sdk/util-defaults-mode-node":"3.342.0","@aws-sdk/util-endpoints":"3.342.0","@aws-sdk/util-retry":"3.342.0","@aws-sdk/util-user-agent-browser":"3.342.0","@aws-sdk/util-user-agent-node":"3.342.0","@aws-sdk/util-utf8":"3.310.0","@smithy/protocol-http":"^1.0.1","@smithy/types":"^1.0.0",tslib:"^2.5.0"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.310.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso-oidc",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso-oidc"}};vt();var My="required",jt="fn",Vt="argv",as="ref",Nl="PartitionResult",At="tree",xi="error",wi="endpoint",Ay={[My]:!1,type:"String"},Ny={[My]:!0,default:!1,type:"Boolean"},Uy={[as]:"Endpoint"},By={[jt]:"booleanEquals",[Vt]:[{[as]:"UseFIPS"},!0]},$y={[jt]:"booleanEquals",[Vt]:[{[as]:"UseDualStack"},!0]},Nt={},Dy={[jt]:"booleanEquals",[Vt]:[!0,{[jt]:"getAttr",[Vt]:[{[as]:Nl},"supportsFIPS"]}]},vy={[jt]:"booleanEquals",[Vt]:[!0,{[jt]:"getAttr",[Vt]:[{[as]:Nl},"supportsDualStack"]}]},Oy=[Uy],Fy=[By],Ly=[$y],cP={version:"1.0",parameters:{Region:Ay,UseDualStack:Ny,UseFIPS:Ny,Endpoint:Ay},rules:[{conditions:[{[jt]:"aws.partition",[Vt]:[{[as]:"Region"}],assign:Nl}],type:At,rules:[{conditions:[{[jt]:"isSet",[Vt]:Oy},{[jt]:"parseURL",[Vt]:Oy,assign:"url"}],type:At,rules:[{conditions:Fy,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:xi},{type:At,rules:[{conditions:Ly,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:xi},{endpoint:{url:Uy,properties:Nt,headers:Nt},type:wi}]}]},{conditions:[By,$y],type:At,rules:[{conditions:[Dy,vy],type:At,rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Nt,headers:Nt},type:wi}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:xi}]},{conditions:Fy,type:At,rules:[{conditions:[Dy],type:At,rules:[{type:At,rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Nt,headers:Nt},type:wi}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:xi}]},{conditions:Ly,type:At,rules:[{conditions:[vy],type:At,rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Nt,headers:Nt},type:wi}]},{error:"DualStack is enabled but this partition does not support DualStack",type:xi}]},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:Nt,headers:Nt},type:wi}]}]},zy=cP;var qy=(e,r={})=>hr(zy,{endpointParams:e,logger:r.logger});var jy=e=>({apiVersion:"2019-06-10",base64Decoder:(e==null?void 0:e.base64Decoder)??Or,base64Encoder:(e==null?void 0:e.base64Encoder)??Fr,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??qy,logger:(e==null?void 0:e.logger)??new St,serviceId:(e==null?void 0:e.serviceId)??"SSO OIDC",urlParser:(e==null?void 0:e.urlParser)??Pe,utf8Decoder:(e==null?void 0:e.utf8Decoder)??je,utf8Encoder:(e==null?void 0:e.utf8Encoder)??yt});var Vy=e=>{_r(process.version);let r=Lr(e),t=()=>r().then(gr),n=jy(e);return{...n,...e,runtime:"node",defaultsMode:r,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??Tr,defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??vr({serviceId:n.serviceId,clientVersion:Py.version}),maxAttempts:(e==null?void 0:e.maxAttempts)??q(or),region:(e==null?void 0:e.region)??q(ut,Kt),requestHandler:(e==null?void 0:e.requestHandler)??new xt(t),retryMode:(e==null?void 0:e.retryMode)??q({...ar,default:async()=>(await t()).retryMode||ft}),sha256:(e==null?void 0:e.sha256)??Ct.bind(null,"sha256"),streamCollector:(e==null?void 0:e.streamCollector)??br,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??q(Gt),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??q(Wt)}};var Qa=class extends gt{constructor(r){let t=Vy(r),n=ky(t),s=Yt(n),o=Qt(s),i=ir(o),a=i,d=fr(a);super(d),this.config=d,this.middlewareStack.use(cr(this.config)),this.middlewareStack.use(Xt(this.config)),this.middlewareStack.use(Jt(this.config)),this.middlewareStack.use(Zt(this.config)),this.middlewareStack.use(er(this.config)),this.middlewareStack.use(yr(this.config))}destroy(){super.destroy()}};var ye=class extends He{constructor(r){super(r),Object.setPrototypeOf(this,ye.prototype)}};var cs=class extends ye{constructor(r){super({name:"AccessDeniedException",$fault:"client",...r}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,cs.prototype),this.error=r.error,this.error_description=r.error_description}},ds=class extends ye{constructor(r){super({name:"AuthorizationPendingException",$fault:"client",...r}),this.name="AuthorizationPendingException",this.$fault="client",Object.setPrototypeOf(this,ds.prototype),this.error=r.error,this.error_description=r.error_description}},ls=class extends ye{constructor(r){super({name:"ExpiredTokenException",$fault:"client",...r}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,ls.prototype),this.error=r.error,this.error_description=r.error_description}},ms=class extends ye{constructor(r){super({name:"InternalServerException",$fault:"server",...r}),this.name="InternalServerException",this.$fault="server",Object.setPrototypeOf(this,ms.prototype),this.error=r.error,this.error_description=r.error_description}},us=class extends ye{constructor(r){super({name:"InvalidClientException",$fault:"client",...r}),this.name="InvalidClientException",this.$fault="client",Object.setPrototypeOf(this,us.prototype),this.error=r.error,this.error_description=r.error_description}},fs=class extends ye{constructor(r){super({name:"InvalidGrantException",$fault:"client",...r}),this.name="InvalidGrantException",this.$fault="client",Object.setPrototypeOf(this,fs.prototype),this.error=r.error,this.error_description=r.error_description}},ps=class extends ye{constructor(r){super({name:"InvalidRequestException",$fault:"client",...r}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,ps.prototype),this.error=r.error,this.error_description=r.error_description}},hs=class extends ye{constructor(r){super({name:"InvalidScopeException",$fault:"client",...r}),this.name="InvalidScopeException",this.$fault="client",Object.setPrototypeOf(this,hs.prototype),this.error=r.error,this.error_description=r.error_description}},ys=class extends ye{constructor(r){super({name:"SlowDownException",$fault:"client",...r}),this.name="SlowDownException",this.$fault="client",Object.setPrototypeOf(this,ys.prototype),this.error=r.error,this.error_description=r.error_description}},Es=class extends ye{constructor(r){super({name:"UnauthorizedClientException",$fault:"client",...r}),this.name="UnauthorizedClientException",this.$fault="client",Object.setPrototypeOf(this,Es.prototype),this.error=r.error,this.error_description=r.error_description}},Ss=class extends ye{constructor(r){super({name:"UnsupportedGrantTypeException",$fault:"client",...r}),this.name="UnsupportedGrantTypeException",this.$fault="client",Object.setPrototypeOf(this,Ss.prototype),this.error=r.error,this.error_description=r.error_description}};var Hy=async(e,r)=>{let{hostname:t,protocol:n="https",port:s,path:o}=await r.endpoint(),i={"content-type":"application/json"},a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/token`,d;return d=JSON.stringify(de(e,{clientId:[],clientSecret:[],code:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:l=>ri(l)})),new Ge({protocol:n,hostname:t,port:s,method:"POST",headers:i,path:a,body:d})};var Gy=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return dP(e,r);let t=oe({$metadata:Ze(e)}),n=M(Sa(await Wy(e.body,r)),"body"),s=de(n,{accessToken:m,expiresIn:Ea,idToken:m,refreshToken:m,tokenType:m});return Object.assign(t,s),t},dP=async(e,r)=>{let t={...e,body:await bP(e.body,r)},n=TP(e,t.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await mP(t,r);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await uP(t,r);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await fP(t,r);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await pP(t,r);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await hP(t,r);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await yP(t,r);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await EP(t,r);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await SP(t,r);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await gP(t,r);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await _P(t,r);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await CP(t,r);default:let s=t.body;return lP({output:e,parsedBody:s,errorCode:n})}};var lP=Sr(ye),mP=async(e,r)=>{let t=oe({}),n=e.body,s=de(n,{error:m,error_description:m});Object.assign(t,s);let o=new cs({$metadata:Ze(e),...t});return v(o,e.body)},uP=async(e,r)=>{let t=oe({}),n=e.body,s=de(n,{error:m,error_description:m});Object.assign(t,s);let o=new ds({$metadata:Ze(e),...t});return v(o,e.body)},fP=async(e,r)=>{let t=oe({}),n=e.body,s=de(n,{error:m,error_description:m});Object.assign(t,s);let o=new ls({$metadata:Ze(e),...t});return v(o,e.body)},pP=async(e,r)=>{let t=oe({}),n=e.body,s=de(n,{error:m,error_description:m});Object.assign(t,s);let o=new ms({$metadata:Ze(e),...t});return v(o,e.body)},hP=async(e,r)=>{let t=oe({}),n=e.body,s=de(n,{error:m,error_description:m});Object.assign(t,s);let o=new us({$metadata:Ze(e),...t});return v(o,e.body)};var yP=async(e,r)=>{let t=oe({}),n=e.body,s=de(n,{error:m,error_description:m});Object.assign(t,s);let o=new fs({$metadata:Ze(e),...t});return v(o,e.body)},EP=async(e,r)=>{let t=oe({}),n=e.body,s=de(n,{error:m,error_description:m});Object.assign(t,s);let o=new ps({$metadata:Ze(e),...t});return v(o,e.body)},SP=async(e,r)=>{let t=oe({}),n=e.body,s=de(n,{error:m,error_description:m});Object.assign(t,s);let o=new hs({$metadata:Ze(e),...t});return v(o,e.body)},gP=async(e,r)=>{let t=oe({}),n=e.body,s=de(n,{error:m,error_description:m});Object.assign(t,s);let o=new ys({$metadata:Ze(e),...t});return v(o,e.body)},_P=async(e,r)=>{let t=oe({}),n=e.body,s=de(n,{error:m,error_description:m});Object.assign(t,s);let o=new Es({$metadata:Ze(e),...t});return v(o,e.body)},CP=async(e,r)=>{let t=oe({}),n=e.body,s=de(n,{error:m,error_description:m});Object.assign(t,s);let o=new Ss({$metadata:Ze(e),...t});return v(o,e.body)},Ze=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),xP=(e=new Uint8Array,r)=>e instanceof Uint8Array?Promise.resolve(e):r.streamCollector(e)||Promise.resolve(new Uint8Array),wP=(e,r)=>xP(e,r).then(t=>r.utf8Encoder(t));var Wy=(e,r)=>wP(e,r).then(t=>t.length?JSON.parse(t):{}),bP=async(e,r)=>{let t=await Wy(e,r);return t.message=t.message??t.Message,t},TP=(e,r)=>{let t=(o,i)=>Object.keys(o).find(a=>a.toLowerCase()===i.toLowerCase()),n=o=>{let i=o;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},s=t(e.headers,"x-amzn-errortype");if(s!==void 0)return n(e.headers[s]);if(r.code!==void 0)return n(r.code);if(r.__type!==void 0)return n(r.__type)};var gs=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,gs.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"SSOOIDCClient",commandName:"CreateTokenCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return Hy(r,t)}deserialize(r,t){return Gy(r,t)}};var Dl={},Ky=e=>{if(Dl[e])return Dl[e];let r=new Qa({region:e});return Dl[e]=r,r};var Yy=(e,r)=>Ky(r).send(new gs({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}));var vl=e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new De(`Token is expired. ${is}`,!1)};var Mr=(e,r,t=!1)=>{if(typeof r>"u")throw new De(`Value not present for '${e}' in SSO Token${t?". Cannot refresh":""}. ${is}`,!1)};import{promises as IP}from"fs";var{writeFile:RP}=IP,Xy=(e,r)=>{let t=xa(e),n=JSON.stringify(r,null,2);return RP(t,n)};var Qy=new Date(0),Jy=(e={})=>async()=>{let r=await xr(e),t=We(e),n=r[t];if(n){if(!n.sso_session)throw new De(`Profile '${t}' is missing required property 'sso_session'.`)}else throw new De(`Profile '${t}' could not be found in shared credentials file.`,!1);let s=n.sso_session,i=(await Ia(e))[s];if(!i)throw new De(`Sso session '${s}' could not be found in shared credentials file.`,!1);for(let E of["sso_start_url","sso_region"])if(!i[E])throw new De(`Sso session '${s}' is missing required property '${E}'.`,!1);let a=i.sso_start_url,d=i.sso_region,l;try{l=await wa(s)}catch{throw new De(`The SSO session token associated with profile=${t} was not found or is invalid. ${is}`,!1)}Mr("accessToken",l.accessToken),Mr("expiresAt",l.expiresAt);let{accessToken:c,expiresAt:u}=l,f={token:c,expiration:new Date(u)};if(f.expiration.getTime()-Date.now()>3e5)return f;if(Date.now()-Qy.getTime()<30*1e3)return vl(f),f;Mr("clientId",l.clientId,!0),Mr("clientSecret",l.clientSecret,!0),Mr("refreshToken",l.refreshToken,!0);try{Qy.setTime(Date.now());let E=await Yy(l,d);Mr("accessToken",E.accessToken),Mr("expiresIn",E.expiresIn);let S=new Date(Date.now()+E.expiresIn*1e3);try{await Xy(s,{...l,accessToken:E.accessToken,expiresAt:S.toISOString(),refreshToken:E.refreshToken})}catch{}return{token:E.accessToken,expiration:S}}catch{return vl(f),f}};var PP=15*60*1e3,bi=!1,Ol=async({ssoStartUrl:e,ssoSession:r,ssoAccountId:t,ssoRegion:n,ssoRoleName:s,ssoClient:o,profile:i})=>{let a,d="To refresh this SSO session run aws sso login with the corresponding profile.";if(r)try{let N=await Jy({profile:i})();a={accessToken:N.token,expiresAt:new Date(N.expiration).toISOString()}}catch(N){throw new D(N.message,bi)}else try{a=await wa(e)}catch{throw new D(`The SSO session associated with this profile is invalid. ${d}`,bi)}if(new Date(a.expiresAt).getTime()-Date.now()<=PP)throw new D(`The SSO session associated with this profile has expired. ${d}`,bi);let{accessToken:l}=a,c=o||new Xa({region:n}),u;try{u=await c.send(new os({accountId:t,roleName:s,accessToken:l}))}catch(N){throw D.from(N,bi)}let{roleCredentials:{accessKeyId:f,secretAccessKey:E,sessionToken:S,expiration:C}={}}=u;if(!f||!E||!S||!C)throw new D("SSO returns an invalid temporary credential.",bi);return{accessKeyId:f,secretAccessKey:E,sessionToken:S,expiration:new Date(C)}};var Ja=e=>{let{sso_start_url:r,sso_account_id:t,sso_region:n,sso_role_name:s}=e;if(!r||!t||!n||!s)throw new D(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,!1);return e};var Za=(e={})=>async()=>{let{ssoStartUrl:r,ssoAccountId:t,ssoRegion:n,ssoRoleName:s,ssoClient:o,ssoSession:i}=e,a=We(e);if(!r&&!t&&!n&&!s&&!i){let l=(await xr(e))[a];if(!l)throw new D(`Profile ${a} was not found.`);if(!ui(l))throw new D(`Profile ${a} is not configured with SSO credentials.`);if(l!=null&&l.sso_session){let N=(await Ia(e))[l.sso_session],Dt=` configurations in profile ${a} and sso-session ${l.sso_session}`;if(n&&n!==N.sso_region)throw new D("Conflicting SSO region"+Dt,!1);if(r&&r!==N.sso_start_url)throw new D("Conflicting SSO start_url"+Dt,!1);l.sso_region=N.sso_region,l.sso_start_url=N.sso_start_url}let{sso_start_url:c,sso_account_id:u,sso_region:f,sso_role_name:E,sso_session:S}=Ja(l);return Ol({ssoStartUrl:c,ssoSession:S,ssoAccountId:u,ssoRegion:f,ssoRoleName:E,ssoClient:o,profile:a})}else{if(!r||!t||!n||!s)throw new D('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"');return Ol({ssoStartUrl:r,ssoSession:i,ssoAccountId:t,ssoRegion:n,ssoRoleName:s,ssoClient:o,profile:a})}};var Zy=e=>{let{sso_start_url:r,sso_account_id:t,sso_session:n,sso_region:s,sso_role_name:o}=Ja(e);return Za({ssoStartUrl:r,ssoAccountId:t,ssoSession:n,ssoRegion:s,ssoRoleName:o})()};var Fl=e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1,Ll=e=>Promise.resolve({accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token});import{readFileSync as AP}from"fs";var eE=e=>()=>{let{roleArn:r,roleSessionName:t,webIdentityToken:n,providerId:s,policyArns:o,policy:i,durationSeconds:a,roleAssumerWithWebIdentity:d}=e;if(!d)throw new D(`Role Arn '${r}' needs to be assumed with web identity, but no role assumption callback was provided.`,!1);return d({RoleArn:r,RoleSessionName:t??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:n,ProviderId:s,PolicyArns:o,Policy:i,DurationSeconds:a})};var NP="AWS_WEB_IDENTITY_TOKEN_FILE",DP="AWS_ROLE_ARN",vP="AWS_ROLE_SESSION_NAME",ec=(e={})=>async()=>OP(e),OP=e=>{let r=(e==null?void 0:e.webIdentityTokenFile)??process.env[NP],t=(e==null?void 0:e.roleArn)??process.env[DP],n=(e==null?void 0:e.roleSessionName)??process.env[vP];if(!r||!t)throw new D("Web identity configuration not specified");return eE({...e,webIdentityToken:AP(r,{encoding:"ascii"}),roleArn:t,roleSessionName:n})()};var tE=e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,rE=async(e,r)=>ec({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:r.roleAssumerWithWebIdentity})();var Da=async(e,r,t,n={})=>{let s=r[e];if(Object.keys(n).length>0&&Fl(s))return Ll(s);if(Vp(s))return Hp(e,r,t,n);if(Fl(s))return Ll(s);if(tE(s))return rE(s,t);if(Kp(s))return Yp(t,e);if(ui(s))return Zy(s);throw new D(`Profile ${e} could not be found or parsed in shared credentials file.`)};var nE=(e={})=>async()=>{let r=await xr(e);return Da(We(e),r,e)};var FP="AWS_EC2_METADATA_DISABLED",sE=e=>process.env[di]||process.env[ci]?Aa(e):process.env[FP]?async()=>{throw new D("EC2 Instance Metadata Service access disabled")}:Na(e);var tc=(e={})=>dr(Hi(...e.profile||process.env[Fd]?[]:[Ca()],Za(e),nE(e),va(e),ec(e),sE(e),async()=>{throw new D("Could not load credentials from any providers",!1)}),r=>r.expiration!==void 0&&r.expiration.getTime()-Date.now()<3e5,r=>r.expiration!==void 0);vt();var hE="required",F="type",j="fn",V="argv",Ur="ref";var yn="booleanEquals",xe="tree",_e="stringEquals",yE="sigv4",EE="sts",SE="us-east-1",te="endpoint",oE="https://sts.{Region}.{PartitionResult#dnsSuffix}",_s="error",Ul="getAttr",iE={[hE]:!1,[F]:"String"},Ml={[hE]:!0,default:!1,[F]:"Boolean"},gE={[Ur]:"Endpoint"},aE={[j]:"isSet",[V]:[{[Ur]:"Region"}]},Ce={[Ur]:"Region"},cE={[j]:"aws.partition",[V]:[Ce],assign:"PartitionResult"},_E={[Ur]:"UseFIPS"},CE={[Ur]:"UseDualStack"},we={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:yE,signingName:EE,signingRegion:SE}]},headers:{}},ze={},dE={conditions:[{[j]:_e,[V]:[Ce,"aws-global"]}],[te]:we,[F]:te},xE={[j]:yn,[V]:[_E,!0]},wE={[j]:yn,[V]:[CE,!0]},lE={[j]:yn,[V]:[!0,{[j]:Ul,[V]:[{[Ur]:"PartitionResult"},"supportsFIPS"]}]},bE={[Ur]:"PartitionResult"},mE={[j]:yn,[V]:[!0,{[j]:Ul,[V]:[bE,"supportsDualStack"]}]},uE=[{[j]:"isSet",[V]:[gE]}],fE=[xE],pE=[wE],LP={version:"1.0",parameters:{Region:iE,UseDualStack:Ml,UseFIPS:Ml,Endpoint:iE,UseGlobalEndpoint:Ml},rules:[{conditions:[{[j]:yn,[V]:[{[Ur]:"UseGlobalEndpoint"},!0]},{[j]:"not",[V]:uE},aE,cE,{[j]:yn,[V]:[_E,!1]},{[j]:yn,[V]:[CE,!1]}],[F]:xe,rules:[{conditions:[{[j]:_e,[V]:[Ce,"ap-northeast-1"]}],endpoint:we,[F]:te},{conditions:[{[j]:_e,[V]:[Ce,"ap-south-1"]}],endpoint:we,[F]:te},{conditions:[{[j]:_e,[V]:[Ce,"ap-southeast-1"]}],endpoint:we,[F]:te},{conditions:[{[j]:_e,[V]:[Ce,"ap-southeast-2"]}],endpoint:we,[F]:te},dE,{conditions:[{[j]:_e,[V]:[Ce,"ca-central-1"]}],endpoint:we,[F]:te},{conditions:[{[j]:_e,[V]:[Ce,"eu-central-1"]}],endpoint:we,[F]:te},{conditions:[{[j]:_e,[V]:[Ce,"eu-north-1"]}],endpoint:we,[F]:te},{conditions:[{[j]:_e,[V]:[Ce,"eu-west-1"]}],endpoint:we,[F]:te},{conditions:[{[j]:_e,[V]:[Ce,"eu-west-2"]}],endpoint:we,[F]:te},{conditions:[{[j]:_e,[V]:[Ce,"eu-west-3"]}],endpoint:we,[F]:te},{conditions:[{[j]:_e,[V]:[Ce,"sa-east-1"]}],endpoint:we,[F]:te},{conditions:[{[j]:_e,[V]:[Ce,SE]}],endpoint:we,[F]:te},{conditions:[{[j]:_e,[V]:[Ce,"us-east-2"]}],endpoint:we,[F]:te},{conditions:[{[j]:_e,[V]:[Ce,"us-west-1"]}],endpoint:we,[F]:te},{conditions:[{[j]:_e,[V]:[Ce,"us-west-2"]}],endpoint:we,[F]:te},{endpoint:{url:oE,properties:{authSchemes:[{name:yE,signingName:EE,signingRegion:"{Region}"}]},headers:ze},[F]:te}]},{conditions:uE,[F]:xe,rules:[{conditions:fE,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[F]:_s},{[F]:xe,rules:[{conditions:pE,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[F]:_s},{endpoint:{url:gE,properties:ze,headers:ze},[F]:te}]}]},{[F]:xe,rules:[{conditions:[aE],[F]:xe,rules:[{conditions:[cE],[F]:xe,rules:[{conditions:[xE,wE],[F]:xe,rules:[{conditions:[lE,mE],[F]:xe,rules:[{[F]:xe,rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ze,headers:ze},[F]:te}]}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[F]:_s}]},{conditions:fE,[F]:xe,rules:[{conditions:[lE],[F]:xe,rules:[{[F]:xe,rules:[{conditions:[{[j]:_e,[V]:["aws-us-gov",{[j]:Ul,[V]:[bE,"name"]}]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:ze,headers:ze},[F]:te},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:ze,headers:ze},[F]:te}]}]},{error:"FIPS is enabled but this partition does not support FIPS",[F]:_s}]},{conditions:pE,[F]:xe,rules:[{conditions:[mE],[F]:xe,rules:[{[F]:xe,rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ze,headers:ze},[F]:te}]}]},{error:"DualStack is enabled but this partition does not support DualStack",[F]:_s}]},{[F]:xe,rules:[dE,{endpoint:{url:oE,properties:ze,headers:ze},[F]:te}]}]}]},{error:"Invalid Configuration: Missing Region",[F]:_s}]}]},TE=LP;var IE=(e,r={})=>hr(TE,{endpointParams:e,logger:r.logger});var RE=e=>({apiVersion:"2011-06-15",base64Decoder:(e==null?void 0:e.base64Decoder)??Or,base64Encoder:(e==null?void 0:e.base64Encoder)??Fr,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??IE,logger:(e==null?void 0:e.logger)??new St,serviceId:(e==null?void 0:e.serviceId)??"STS",urlParser:(e==null?void 0:e.urlParser)??Pe,utf8Decoder:(e==null?void 0:e.utf8Decoder)??je,utf8Encoder:(e==null?void 0:e.utf8Encoder)??yt});var kE=e=>{_r(process.version);let r=Lr(e),t=()=>r().then(gr),n=RE(e);return{...n,...e,runtime:"node",defaultsMode:r,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??Tr,credentialDefaultProvider:(e==null?void 0:e.credentialDefaultProvider)??Rp(tc),defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??vr({serviceId:n.serviceId,clientVersion:Df.version}),maxAttempts:(e==null?void 0:e.maxAttempts)??q(or),region:(e==null?void 0:e.region)??q(ut,Kt),requestHandler:(e==null?void 0:e.requestHandler)??new xt(t),retryMode:(e==null?void 0:e.retryMode)??q({...ar,default:async()=>(await t()).retryMode||ft}),sha256:(e==null?void 0:e.sha256)??Ct.bind(null,"sha256"),streamCollector:(e==null?void 0:e.streamCollector)??br,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??q(Gt),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??q(Wt)}};var En=class extends gt{constructor(r){let t=kE(r),n=Nf(t),s=Yt(n),o=Qt(s),i=ir(o),a=i,d=Af(a,{stsClientCtor:En}),l=fr(d);super(l),this.config=l,this.middlewareStack.use(cr(this.config)),this.middlewareStack.use(Xt(this.config)),this.middlewareStack.use(Jt(this.config)),this.middlewareStack.use(Zt(this.config)),this.middlewareStack.use(er(this.config)),this.middlewareStack.use(yr(this.config))}destroy(){super.destroy()}};var PE=(e,r)=>r?class extends e{constructor(n){super(n);for(let s of r)this.middlewareStack.use(s)}}:e,MP=(e={},r)=>vd(e,PE(En,r)),UP=(e={},r)=>Od(e,PE(En,r)),AE=e=>r=>e({roleAssumer:MP(r),roleAssumerWithWebIdentity:UP(r),...r});vt();var $E="required",dt="fn",lt="argv",ws="ref",NE="isSet",ke="tree",Cs="error",xs="endpoint",Bl="PartitionResult",$l="getAttr",DE={[$E]:!1,type:"String"},vE={[$E]:!0,default:!1,type:"Boolean"},OE={[ws]:"Endpoint"},zE={[dt]:"booleanEquals",[lt]:[{[ws]:"UseFIPS"},!0]},qE={[dt]:"booleanEquals",[lt]:[{[ws]:"UseDualStack"},!0]},et={},FE={[dt]:"booleanEquals",[lt]:[!0,{[dt]:$l,[lt]:[{[ws]:Bl},"supportsFIPS"]}]},jE={[ws]:Bl},LE={[dt]:"booleanEquals",[lt]:[!0,{[dt]:$l,[lt]:[jE,"supportsDualStack"]}]},ME=[zE],UE=[qE],BE=[{[ws]:"Region"}],BP={version:"1.0",parameters:{Region:DE,UseDualStack:vE,UseFIPS:vE,Endpoint:DE},rules:[{conditions:[{[dt]:NE,[lt]:[OE]}],type:ke,rules:[{conditions:ME,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Cs},{type:ke,rules:[{conditions:UE,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Cs},{endpoint:{url:OE,properties:et,headers:et},type:xs}]}]},{type:ke,rules:[{conditions:[{[dt]:NE,[lt]:BE}],type:ke,rules:[{conditions:[{[dt]:"aws.partition",[lt]:BE,assign:Bl}],type:ke,rules:[{conditions:[zE,qE],type:ke,rules:[{conditions:[FE,LE],type:ke,rules:[{type:ke,rules:[{endpoint:{url:"https://cloudformation-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:et,headers:et},type:xs}]}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Cs}]},{conditions:ME,type:ke,rules:[{conditions:[FE],type:ke,rules:[{type:ke,rules:[{conditions:[{[dt]:"stringEquals",[lt]:["aws-us-gov",{[dt]:$l,[lt]:[jE,"name"]}]}],endpoint:{url:"https://cloudformation.{Region}.amazonaws.com",properties:et,headers:et},type:xs},{endpoint:{url:"https://cloudformation-fips.{Region}.{PartitionResult#dnsSuffix}",properties:et,headers:et},type:xs}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:Cs}]},{conditions:UE,type:ke,rules:[{conditions:[LE],type:ke,rules:[{type:ke,rules:[{endpoint:{url:"https://cloudformation.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:et,headers:et},type:xs}]}]},{error:"DualStack is enabled but this partition does not support DualStack",type:Cs}]},{type:ke,rules:[{endpoint:{url:"https://cloudformation.{Region}.{PartitionResult#dnsSuffix}",properties:et,headers:et},type:xs}]}]}]},{error:"Invalid Configuration: Missing Region",type:Cs}]}]},VE=BP;var HE=(e,r={})=>hr(VE,{endpointParams:e,logger:r.logger});var GE=e=>({apiVersion:"2010-05-15",base64Decoder:(e==null?void 0:e.base64Decoder)??Or,base64Encoder:(e==null?void 0:e.base64Encoder)??Fr,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??HE,logger:(e==null?void 0:e.logger)??new St,serviceId:(e==null?void 0:e.serviceId)??"CloudFormation",urlParser:(e==null?void 0:e.urlParser)??Pe,utf8Decoder:(e==null?void 0:e.utf8Decoder)??je,utf8Encoder:(e==null?void 0:e.utf8Encoder)??yt});var WE=e=>{_r(process.version);let r=Lr(e),t=()=>r().then(gr),n=GE(e);return{...n,...e,runtime:"node",defaultsMode:r,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??Tr,credentialDefaultProvider:(e==null?void 0:e.credentialDefaultProvider)??AE(tc),defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??vr({serviceId:n.serviceId,clientVersion:Pf.version}),maxAttempts:(e==null?void 0:e.maxAttempts)??q(or),region:(e==null?void 0:e.region)??q(ut,Kt),requestHandler:(e==null?void 0:e.requestHandler)??new xt(t),retryMode:(e==null?void 0:e.retryMode)??q({...ar,default:async()=>(await t()).retryMode||ft}),sha256:(e==null?void 0:e.sha256)??Ct.bind(null,"sha256"),streamCollector:(e==null?void 0:e.streamCollector)??br,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??q(Gt),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??q(Wt)}};var $=class extends gt{constructor(r){let t=WE(r),n=kf(t),s=Yt(n),o=Qt(s),i=ir(o),a=i,d=ia(a),l=fr(d);super(l),this.config=l,this.middlewareStack.use(cr(this.config)),this.middlewareStack.use(Xt(this.config)),this.middlewareStack.use(Jt(this.config)),this.middlewareStack.use(Zt(this.config)),this.middlewareStack.use(er(this.config)),this.middlewareStack.use(ca(this.config)),this.middlewareStack.use(yr(this.config))}destroy(){super.destroy()}};var KE=Fi(Id());ji();var H=class extends He{constructor(r){super(r),Object.setPrototypeOf(this,H.prototype)}};var p9={DIFFERENCE:"DIFFERENCE",INTERSECTION:"INTERSECTION",NONE:"NONE",UNION:"UNION"},h9={FAILED:"FAILED",SKIPPED:"SKIPPED",SUCCEEDED:"SUCCEEDED"},y9={HOOK:"HOOK",MODULE:"MODULE",RESOURCE:"RESOURCE"},E9={MAJOR:"MAJOR",MINOR:"MINOR"},bs=class extends H{constructor(r){super({name:"CFNRegistryException",$fault:"client",...r}),this.name="CFNRegistryException",this.$fault="client",Object.setPrototypeOf(this,bs.prototype),this.Message=r.Message}},Ts=class extends H{constructor(r){super({name:"TypeNotFoundException",$fault:"client",...r}),this.name="TypeNotFoundException",this.$fault="client",Object.setPrototypeOf(this,Ts.prototype),this.Message=r.Message}},Is=class extends H{constructor(r){super({name:"AlreadyExistsException",$fault:"client",...r}),this.name="AlreadyExistsException",this.$fault="client",Object.setPrototypeOf(this,Is.prototype),this.Message=r.Message}},Rs=class extends H{constructor(r){super({name:"TypeConfigurationNotFoundException",$fault:"client",...r}),this.name="TypeConfigurationNotFoundException",this.$fault="client",Object.setPrototypeOf(this,Rs.prototype),this.Message=r.Message}},S9={DELEGATED_ADMIN:"DELEGATED_ADMIN",SELF:"SELF"},ks=class extends H{constructor(r){super({name:"TokenAlreadyExistsException",$fault:"client",...r}),this.name="TokenAlreadyExistsException",this.$fault="client",Object.setPrototypeOf(this,ks.prototype),this.Message=r.Message}},g9={CAPABILITY_AUTO_EXPAND:"CAPABILITY_AUTO_EXPAND",CAPABILITY_IAM:"CAPABILITY_IAM",CAPABILITY_NAMED_IAM:"CAPABILITY_NAMED_IAM"},_9={ACTIVATED:"ACTIVATED",AWS_TYPES:"AWS_TYPES",REGISTERED:"REGISTERED",THIRD_PARTY:"THIRD_PARTY"},C9={Add:"Add",Dynamic:"Dynamic",Import:"Import",Modify:"Modify",Remove:"Remove"},x9={Automatic:"Automatic",DirectModification:"DirectModification",ParameterReference:"ParameterReference",ResourceAttribute:"ResourceAttribute",ResourceReference:"ResourceReference"},w9={Dynamic:"Dynamic",Static:"Static"},b9={CreationPolicy:"CreationPolicy",DeletionPolicy:"DeletionPolicy",Metadata:"Metadata",Properties:"Properties",Tags:"Tags",UpdatePolicy:"UpdatePolicy"},T9={Always:"Always",Conditionally:"Conditionally",Never:"Never"},I9={Conditional:"Conditional",False:"False",True:"True"},R9={Resource:"Resource"},k9={FAIL:"FAIL",WARN:"WARN"},P9={PRE_PROVISION:"PRE_PROVISION"},A9={RESOURCE:"RESOURCE"},N9={PLANNED:"PLANNED",PLANNING:"PLANNING",UNAVAILABLE:"UNAVAILABLE"},Ps=class extends H{constructor(r){super({name:"ChangeSetNotFoundException",$fault:"client",...r}),this.name="ChangeSetNotFoundException",this.$fault="client",Object.setPrototypeOf(this,Ps.prototype),this.Message=r.Message}},D9={CREATE_COMPLETE:"CREATE_COMPLETE",CREATE_IN_PROGRESS:"CREATE_IN_PROGRESS",CREATE_PENDING:"CREATE_PENDING",DELETE_COMPLETE:"DELETE_COMPLETE",DELETE_FAILED:"DELETE_FAILED",DELETE_IN_PROGRESS:"DELETE_IN_PROGRESS",DELETE_PENDING:"DELETE_PENDING",FAILED:"FAILED"},v9={AVAILABLE:"AVAILABLE",EXECUTE_COMPLETE:"EXECUTE_COMPLETE",EXECUTE_FAILED:"EXECUTE_FAILED",EXECUTE_IN_PROGRESS:"EXECUTE_IN_PROGRESS",OBSOLETE:"OBSOLETE",UNAVAILABLE:"UNAVAILABLE"},O9={CREATE:"CREATE",IMPORT:"IMPORT",UPDATE:"UPDATE"},As=class extends H{constructor(r){super({name:"InsufficientCapabilitiesException",$fault:"client",...r}),this.name="InsufficientCapabilitiesException",this.$fault="client",Object.setPrototypeOf(this,As.prototype),this.Message=r.Message}},Ns=class extends H{constructor(r){super({name:"LimitExceededException",$fault:"client",...r}),this.name="LimitExceededException",this.$fault="client",Object.setPrototypeOf(this,Ns.prototype),this.Message=r.Message}},F9={DELETE:"DELETE",DO_NOTHING:"DO_NOTHING",ROLLBACK:"ROLLBACK"},L9={PARALLEL:"PARALLEL",SEQUENTIAL:"SEQUENTIAL"},Ds=class extends H{constructor(r){super({name:"InvalidOperationException",$fault:"client",...r}),this.name="InvalidOperationException",this.$fault="client",Object.setPrototypeOf(this,Ds.prototype),this.Message=r.Message}},vs=class extends H{constructor(r){super({name:"OperationIdAlreadyExistsException",$fault:"client",...r}),this.name="OperationIdAlreadyExistsException",this.$fault="client",Object.setPrototypeOf(this,vs.prototype),this.Message=r.Message}},Os=class extends H{constructor(r){super({name:"OperationInProgressException",$fault:"client",...r}),this.name="OperationInProgressException",this.$fault="client",Object.setPrototypeOf(this,Os.prototype),this.Message=r.Message}},Fs=class extends H{constructor(r){super({name:"StackSetNotFoundException",$fault:"client",...r}),this.name="StackSetNotFoundException",this.$fault="client",Object.setPrototypeOf(this,Fs.prototype),this.Message=r.Message}},Ls=class extends H{constructor(r){super({name:"StaleRequestException",$fault:"client",...r}),this.name="StaleRequestException",this.$fault="client",Object.setPrototypeOf(this,Ls.prototype),this.Message=r.Message}},Ms=class extends H{constructor(r){super({name:"CreatedButModifiedException",$fault:"client",...r}),this.name="CreatedButModifiedException",this.$fault="client",Object.setPrototypeOf(this,Ms.prototype),this.Message=r.Message}},M9={SELF_MANAGED:"SELF_MANAGED",SERVICE_MANAGED:"SERVICE_MANAGED"},Us=class extends H{constructor(r){super({name:"NameAlreadyExistsException",$fault:"client",...r}),this.name="NameAlreadyExistsException",this.$fault="client",Object.setPrototypeOf(this,Us.prototype),this.Message=r.Message}},Bs=class extends H{constructor(r){super({name:"InvalidChangeSetStatusException",$fault:"client",...r}),this.name="InvalidChangeSetStatusException",this.$fault="client",Object.setPrototypeOf(this,Bs.prototype),this.Message=r.Message}},$s=class extends H{constructor(r){super({name:"StackSetNotEmptyException",$fault:"client",...r}),this.name="StackSetNotEmptyException",this.$fault="client",Object.setPrototypeOf(this,$s.prototype),this.Message=r.Message}},U9={HOOK:"HOOK",MODULE:"MODULE",RESOURCE:"RESOURCE"},B9={AWS_Marketplace:"AWS_Marketplace",Bitbucket:"Bitbucket",GitHub:"GitHub"},$9={UNVERIFIED:"UNVERIFIED",VERIFIED:"VERIFIED"},z9={DETECTION_COMPLETE:"DETECTION_COMPLETE",DETECTION_FAILED:"DETECTION_FAILED",DETECTION_IN_PROGRESS:"DETECTION_IN_PROGRESS"},q9={DRIFTED:"DRIFTED",IN_SYNC:"IN_SYNC",NOT_CHECKED:"NOT_CHECKED",UNKNOWN:"UNKNOWN"},j9={HOOK_COMPLETE_FAILED:"HOOK_COMPLETE_FAILED",HOOK_COMPLETE_SUCCEEDED:"HOOK_COMPLETE_SUCCEEDED",HOOK_FAILED:"HOOK_FAILED",HOOK_IN_PROGRESS:"HOOK_IN_PROGRESS"},V9={CREATE_COMPLETE:"CREATE_COMPLETE",CREATE_FAILED:"CREATE_FAILED",CREATE_IN_PROGRESS:"CREATE_IN_PROGRESS",DELETE_COMPLETE:"DELETE_COMPLETE",DELETE_FAILED:"DELETE_FAILED",DELETE_IN_PROGRESS:"DELETE_IN_PROGRESS",DELETE_SKIPPED:"DELETE_SKIPPED",IMPORT_COMPLETE:"IMPORT_COMPLETE",IMPORT_FAILED:"IMPORT_FAILED",IMPORT_IN_PROGRESS:"IMPORT_IN_PROGRESS",IMPORT_ROLLBACK_COMPLETE:"IMPORT_ROLLBACK_COMPLETE",IMPORT_ROLLBACK_FAILED:"IMPORT_ROLLBACK_FAILED",IMPORT_ROLLBACK_IN_PROGRESS:"IMPORT_ROLLBACK_IN_PROGRESS",ROLLBACK_COMPLETE:"ROLLBACK_COMPLETE",ROLLBACK_FAILED:"ROLLBACK_FAILED",ROLLBACK_IN_PROGRESS:"ROLLBACK_IN_PROGRESS",UPDATE_COMPLETE:"UPDATE_COMPLETE",UPDATE_FAILED:"UPDATE_FAILED",UPDATE_IN_PROGRESS:"UPDATE_IN_PROGRESS",UPDATE_ROLLBACK_COMPLETE:"UPDATE_ROLLBACK_COMPLETE",UPDATE_ROLLBACK_FAILED:"UPDATE_ROLLBACK_FAILED",UPDATE_ROLLBACK_IN_PROGRESS:"UPDATE_ROLLBACK_IN_PROGRESS"},H9={CANCELLED:"CANCELLED",FAILED:"FAILED",INOPERABLE:"INOPERABLE",PENDING:"PENDING",RUNNING:"RUNNING",SUCCEEDED:"SUCCEEDED"},G9={CURRENT:"CURRENT",INOPERABLE:"INOPERABLE",OUTDATED:"OUTDATED"},zs=class extends H{constructor(r){super({name:"StackInstanceNotFoundException",$fault:"client",...r}),this.name="StackInstanceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,zs.prototype),this.Message=r.Message}},W9={DELETED:"DELETED",IN_SYNC:"IN_SYNC",MODIFIED:"MODIFIED",NOT_CHECKED:"NOT_CHECKED"},K9={ADD:"ADD",NOT_EQUAL:"NOT_EQUAL",REMOVE:"REMOVE"},Y9={CREATE_COMPLETE:"CREATE_COMPLETE",CREATE_FAILED:"CREATE_FAILED",CREATE_IN_PROGRESS:"CREATE_IN_PROGRESS",DELETE_COMPLETE:"DELETE_COMPLETE",DELETE_FAILED:"DELETE_FAILED",DELETE_IN_PROGRESS:"DELETE_IN_PROGRESS",IMPORT_COMPLETE:"IMPORT_COMPLETE",IMPORT_IN_PROGRESS:"IMPORT_IN_PROGRESS",IMPORT_ROLLBACK_COMPLETE:"IMPORT_ROLLBACK_COMPLETE",IMPORT_ROLLBACK_FAILED:"IMPORT_ROLLBACK_FAILED",IMPORT_ROLLBACK_IN_PROGRESS:"IMPORT_ROLLBACK_IN_PROGRESS",REVIEW_IN_PROGRESS:"REVIEW_IN_PROGRESS",ROLLBACK_COMPLETE:"ROLLBACK_COMPLETE",ROLLBACK_FAILED:"ROLLBACK_FAILED",ROLLBACK_IN_PROGRESS:"ROLLBACK_IN_PROGRESS",UPDATE_COMPLETE:"UPDATE_COMPLETE",UPDATE_COMPLETE_CLEANUP_IN_PROGRESS:"UPDATE_COMPLETE_CLEANUP_IN_PROGRESS",UPDATE_FAILED:"UPDATE_FAILED",UPDATE_IN_PROGRESS:"UPDATE_IN_PROGRESS",UPDATE_ROLLBACK_COMPLETE:"UPDATE_ROLLBACK_COMPLETE",UPDATE_ROLLBACK_COMPLETE_CLEANUP_IN_PROGRESS:"UPDATE_ROLLBACK_COMPLETE_CLEANUP_IN_PROGRESS",UPDATE_ROLLBACK_FAILED:"UPDATE_ROLLBACK_FAILED",UPDATE_ROLLBACK_IN_PROGRESS:"UPDATE_ROLLBACK_IN_PROGRESS"},X9={COMPLETED:"COMPLETED",FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS",PARTIAL_SUCCESS:"PARTIAL_SUCCESS",STOPPED:"STOPPED"},Q9={DRIFTED:"DRIFTED",IN_SYNC:"IN_SYNC",NOT_CHECKED:"NOT_CHECKED"},J9={ACTIVE:"ACTIVE",DELETED:"DELETED"},Z9={CREATE:"CREATE",DELETE:"DELETE",DETECT_DRIFT:"DETECT_DRIFT",UPDATE:"UPDATE"},e7={FAILED:"FAILED",QUEUED:"QUEUED",RUNNING:"RUNNING",STOPPED:"STOPPED",STOPPING:"STOPPING",SUCCEEDED:"SUCCEEDED"},qs=class extends H{constructor(r){super({name:"OperationNotFoundException",$fault:"client",...r}),this.name="OperationNotFoundException",this.$fault="client",Object.setPrototypeOf(this,qs.prototype),this.Message=r.Message}},t7={DEPRECATED:"DEPRECATED",LIVE:"LIVE"},r7={FULLY_MUTABLE:"FULLY_MUTABLE",IMMUTABLE:"IMMUTABLE",NON_PROVISIONABLE:"NON_PROVISIONABLE"},n7={FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS",NOT_TESTED:"NOT_TESTED",PASSED:"PASSED"},s7={PRIVATE:"PRIVATE",PUBLIC:"PUBLIC"},o7={COMPLETE:"COMPLETE",FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS"},i7={Original:"Original",Processed:"Processed"},js=class extends H{constructor(r){super({name:"StackNotFoundException",$fault:"client",...r}),this.name="StackNotFoundException",this.$fault="client",Object.setPrototypeOf(this,js.prototype),this.Message=r.Message}},a7={DETAILED_STATUS:"DETAILED_STATUS",LAST_OPERATION_ID:"LAST_OPERATION_ID"},c7={OPERATION_RESULT_STATUS:"OPERATION_RESULT_STATUS"},d7={CANCELLED:"CANCELLED",FAILED:"FAILED",PENDING:"PENDING",RUNNING:"RUNNING",SUCCEEDED:"SUCCEEDED"},Vs=class extends H{constructor(r){super({name:"InvalidStateTransitionException",$fault:"client",...r}),this.name="InvalidStateTransitionException",this.$fault="client",Object.setPrototypeOf(this,Vs.prototype),this.Message=r.Message}},Hs=class extends H{constructor(r){super({name:"OperationStatusCheckFailedException",$fault:"client",...r}),this.name="OperationStatusCheckFailedException",this.$fault="client",Object.setPrototypeOf(this,Hs.prototype),this.Message=r.Message}},l7={FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS",PENDING:"PENDING",SUCCESS:"SUCCESS"},m7={AccessDenied:"AccessDenied",AlreadyExists:"AlreadyExists",GeneralServiceException:"GeneralServiceException",HandlerInternalFailure:"HandlerInternalFailure",InternalFailure:"InternalFailure",InvalidCredentials:"InvalidCredentials",InvalidRequest:"InvalidRequest",InvalidTypeConfiguration:"InvalidTypeConfiguration",NetworkFailure:"NetworkFailure",NonCompliant:"NonCompliant",NotFound:"NotFound",NotUpdatable:"NotUpdatable",ResourceConflict:"ResourceConflict",ServiceInternalError:"ServiceInternalError",ServiceLimitExceeded:"ServiceLimitExceeded",ServiceTimeout:"NotStabilized",Throttling:"Throttling",Unknown:"Unknown",UnsupportedTarget:"UnsupportedTarget"},u7={FAILURE:"FAILURE",SUCCESS:"SUCCESS"};var YE=async(e,r)=>{let t=b,n;return n=I({...oN(e,r),Action:"ActivateType",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},XE=async(e,r)=>{let t=b,n;return n=I({...iN(e,r),Action:"BatchDescribeTypeConfigurations",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},QE=async(e,r)=>{let t=b,n;return n=I({...aN(e,r),Action:"CancelUpdateStack",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},JE=async(e,r)=>{let t=b,n;return n=I({...cN(e,r),Action:"ContinueUpdateRollback",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},ZE=async(e,r)=>{let t=b,n;return n=I({...dN(e,r),Action:"CreateChangeSet",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},eS=async(e,r)=>{let t=b,n;return n=I({...lN(e,r),Action:"CreateStack",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},tS=async(e,r)=>{let t=b,n;return n=I({...mN(e,r),Action:"CreateStackInstances",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},rS=async(e,r)=>{let t=b,n;return n=I({...uN(e,r),Action:"CreateStackSet",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},nS=async(e,r)=>{let t=b,n;return n=I({...fN(e,r),Action:"DeactivateType",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},sS=async(e,r)=>{let t=b,n;return n=I({...pN(e,r),Action:"DeleteChangeSet",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},oS=async(e,r)=>{let t=b,n;return n=I({...hN(e,r),Action:"DeleteStack",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},iS=async(e,r)=>{let t=b,n;return n=I({...yN(e,r),Action:"DeleteStackInstances",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},aS=async(e,r)=>{let t=b,n;return n=I({...EN(e,r),Action:"DeleteStackSet",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},cS=async(e,r)=>{let t=b,n;return n=I({...SN(e,r),Action:"DeregisterType",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},dS=async(e,r)=>{let t=b,n;return n=I({...gN(e,r),Action:"DescribeAccountLimits",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},lS=async(e,r)=>{let t=b,n;return n=I({...CN(e,r),Action:"DescribeChangeSet",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},mS=async(e,r)=>{let t=b,n;return n=I({..._N(e,r),Action:"DescribeChangeSetHooks",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},uS=async(e,r)=>{let t=b,n;return n=I({...xN(e,r),Action:"DescribePublisher",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},fS=async(e,r)=>{let t=b,n;return n=I({...wN(e,r),Action:"DescribeStackDriftDetectionStatus",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},pS=async(e,r)=>{let t=b,n;return n=I({...bN(e,r),Action:"DescribeStackEvents",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},hS=async(e,r)=>{let t=b,n;return n=I({...TN(e,r),Action:"DescribeStackInstance",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},yS=async(e,r)=>{let t=b,n;return n=I({...RN(e,r),Action:"DescribeStackResource",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},ES=async(e,r)=>{let t=b,n;return n=I({...IN(e,r),Action:"DescribeStackResourceDrifts",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},SS=async(e,r)=>{let t=b,n;return n=I({...kN(e,r),Action:"DescribeStackResources",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},gS=async(e,r)=>{let t=b,n;return n=I({...NN(e,r),Action:"DescribeStacks",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},_S=async(e,r)=>{let t=b,n;return n=I({...PN(e,r),Action:"DescribeStackSet",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},CS=async(e,r)=>{let t=b,n;return n=I({...AN(e,r),Action:"DescribeStackSetOperation",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},xS=async(e,r)=>{let t=b,n;return n=I({...DN(e,r),Action:"DescribeType",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},wS=async(e,r)=>{let t=b,n;return n=I({...vN(e,r),Action:"DescribeTypeRegistration",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},bS=async(e,r)=>{let t=b,n;return n=I({...ON(e,r),Action:"DetectStackDrift",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},TS=async(e,r)=>{let t=b,n;return n=I({...FN(e,r),Action:"DetectStackResourceDrift",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},IS=async(e,r)=>{let t=b,n;return n=I({...LN(e,r),Action:"DetectStackSetDrift",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},RS=async(e,r)=>{let t=b,n;return n=I({...MN(e,r),Action:"EstimateTemplateCost",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},kS=async(e,r)=>{let t=b,n;return n=I({...UN(e,r),Action:"ExecuteChangeSet",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},PS=async(e,r)=>{let t=b,n;return n=I({...BN(e,r),Action:"GetStackPolicy",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},AS=async(e,r)=>{let t=b,n;return n=I({...$N(e,r),Action:"GetTemplate",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},NS=async(e,r)=>{let t=b,n;return n=I({...zN(e,r),Action:"GetTemplateSummary",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},DS=async(e,r)=>{let t=b,n;return n=I({...qN(e,r),Action:"ImportStacksToStackSet",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},vS=async(e,r)=>{let t=b,n;return n=I({...jN(e,r),Action:"ListChangeSets",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},OS=async(e,r)=>{let t=b,n;return n=I({...VN(e,r),Action:"ListExports",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},FS=async(e,r)=>{let t=b,n;return n=I({...HN(e,r),Action:"ListImports",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},LS=async(e,r)=>{let t=b,n;return n=I({...GN(e,r),Action:"ListStackInstances",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},MS=async(e,r)=>{let t=b,n;return n=I({...WN(e,r),Action:"ListStackResources",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},US=async(e,r)=>{let t=b,n;return n=I({...QN(e,r),Action:"ListStacks",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},BS=async(e,r)=>{let t=b,n;return n=I({...KN(e,r),Action:"ListStackSetOperationResults",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},$S=async(e,r)=>{let t=b,n;return n=I({...YN(e,r),Action:"ListStackSetOperations",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},zS=async(e,r)=>{let t=b,n;return n=I({...XN(e,r),Action:"ListStackSets",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},qS=async(e,r)=>{let t=b,n;return n=I({...JN(e,r),Action:"ListTypeRegistrations",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},jS=async(e,r)=>{let t=b,n;return n=I({...ZN(e,r),Action:"ListTypes",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},VS=async(e,r)=>{let t=b,n;return n=I({...e0(e,r),Action:"ListTypeVersions",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},HS=async(e,r)=>{let t=b,n;return n=I({...o0(e,r),Action:"PublishType",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},GS=async(e,r)=>{let t=b,n;return n=I({...i0(e,r),Action:"RecordHandlerProgress",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},WS=async(e,r)=>{let t=b,n;return n=I({...a0(e,r),Action:"RegisterPublisher",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},KS=async(e,r)=>{let t=b,n;return n=I({...c0(e,r),Action:"RegisterType",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},YS=async(e,r)=>{let t=b,n;return n=I({...p0(e,r),Action:"RollbackStack",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},XS=async(e,r)=>{let t=b,n;return n=I({...E0(e,r),Action:"SetStackPolicy",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},QS=async(e,r)=>{let t=b,n;return n=I({...S0(e,r),Action:"SetTypeConfiguration",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},JS=async(e,r)=>{let t=b,n;return n=I({...g0(e,r),Action:"SetTypeDefaultVersion",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},ZS=async(e,r)=>{let t=b,n;return n=I({..._0(e,r),Action:"SignalResource",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},eg=async(e,r)=>{let t=b,n;return n=I({...I0(e,r),Action:"StopStackSetOperation",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},tg=async(e,r)=>{let t=b,n;return n=I({...k0(e,r),Action:"TestType",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},rg=async(e,r)=>{let t=b,n;return n=I({...D0(e,r),Action:"UpdateStack",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},ng=async(e,r)=>{let t=b,n;return n=I({...v0(e,r),Action:"UpdateStackInstances",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},sg=async(e,r)=>{let t=b,n;return n=I({...O0(e,r),Action:"UpdateStackSet",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},og=async(e,r)=>{let t=b,n;return n=I({...F0(e,r),Action:"UpdateTerminationProtection",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},ig=async(e,r)=>{let t=b,n;return n=I({...L0(e,r),Action:"ValidateTemplate",Version:"2010-05-15"}),w(r,t,"/",void 0,n)},ag=async(e,r)=>{if(e.statusCode>=300)return $P(e,r);let t=await k(e.body,r),n={};return n=z0(t.ActivateTypeResult,r),{$metadata:g(e),...n}},$P=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body);switch(n){case"CFNRegistryException":case"com.amazonaws.cloudformation#CFNRegistryException":throw await be(t,r);case"TypeNotFoundException":case"com.amazonaws.cloudformation#TypeNotFoundException":throw await Br(t,r);default:let s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})}},cg=async(e,r)=>{if(e.statusCode>=300)return zP(e,r);let t=await k(e.body,r),n={};return n=G0(t.BatchDescribeTypeConfigurationsResult,r),{$metadata:g(e),...n}},zP=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body);switch(n){case"CFNRegistryException":case"com.amazonaws.cloudformation#CFNRegistryException":throw await be(t,r);case"TypeConfigurationNotFoundException":case"com.amazonaws.cloudformation#TypeConfigurationNotFoundException":throw await sN(t,r);default:let s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})}},dg=async(e,r)=>e.statusCode>=300?qP(e,r):(await Oi(e.body,r),{$metadata:g(e)}),qP=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body);switch(n){case"TokenAlreadyExistsException":case"com.amazonaws.cloudformation#TokenAlreadyExistsException":throw await _n(t,r);default:let s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})}},lg=async(e,r)=>{if(e.statusCode>=300)return jP(e,r);let t=await k(e.body,r),n={};return n=nD(t.ContinueUpdateRollbackResult,r),{$metadata:g(e),...n}},jP=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body);switch(n){case"TokenAlreadyExistsException":case"com.amazonaws.cloudformation#TokenAlreadyExistsException":throw await _n(t,r);default:let s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})}},mg=async(e,r)=>{if(e.statusCode>=300)return VP(e,r);let t=await k(e.body,r),n={};return n=sD(t.CreateChangeSetResult,r),{$metadata:g(e),...n}},VP=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body);switch(n){case"AlreadyExistsException":case"com.amazonaws.cloudformation#AlreadyExistsException":throw await g_(t,r);case"InsufficientCapabilitiesException":case"com.amazonaws.cloudformation#InsufficientCapabilitiesException":throw await nc(t,r);case"LimitExceededException":case"com.amazonaws.cloudformation#LimitExceededException":throw await Ti(t,r);default:let s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})}},ug=async(e,r)=>{if(e.statusCode>=300)return HP(e,r);let t=await k(e.body,r),n={};return n=aD(t.CreateStackResult,r),{$metadata:g(e),...n}},HP=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body);switch(n){case"AlreadyExistsException":case"com.amazonaws.cloudformation#AlreadyExistsException":throw await g_(t,r);case"InsufficientCapabilitiesException":case"com.amazonaws.cloudformation#InsufficientCapabilitiesException":throw await nc(t,r);case"LimitExceededException":case"com.amazonaws.cloudformation#LimitExceededException":throw await Ti(t,r);case"TokenAlreadyExistsException":case"com.amazonaws.cloudformation#TokenAlreadyExistsException":throw await _n(t,r);default:let s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})}},fg=async(e,r)=>{if(e.statusCode>=300)return GP(e,r);let t=await k(e.body,r),n={};return n=iD(t.CreateStackInstancesResult,r),{$metadata:g(e),...n}},GP=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body);switch(n){case"InvalidOperationException":case"com.amazonaws.cloudformation#InvalidOperationException":throw await Sn(t,r);case"LimitExceededException":case"com.amazonaws.cloudformation#LimitExceededException":throw await Ti(t,r);case"OperationIdAlreadyExistsException":case"com.amazonaws.cloudformation#OperationIdAlreadyExistsException":throw await Ii(t,r);case"OperationInProgressException":case"com.amazonaws.cloudformation#OperationInProgressException":throw await gn(t,r);case"StackSetNotFoundException":case"com.amazonaws.cloudformation#StackSetNotFoundException":throw await Me(t,r);case"StaleRequestException":case"com.amazonaws.cloudformation#StaleRequestException":throw await Ri(t,r);default:let s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})}},pg=async(e,r)=>{if(e.statusCode>=300)return WP(e,r);let t=await k(e.body,r),n={};return n=cD(t.CreateStackSetResult,r),{$metadata:g(e),...n}},WP=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body);switch(n){case"CreatedButModifiedException":case"com.amazonaws.cloudformation#CreatedButModifiedException":throw await JA(t,r);case"LimitExceededException":case"com.amazonaws.cloudformation#LimitExceededException":throw await Ti(t,r);case"NameAlreadyExistsException":case"com.amazonaws.cloudformation#NameAlreadyExistsException":throw await eN(t,r);default:let s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})}},hg=async(e,r)=>{if(e.statusCode>=300)return KP(e,r);let t=await k(e.body,r),n={};return n=dD(t.DeactivateTypeResult,r),{$metadata:g(e),...n}},KP=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body);switch(n){case"CFNRegistryException":case"com.amazonaws.cloudformation#CFNRegistryException":throw await be(t,r);case"TypeNotFoundException":case"com.amazonaws.cloudformation#TypeNotFoundException":throw await Br(t,r);default:let s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})}},yg=async(e,r)=>{if(e.statusCode>=300)return YP(e,r);let t=await k(e.body,r),n={};return n=lD(t.DeleteChangeSetResult,r),{$metadata:g(e),...n}},YP=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body);switch(n){case"InvalidChangeSetStatus":case"com.amazonaws.cloudformation#InvalidChangeSetStatusException":throw await __(t,r);default:let s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})}},Eg=async(e,r)=>e.statusCode>=300?XP(e,r):(await Oi(e.body,r),{$metadata:g(e)}),XP=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body);switch(n){case"TokenAlreadyExistsException":case"com.amazonaws.cloudformation#TokenAlreadyExistsException":throw await _n(t,r);default:let s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})}},Sg=async(e,r)=>{if(e.statusCode>=300)return QP(e,r);let t=await k(e.body,r),n={};return n=mD(t.DeleteStackInstancesResult,r),{$metadata:g(e),...n}},QP=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body);switch(n){case"InvalidOperationException":case"com.amazonaws.cloudformation#InvalidOperationException":throw await Sn(t,r);case"OperationIdAlreadyExistsException":case"com.amazonaws.cloudformation#OperationIdAlreadyExistsException":throw await Ii(t,r);case"OperationInProgressException":case"com.amazonaws.cloudformation#OperationInProgressException":throw await gn(t,r);case"StackSetNotFoundException":case"com.amazonaws.cloudformation#StackSetNotFoundException":throw await Me(t,r);case"StaleRequestException":case"com.amazonaws.cloudformation#StaleRequestException":throw await Ri(t,r);default:let s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})}},gg=async(e,r)=>{if(e.statusCode>=300)return JP(e,r);let t=await k(e.body,r),n={};return n=uD(t.DeleteStackSetResult,r),{$metadata:g(e),...n}},JP=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body);switch(n){case"OperationInProgressException":case"com.amazonaws.cloudformation#OperationInProgressException":throw await gn(t,r);case"StackSetNotEmptyException":case"com.amazonaws.cloudformation#StackSetNotEmptyException":throw await nN(t,r);default:let s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})}},_g=async(e,r)=>{if(e.statusCode>=300)return ZP(e,r);let t=await k(e.body,r),n={};return n=pD(t.DeregisterTypeResult,r),{$metadata:g(e),...n}},ZP=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body);switch(n){case"CFNRegistryException":case"com.amazonaws.cloudformation#CFNRegistryException":throw await be(t,r);case"TypeNotFoundException":case"com.amazonaws.cloudformation#TypeNotFoundException":throw await Br(t,r);default:let s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})}},Cg=async(e,r)=>{if(e.statusCode>=300)return eA(e,r);let t=await k(e.body,r),n={};return n=hD(t.DescribeAccountLimitsResult,r),{$metadata:g(e),...n}},eA=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body),s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})},xg=async(e,r)=>{if(e.statusCode>=300)return tA(e,r);let t=await k(e.body,r),n={};return n=ED(t.DescribeChangeSetResult,r),{$metadata:g(e),...n}},tA=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body);switch(n){case"ChangeSetNotFound":case"com.amazonaws.cloudformation#ChangeSetNotFoundException":throw await rc(t,r);default:let s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})}},wg=async(e,r)=>{if(e.statusCode>=300)return rA(e,r);let t=await k(e.body,r),n={};return n=yD(t.DescribeChangeSetHooksResult,r),{$metadata:g(e),...n}},rA=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body);switch(n){case"ChangeSetNotFound":case"com.amazonaws.cloudformation#ChangeSetNotFoundException":throw await rc(t,r);default:let s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})}},bg=async(e,r)=>{if(e.statusCode>=300)return nA(e,r);let t=await k(e.body,r),n={};return n=SD(t.DescribePublisherResult,r),{$metadata:g(e),...n}},nA=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body);switch(n){case"CFNRegistryException":case"com.amazonaws.cloudformation#CFNRegistryException":throw await be(t,r);default:let s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})}},Tg=async(e,r)=>{if(e.statusCode>=300)return sA(e,r);let t=await k(e.body,r),n={};return n=gD(t.DescribeStackDriftDetectionStatusResult,r),{$metadata:g(e),...n}},sA=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body),s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})},Ig=async(e,r)=>{if(e.statusCode>=300)return oA(e,r);let t=await k(e.body,r),n={};return n=_D(t.DescribeStackEventsResult,r),{$metadata:g(e),...n}},oA=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body),s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})},Rg=async(e,r)=>{if(e.statusCode>=300)return iA(e,r);let t=await k(e.body,r),n={};return n=CD(t.DescribeStackInstanceResult,r),{$metadata:g(e),...n}},iA=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body);switch(n){case"StackInstanceNotFoundException":case"com.amazonaws.cloudformation#StackInstanceNotFoundException":throw await ql(t,r);case"StackSetNotFoundException":case"com.amazonaws.cloudformation#StackSetNotFoundException":throw await Me(t,r);default:let s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})}},kg=async(e,r)=>{if(e.statusCode>=300)return aA(e,r);let t=await k(e.body,r),n={};return n=wD(t.DescribeStackResourceResult,r),{$metadata:g(e),...n}},aA=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body),s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})},Pg=async(e,r)=>{if(e.statusCode>=300)return cA(e,r);let t=await k(e.body,r),n={};return n=xD(t.DescribeStackResourceDriftsResult,r),{$metadata:g(e),...n}},cA=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body),s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})},Ag=async(e,r)=>{if(e.statusCode>=300)return dA(e,r);let t=await k(e.body,r),n={};return n=bD(t.DescribeStackResourcesResult,r),{$metadata:g(e),...n}},dA=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body),s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})},Ng=async(e,r)=>{if(e.statusCode>=300)return lA(e,r);let t=await k(e.body,r),n={};return n=RD(t.DescribeStacksResult,r),{$metadata:g(e),...n}},lA=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body),s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})},Dg=async(e,r)=>{if(e.statusCode>=300)return mA(e,r);let t=await k(e.body,r),n={};return n=ID(t.DescribeStackSetResult,r),{$metadata:g(e),...n}},mA=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body);switch(n){case"StackSetNotFoundException":case"com.amazonaws.cloudformation#StackSetNotFoundException":throw await Me(t,r);default:let s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})}},vg=async(e,r)=>{if(e.statusCode>=300)return uA(e,r);let t=await k(e.body,r),n={};return n=TD(t.DescribeStackSetOperationResult,r),{$metadata:g(e),...n}},uA=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body);switch(n){case"OperationNotFoundException":case"com.amazonaws.cloudformation#OperationNotFoundException":throw await zl(t,r);case"StackSetNotFoundException":case"com.amazonaws.cloudformation#StackSetNotFoundException":throw await Me(t,r);default:let s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})}},Og=async(e,r)=>{if(e.statusCode>=300)return fA(e,r);let t=await k(e.body,r),n={};return n=kD(t.DescribeTypeResult,r),{$metadata:g(e),...n}},fA=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body);switch(n){case"CFNRegistryException":case"com.amazonaws.cloudformation#CFNRegistryException":throw await be(t,r);case"TypeNotFoundException":case"com.amazonaws.cloudformation#TypeNotFoundException":throw await Br(t,r);default:let s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})}},Fg=async(e,r)=>{if(e.statusCode>=300)return pA(e,r);let t=await k(e.body,r),n={};return n=PD(t.DescribeTypeRegistrationResult,r),{$metadata:g(e),...n}},pA=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body);switch(n){case"CFNRegistryException":case"com.amazonaws.cloudformation#CFNRegistryException":throw await be(t,r);default:let s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})}},Lg=async(e,r)=>{if(e.statusCode>=300)return hA(e,r);let t=await k(e.body,r),n={};return n=AD(t.DetectStackDriftResult,r),{$metadata:g(e),...n}},hA=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body),s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})},Mg=async(e,r)=>{if(e.statusCode>=300)return yA(e,r);let t=await k(e.body,r),n={};return n=ND(t.DetectStackResourceDriftResult,r),{$metadata:g(e),...n}},yA=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body),s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})},Ug=async(e,r)=>{if(e.statusCode>=300)return EA(e,r);let t=await k(e.body,r),n={};return n=DD(t.DetectStackSetDriftResult,r),{$metadata:g(e),...n}},EA=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body);switch(n){case"InvalidOperationException":case"com.amazonaws.cloudformation#InvalidOperationException":throw await Sn(t,r);case"OperationInProgressException":case"com.amazonaws.cloudformation#OperationInProgressException":throw await gn(t,r);case"StackSetNotFoundException":case"com.amazonaws.cloudformation#StackSetNotFoundException":throw await Me(t,r);default:let s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})}},Bg=async(e,r)=>{if(e.statusCode>=300)return SA(e,r);let t=await k(e.body,r),n={};return n=vD(t.EstimateTemplateCostResult,r),{$metadata:g(e),...n}},SA=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body),s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})},$g=async(e,r)=>{if(e.statusCode>=300)return gA(e,r);let t=await k(e.body,r),n={};return n=OD(t.ExecuteChangeSetResult,r),{$metadata:g(e),...n}},gA=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body);switch(n){case"ChangeSetNotFound":case"com.amazonaws.cloudformation#ChangeSetNotFoundException":throw await rc(t,r);case"InsufficientCapabilitiesException":case"com.amazonaws.cloudformation#InsufficientCapabilitiesException":throw await nc(t,r);case"InvalidChangeSetStatus":case"com.amazonaws.cloudformation#InvalidChangeSetStatusException":throw await __(t,r);case"TokenAlreadyExistsException":case"com.amazonaws.cloudformation#TokenAlreadyExistsException":throw await _n(t,r);default:let s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})}},zg=async(e,r)=>{if(e.statusCode>=300)return _A(e,r);let t=await k(e.body,r),n={};return n=MD(t.GetStackPolicyResult,r),{$metadata:g(e),...n}},_A=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body),s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})},qg=async(e,r)=>{if(e.statusCode>=300)return CA(e,r);let t=await k(e.body,r),n={};return n=UD(t.GetTemplateResult,r),{$metadata:g(e),...n}},CA=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body);switch(n){case"ChangeSetNotFound":case"com.amazonaws.cloudformation#ChangeSetNotFoundException":throw await rc(t,r);default:let s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})}},jg=async(e,r)=>{if(e.statusCode>=300)return xA(e,r);let t=await k(e.body,r),n={};return n=BD(t.GetTemplateSummaryResult,r),{$metadata:g(e),...n}},xA=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body);switch(n){case"StackSetNotFoundException":case"com.amazonaws.cloudformation#StackSetNotFoundException":throw await Me(t,r);default:let s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})}},Vg=async(e,r)=>{if(e.statusCode>=300)return wA(e,r);let t=await k(e.body,r),n={};return n=zD(t.ImportStacksToStackSetResult,r),{$metadata:g(e),...n}},wA=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body);switch(n){case"InvalidOperationException":case"com.amazonaws.cloudformation#InvalidOperationException":throw await Sn(t,r);case"LimitExceededException":case"com.amazonaws.cloudformation#LimitExceededException":throw await Ti(t,r);case"OperationIdAlreadyExistsException":case"com.amazonaws.cloudformation#OperationIdAlreadyExistsException":throw await Ii(t,r);case"OperationInProgressException":case"com.amazonaws.cloudformation#OperationInProgressException":throw await gn(t,r);case"StackNotFoundException":case"com.amazonaws.cloudformation#StackNotFoundException":throw await rN(t,r);case"StackSetNotFoundException":case"com.amazonaws.cloudformation#StackSetNotFoundException":throw await Me(t,r);case"StaleRequestException":case"com.amazonaws.cloudformation#StaleRequestException":throw await Ri(t,r);default:let s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})}},Hg=async(e,r)=>{if(e.statusCode>=300)return bA(e,r);let t=await k(e.body,r),n={};return n=WD(t.ListChangeSetsResult,r),{$metadata:g(e),...n}},bA=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body),s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})},Gg=async(e,r)=>{if(e.statusCode>=300)return TA(e,r);let t=await k(e.body,r),n={};return n=KD(t.ListExportsResult,r),{$metadata:g(e),...n}},TA=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body),s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})},Wg=async(e,r)=>{if(e.statusCode>=300)return IA(e,r);let t=await k(e.body,r),n={};return n=YD(t.ListImportsResult,r),{$metadata:g(e),...n}},IA=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body),s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})},Kg=async(e,r)=>{if(e.statusCode>=300)return RA(e,r);let t=await k(e.body,r),n={};return n=XD(t.ListStackInstancesResult,r),{$metadata:g(e),...n}},RA=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body);switch(n){case"StackSetNotFoundException":case"com.amazonaws.cloudformation#StackSetNotFoundException":throw await Me(t,r);default:let s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})}},Yg=async(e,r)=>{if(e.statusCode>=300)return kA(e,r);let t=await k(e.body,r),n={};return n=QD(t.ListStackResourcesResult,r),{$metadata:g(e),...n}},kA=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body),s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})},Xg=async(e,r)=>{if(e.statusCode>=300)return PA(e,r);let t=await k(e.body,r),n={};return n=tv(t.ListStacksResult,r),{$metadata:g(e),...n}},PA=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body),s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})},Qg=async(e,r)=>{if(e.statusCode>=300)return AA(e,r);let t=await k(e.body,r),n={};return n=JD(t.ListStackSetOperationResultsResult,r),{$metadata:g(e),...n}},AA=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body);switch(n){case"OperationNotFoundException":case"com.amazonaws.cloudformation#OperationNotFoundException":throw await zl(t,r);case"StackSetNotFoundException":case"com.amazonaws.cloudformation#StackSetNotFoundException":throw await Me(t,r);default:let s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})}},Jg=async(e,r)=>{if(e.statusCode>=300)return NA(e,r);let t=await k(e.body,r),n={};return n=ZD(t.ListStackSetOperationsResult,r),{$metadata:g(e),...n}},NA=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body);switch(n){case"StackSetNotFoundException":case"com.amazonaws.cloudformation#StackSetNotFoundException":throw await Me(t,r);default:let s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})}},Zg=async(e,r)=>{if(e.statusCode>=300)return DA(e,r);let t=await k(e.body,r),n={};return n=ev(t.ListStackSetsResult,r),{$metadata:g(e),...n}},DA=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body),s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})},e_=async(e,r)=>{if(e.statusCode>=300)return vA(e,r);let t=await k(e.body,r),n={};return n=rv(t.ListTypeRegistrationsResult,r),{$metadata:g(e),...n}},vA=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body);switch(n){case"CFNRegistryException":case"com.amazonaws.cloudformation#CFNRegistryException":throw await be(t,r);default:let s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})}},t_=async(e,r)=>{if(e.statusCode>=300)return OA(e,r);let t=await k(e.body,r),n={};return n=nv(t.ListTypesResult,r),{$metadata:g(e),...n}},OA=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body);switch(n){case"CFNRegistryException":case"com.amazonaws.cloudformation#CFNRegistryException":throw await be(t,r);default:let s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})}},r_=async(e,r)=>{if(e.statusCode>=300)return FA(e,r);let t=await k(e.body,r),n={};return n=sv(t.ListTypeVersionsResult,r),{$metadata:g(e),...n}},FA=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body);switch(n){case"CFNRegistryException":case"com.amazonaws.cloudformation#CFNRegistryException":throw await be(t,r);default:let s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})}},n_=async(e,r)=>{if(e.statusCode>=300)return LA(e,r);let t=await k(e.body,r),n={};return n=xv(t.PublishTypeResult,r),{$metadata:g(e),...n}},LA=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body);switch(n){case"CFNRegistryException":case"com.amazonaws.cloudformation#CFNRegistryException":throw await be(t,r);case"TypeNotFoundException":case"com.amazonaws.cloudformation#TypeNotFoundException":throw await Br(t,r);default:let s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})}},s_=async(e,r)=>{if(e.statusCode>=300)return MA(e,r);let t=await k(e.body,r),n={};return n=wv(t.RecordHandlerProgressResult,r),{$metadata:g(e),...n}},MA=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body);switch(n){case"ConditionalCheckFailed":case"com.amazonaws.cloudformation#OperationStatusCheckFailedException":throw await tN(t,r);case"InvalidStateTransition":case"com.amazonaws.cloudformation#InvalidStateTransitionException":throw await ZA(t,r);default:let s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})}},o_=async(e,r)=>{if(e.statusCode>=300)return UA(e,r);let t=await k(e.body,r),n={};return n=bv(t.RegisterPublisherResult,r),{$metadata:g(e),...n}},UA=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body);switch(n){case"CFNRegistryException":case"com.amazonaws.cloudformation#CFNRegistryException":throw await be(t,r);default:let s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})}},i_=async(e,r)=>{if(e.statusCode>=300)return BA(e,r);let t=await k(e.body,r),n={};return n=Tv(t.RegisterTypeResult,r),{$metadata:g(e),...n}},BA=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body);switch(n){case"CFNRegistryException":case"com.amazonaws.cloudformation#CFNRegistryException":throw await be(t,r);default:let s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})}},a_=async(e,r)=>{if(e.statusCode>=300)return $A(e,r);let t=await k(e.body,r),n={};return n=Mv(t.RollbackStackResult,r),{$metadata:g(e),...n}},$A=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body);switch(n){case"TokenAlreadyExistsException":case"com.amazonaws.cloudformation#TokenAlreadyExistsException":throw await _n(t,r);default:let s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})}},c_=async(e,r)=>e.statusCode>=300?zA(e,r):(await Oi(e.body,r),{$metadata:g(e)}),zA=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body),s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})},d_=async(e,r)=>{if(e.statusCode>=300)return qA(e,r);let t=await k(e.body,r),n={};return n=zv(t.SetTypeConfigurationResult,r),{$metadata:g(e),...n}},qA=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body);switch(n){case"CFNRegistryException":case"com.amazonaws.cloudformation#CFNRegistryException":throw await be(t,r);case"TypeNotFoundException":case"com.amazonaws.cloudformation#TypeNotFoundException":throw await Br(t,r);default:let s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})}},l_=async(e,r)=>{if(e.statusCode>=300)return jA(e,r);let t=await k(e.body,r),n={};return n=qv(t.SetTypeDefaultVersionResult,r),{$metadata:g(e),...n}},jA=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body);switch(n){case"CFNRegistryException":case"com.amazonaws.cloudformation#CFNRegistryException":throw await be(t,r);case"TypeNotFoundException":case"com.amazonaws.cloudformation#TypeNotFoundException":throw await Br(t,r);default:let s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})}},m_=async(e,r)=>e.statusCode>=300?VA(e,r):(await Oi(e.body,r),{$metadata:g(e)}),VA=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body),s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})},u_=async(e,r)=>{if(e.statusCode>=300)return HA(e,r);let t=await k(e.body,r),n={};return n=CO(t.StopStackSetOperationResult,r),{$metadata:g(e),...n}},HA=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body);switch(n){case"InvalidOperationException":case"com.amazonaws.cloudformation#InvalidOperationException":throw await Sn(t,r);case"OperationNotFoundException":case"com.amazonaws.cloudformation#OperationNotFoundException":throw await zl(t,r);case"StackSetNotFoundException":case"com.amazonaws.cloudformation#StackSetNotFoundException":throw await Me(t,r);default:let s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})}},f_=async(e,r)=>{if(e.statusCode>=300)return GA(e,r);let t=await k(e.body,r),n={};return n=IO(t.TestTypeResult,r),{$metadata:g(e),...n}},GA=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body);switch(n){case"CFNRegistryException":case"com.amazonaws.cloudformation#CFNRegistryException":throw await be(t,r);case"TypeNotFoundException":case"com.amazonaws.cloudformation#TypeNotFoundException":throw await Br(t,r);default:let s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})}},p_=async(e,r)=>{if(e.statusCode>=300)return WA(e,r);let t=await k(e.body,r),n={};return n=UO(t.UpdateStackResult,r),{$metadata:g(e),...n}},WA=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body);switch(n){case"InsufficientCapabilitiesException":case"com.amazonaws.cloudformation#InsufficientCapabilitiesException":throw await nc(t,r);case"TokenAlreadyExistsException":case"com.amazonaws.cloudformation#TokenAlreadyExistsException":throw await _n(t,r);default:let s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})}},h_=async(e,r)=>{if(e.statusCode>=300)return KA(e,r);let t=await k(e.body,r),n={};return n=MO(t.UpdateStackInstancesResult,r),{$metadata:g(e),...n}},KA=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body);switch(n){case"InvalidOperationException":case"com.amazonaws.cloudformation#InvalidOperationException":throw await Sn(t,r);case"OperationIdAlreadyExistsException":case"com.amazonaws.cloudformation#OperationIdAlreadyExistsException":throw await Ii(t,r);case"OperationInProgressException":case"com.amazonaws.cloudformation#OperationInProgressException":throw await gn(t,r);case"StackInstanceNotFoundException":case"com.amazonaws.cloudformation#StackInstanceNotFoundException":throw await ql(t,r);case"StackSetNotFoundException":case"com.amazonaws.cloudformation#StackSetNotFoundException":throw await Me(t,r);case"StaleRequestException":case"com.amazonaws.cloudformation#StaleRequestException":throw await Ri(t,r);default:let s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})}},y_=async(e,r)=>{if(e.statusCode>=300)return YA(e,r);let t=await k(e.body,r),n={};return n=BO(t.UpdateStackSetResult,r),{$metadata:g(e),...n}},YA=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body);switch(n){case"InvalidOperationException":case"com.amazonaws.cloudformation#InvalidOperationException":throw await Sn(t,r);case"OperationIdAlreadyExistsException":case"com.amazonaws.cloudformation#OperationIdAlreadyExistsException":throw await Ii(t,r);case"OperationInProgressException":case"com.amazonaws.cloudformation#OperationInProgressException":throw await gn(t,r);case"StackInstanceNotFoundException":case"com.amazonaws.cloudformation#StackInstanceNotFoundException":throw await ql(t,r);case"StackSetNotFoundException":case"com.amazonaws.cloudformation#StackSetNotFoundException":throw await Me(t,r);case"StaleRequestException":case"com.amazonaws.cloudformation#StaleRequestException":throw await Ri(t,r);default:let s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})}},E_=async(e,r)=>{if(e.statusCode>=300)return XA(e,r);let t=await k(e.body,r),n={};return n=$O(t.UpdateTerminationProtectionResult,r),{$metadata:g(e),...n}},XA=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body),s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})},S_=async(e,r)=>{if(e.statusCode>=300)return QA(e,r);let t=await k(e.body,r),n={};return n=zO(t.ValidateTemplateResult,r),{$metadata:g(e),...n}},QA=async(e,r)=>{let t={...e,body:await T(e.body,r)},n=R(e,t.body),s=t.body;return x({output:e,parsedBody:s.Error,errorCode:n})},g_=async(e,r)=>{let t=e.body,n=j0(t.Error,r),s=new Is({$metadata:g(e),...n});return v(s,t)},be=async(e,r)=>{let t=e.body,n=W0(t.Error,r),s=new bs({$metadata:g(e),...n});return v(s,t)},rc=async(e,r)=>{let t=e.body,n=eD(t.Error,r),s=new Ps({$metadata:g(e),...n});return v(s,t)},JA=async(e,r)=>{let t=e.body,n=oD(t.Error,r),s=new Ms({$metadata:g(e),...n});return v(s,t)},nc=async(e,r)=>{let t=e.body,n=qD(t.Error,r),s=new As({$metadata:g(e),...n});return v(s,t)},__=async(e,r)=>{let t=e.body,n=jD(t.Error,r),s=new Bs({$metadata:g(e),...n});return v(s,t)},Sn=async(e,r)=>{let t=e.body,n=VD(t.Error,r),s=new Ds({$metadata:g(e),...n});return v(s,t)},ZA=async(e,r)=>{let t=e.body,n=HD(t.Error,r),s=new Vs({$metadata:g(e),...n});return v(s,t)},Ti=async(e,r)=>{let t=e.body,n=GD(t.Error,r),s=new Ns({$metadata:g(e),...n});return v(s,t)},eN=async(e,r)=>{let t=e.body,n=av(t.Error,r),s=new Us({$metadata:g(e),...n});return v(s,t)},Ii=async(e,r)=>{let t=e.body,n=cv(t.Error,r),s=new vs({$metadata:g(e),...n});return v(s,t)},gn=async(e,r)=>{let t=e.body,n=dv(t.Error,r),s=new Os({$metadata:g(e),...n});return v(s,t)},zl=async(e,r)=>{let t=e.body,n=lv(t.Error,r),s=new qs({$metadata:g(e),...n});return v(s,t)},tN=async(e,r)=>{let t=e.body,n=mv(t.Error,r),s=new Hs({$metadata:g(e),...n});return v(s,t)},ql=async(e,r)=>{let t=e.body,n=Yv(t.Error,r),s=new zs({$metadata:g(e),...n});return v(s,t)},rN=async(e,r)=>{let t=e.body,n=Jv(t.Error,r),s=new js({$metadata:g(e),...n});return v(s,t)},nN=async(e,r)=>{let t=e.body,n=cO(t.Error,r),s=new $s({$metadata:g(e),...n});return v(s,t)},Me=async(e,r)=>{let t=e.body,n=dO(t.Error,r),s=new Fs({$metadata:g(e),...n});return v(s,t)},Ri=async(e,r)=>{let t=e.body,n=_O(t.Error,r),s=new Ls({$metadata:g(e),...n});return v(s,t)},_n=async(e,r)=>{let t=e.body,n=RO(t.Error,r),s=new ks({$metadata:g(e),...n});return v(s,t)},sN=async(e,r)=>{let t=e.body,n=AO(t.Error,r),s=new Rs({$metadata:g(e),...n});return v(s,t)},Br=async(e,r)=>{let t=e.body,n=NO(t.Error,r),s=new Ts({$metadata:g(e),...n});return v(s,t)},ki=(e,r)=>{let t={},n=1;for(let s of e)s!==null&&(t[`member.${n}`]=s,n++);return t},oN=(e,r)=>{let t={};if(e.Type!=null&&(t.Type=e.Type),e.PublicTypeArn!=null&&(t.PublicTypeArn=e.PublicTypeArn),e.PublisherId!=null&&(t.PublisherId=e.PublisherId),e.TypeName!=null&&(t.TypeName=e.TypeName),e.TypeNameAlias!=null&&(t.TypeNameAlias=e.TypeNameAlias),e.AutoUpdate!=null&&(t.AutoUpdate=e.AutoUpdate),e.LoggingConfig!=null){let n=x_(e.LoggingConfig,r);Object.entries(n).forEach(([s,o])=>{let i=`LoggingConfig.${s}`;t[i]=o})}return e.ExecutionRoleArn!=null&&(t.ExecutionRoleArn=e.ExecutionRoleArn),e.VersionBump!=null&&(t.VersionBump=e.VersionBump),e.MajorVersion!=null&&(t.MajorVersion=e.MajorVersion),t},C_=(e,r)=>{let t={};return e.Enabled!=null&&(t.Enabled=e.Enabled),e.RetainStacksOnAccountRemoval!=null&&(t.RetainStacksOnAccountRemoval=e.RetainStacksOnAccountRemoval),t},iN=(e,r)=>{var n;let t={};if(e.TypeConfigurationIdentifiers!=null){let s=A0(e.TypeConfigurationIdentifiers,r);((n=e.TypeConfigurationIdentifiers)==null?void 0:n.length)===0&&(t.TypeConfigurationIdentifiers=[]),Object.entries(s).forEach(([o,i])=>{let a=`TypeConfigurationIdentifiers.${o}`;t[a]=i})}return t},aN=(e,r)=>{let t={};return e.StackName!=null&&(t.StackName=e.StackName),e.ClientRequestToken!=null&&(t.ClientRequestToken=e.ClientRequestToken),t},Pi=(e,r)=>{let t={},n=1;for(let s of e)s!==null&&(t[`member.${n}`]=s,n++);return t},cN=(e,r)=>{var n;let t={};if(e.StackName!=null&&(t.StackName=e.StackName),e.RoleARN!=null&&(t.RoleARN=e.RoleARN),e.ResourcesToSkip!=null){let s=m0(e.ResourcesToSkip,r);((n=e.ResourcesToSkip)==null?void 0:n.length)===0&&(t.ResourcesToSkip=[]),Object.entries(s).forEach(([o,i])=>{let a=`ResourcesToSkip.${o}`;t[a]=i})}return e.ClientRequestToken!=null&&(t.ClientRequestToken=e.ClientRequestToken),t},dN=(e,r)=>{var n,s,o,i,a,d;let t={};if(e.StackName!=null&&(t.StackName=e.StackName),e.TemplateBody!=null&&(t.TemplateBody=e.TemplateBody),e.TemplateURL!=null&&(t.TemplateURL=e.TemplateURL),e.UsePreviousTemplate!=null&&(t.UsePreviousTemplate=e.UsePreviousTemplate),e.Parameters!=null){let l=$r(e.Parameters,r);((n=e.Parameters)==null?void 0:n.length)===0&&(t.Parameters=[]),Object.entries(l).forEach(([c,u])=>{let f=`Parameters.${c}`;t[f]=u})}if(e.Capabilities!=null){let l=Pi(e.Capabilities,r);((s=e.Capabilities)==null?void 0:s.length)===0&&(t.Capabilities=[]),Object.entries(l).forEach(([c,u])=>{let f=`Capabilities.${c}`;t[f]=u})}if(e.ResourceTypes!=null){let l=Vl(e.ResourceTypes,r);((o=e.ResourceTypes)==null?void 0:o.length)===0&&(t.ResourceTypes=[]),Object.entries(l).forEach(([c,u])=>{let f=`ResourceTypes.${c}`;t[f]=u})}if(e.RoleARN!=null&&(t.RoleARN=e.RoleARN),e.RollbackConfiguration!=null){let l=Hl(e.RollbackConfiguration,r);Object.entries(l).forEach(([c,u])=>{let f=`RollbackConfiguration.${c}`;t[f]=u})}if(e.NotificationARNs!=null){let l=jl(e.NotificationARNs,r);((i=e.NotificationARNs)==null?void 0:i.length)===0&&(t.NotificationARNs=[]),Object.entries(l).forEach(([c,u])=>{let f=`NotificationARNs.${c}`;t[f]=u})}if(e.Tags!=null){let l=Ni(e.Tags,r);((a=e.Tags)==null?void 0:a.length)===0&&(t.Tags=[]),Object.entries(l).forEach(([c,u])=>{let f=`Tags.${c}`;t[f]=u})}if(e.ChangeSetName!=null&&(t.ChangeSetName=e.ChangeSetName),e.ClientToken!=null&&(t.ClientToken=e.ClientToken),e.Description!=null&&(t.Description=e.Description),e.ChangeSetType!=null&&(t.ChangeSetType=e.ChangeSetType),e.ResourcesToImport!=null){let l=l0(e.ResourcesToImport,r);((d=e.ResourcesToImport)==null?void 0:d.length)===0&&(t.ResourcesToImport=[]),Object.entries(l).forEach(([c,u])=>{let f=`ResourcesToImport.${c}`;t[f]=u})}return e.IncludeNestedStacks!=null&&(t.IncludeNestedStacks=e.IncludeNestedStacks),t},lN=(e,r)=>{var n,s,o,i,a;let t={};if(e.StackName!=null&&(t.StackName=e.StackName),e.TemplateBody!=null&&(t.TemplateBody=e.TemplateBody),e.TemplateURL!=null&&(t.TemplateURL=e.TemplateURL),e.Parameters!=null){let d=$r(e.Parameters,r);((n=e.Parameters)==null?void 0:n.length)===0&&(t.Parameters=[]),Object.entries(d).forEach(([l,c])=>{let u=`Parameters.${l}`;t[u]=c})}if(e.DisableRollback!=null&&(t.DisableRollback=e.DisableRollback),e.RollbackConfiguration!=null){let d=Hl(e.RollbackConfiguration,r);Object.entries(d).forEach(([l,c])=>{let u=`RollbackConfiguration.${l}`;t[u]=c})}if(e.TimeoutInMinutes!=null&&(t.TimeoutInMinutes=e.TimeoutInMinutes),e.NotificationARNs!=null){let d=jl(e.NotificationARNs,r);((s=e.NotificationARNs)==null?void 0:s.length)===0&&(t.NotificationARNs=[]),Object.entries(d).forEach(([l,c])=>{let u=`NotificationARNs.${l}`;t[u]=c})}if(e.Capabilities!=null){let d=Pi(e.Capabilities,r);((o=e.Capabilities)==null?void 0:o.length)===0&&(t.Capabilities=[]),Object.entries(d).forEach(([l,c])=>{let u=`Capabilities.${l}`;t[u]=c})}if(e.ResourceTypes!=null){let d=Vl(e.ResourceTypes,r);((i=e.ResourceTypes)==null?void 0:i.length)===0&&(t.ResourceTypes=[]),Object.entries(d).forEach(([l,c])=>{let u=`ResourceTypes.${l}`;t[u]=c})}if(e.RoleARN!=null&&(t.RoleARN=e.RoleARN),e.OnFailure!=null&&(t.OnFailure=e.OnFailure),e.StackPolicyBody!=null&&(t.StackPolicyBody=e.StackPolicyBody),e.StackPolicyURL!=null&&(t.StackPolicyURL=e.StackPolicyURL),e.Tags!=null){let d=Ni(e.Tags,r);((a=e.Tags)==null?void 0:a.length)===0&&(t.Tags=[]),Object.entries(d).forEach(([l,c])=>{let u=`Tags.${l}`;t[u]=c})}return e.ClientRequestToken!=null&&(t.ClientRequestToken=e.ClientRequestToken),e.EnableTerminationProtection!=null&&(t.EnableTerminationProtection=e.EnableTerminationProtection),t},mN=(e,r)=>{var n,s,o;let t={};if(e.StackSetName!=null&&(t.StackSetName=e.StackSetName),e.Accounts!=null){let i=ki(e.Accounts,r);((n=e.Accounts)==null?void 0:n.length)===0&&(t.Accounts=[]),Object.entries(i).forEach(([a,d])=>{let l=`Accounts.${a}`;t[l]=d})}if(e.DeploymentTargets!=null){let i=sc(e.DeploymentTargets,r);Object.entries(i).forEach(([a,d])=>{let l=`DeploymentTargets.${a}`;t[l]=d})}if(e.Regions!=null){let i=Ai(e.Regions,r);((s=e.Regions)==null?void 0:s.length)===0&&(t.Regions=[]),Object.entries(i).forEach(([a,d])=>{let l=`Regions.${a}`;t[l]=d})}if(e.ParameterOverrides!=null){let i=$r(e.ParameterOverrides,r);((o=e.ParameterOverrides)==null?void 0:o.length)===0&&(t.ParameterOverrides=[]),Object.entries(i).forEach(([a,d])=>{let l=`ParameterOverrides.${a}`;t[l]=d})}if(e.OperationPreferences!=null){let i=Gs(e.OperationPreferences,r);Object.entries(i).forEach(([a,d])=>{let l=`OperationPreferences.${a}`;t[l]=d})}return e.OperationId===void 0&&(e.OperationId=Ae()),e.OperationId!=null&&(t.OperationId=e.OperationId),e.CallAs!=null&&(t.CallAs=e.CallAs),t},uN=(e,r)=>{var n,s,o;let t={};if(e.StackSetName!=null&&(t.StackSetName=e.StackSetName),e.Description!=null&&(t.Description=e.Description),e.TemplateBody!=null&&(t.TemplateBody=e.TemplateBody),e.TemplateURL!=null&&(t.TemplateURL=e.TemplateURL),e.StackId!=null&&(t.StackId=e.StackId),e.Parameters!=null){let i=$r(e.Parameters,r);((n=e.Parameters)==null?void 0:n.length)===0&&(t.Parameters=[]),Object.entries(i).forEach(([a,d])=>{let l=`Parameters.${a}`;t[l]=d})}if(e.Capabilities!=null){let i=Pi(e.Capabilities,r);((s=e.Capabilities)==null?void 0:s.length)===0&&(t.Capabilities=[]),Object.entries(i).forEach(([a,d])=>{let l=`Capabilities.${a}`;t[l]=d})}if(e.Tags!=null){let i=Ni(e.Tags,r);((o=e.Tags)==null?void 0:o.length)===0&&(t.Tags=[]),Object.entries(i).forEach(([a,d])=>{let l=`Tags.${a}`;t[l]=d})}if(e.AdministrationRoleARN!=null&&(t.AdministrationRoleARN=e.AdministrationRoleARN),e.ExecutionRoleName!=null&&(t.ExecutionRoleName=e.ExecutionRoleName),e.PermissionModel!=null&&(t.PermissionModel=e.PermissionModel),e.AutoDeployment!=null){let i=C_(e.AutoDeployment,r);Object.entries(i).forEach(([a,d])=>{let l=`AutoDeployment.${a}`;t[l]=d})}if(e.CallAs!=null&&(t.CallAs=e.CallAs),e.ClientRequestToken===void 0&&(e.ClientRequestToken=Ae()),e.ClientRequestToken!=null&&(t.ClientRequestToken=e.ClientRequestToken),e.ManagedExecution!=null){let i=w_(e.ManagedExecution,r);Object.entries(i).forEach(([a,d])=>{let l=`ManagedExecution.${a}`;t[l]=d})}return t},fN=(e,r)=>{let t={};return e.TypeName!=null&&(t.TypeName=e.TypeName),e.Type!=null&&(t.Type=e.Type),e.Arn!=null&&(t.Arn=e.Arn),t},pN=(e,r)=>{let t={};return e.ChangeSetName!=null&&(t.ChangeSetName=e.ChangeSetName),e.StackName!=null&&(t.StackName=e.StackName),t},hN=(e,r)=>{var n;let t={};if(e.StackName!=null&&(t.StackName=e.StackName),e.RetainResources!=null){let s=f0(e.RetainResources,r);((n=e.RetainResources)==null?void 0:n.length)===0&&(t.RetainResources=[]),Object.entries(s).forEach(([o,i])=>{let a=`RetainResources.${o}`;t[a]=i})}return e.RoleARN!=null&&(t.RoleARN=e.RoleARN),e.ClientRequestToken!=null&&(t.ClientRequestToken=e.ClientRequestToken),t},yN=(e,r)=>{var n,s;let t={};if(e.StackSetName!=null&&(t.StackSetName=e.StackSetName),e.Accounts!=null){let o=ki(e.Accounts,r);((n=e.Accounts)==null?void 0:n.length)===0&&(t.Accounts=[]),Object.entries(o).forEach(([i,a])=>{let d=`Accounts.${i}`;t[d]=a})}if(e.DeploymentTargets!=null){let o=sc(e.DeploymentTargets,r);Object.entries(o).forEach(([i,a])=>{let d=`DeploymentTargets.${i}`;t[d]=a})}if(e.Regions!=null){let o=Ai(e.Regions,r);((s=e.Regions)==null?void 0:s.length)===0&&(t.Regions=[]),Object.entries(o).forEach(([i,a])=>{let d=`Regions.${i}`;t[d]=a})}if(e.OperationPreferences!=null){let o=Gs(e.OperationPreferences,r);Object.entries(o).forEach(([i,a])=>{let d=`OperationPreferences.${i}`;t[d]=a})}return e.RetainStacks!=null&&(t.RetainStacks=e.RetainStacks),e.OperationId===void 0&&(e.OperationId=Ae()),e.OperationId!=null&&(t.OperationId=e.OperationId),e.CallAs!=null&&(t.CallAs=e.CallAs),t},EN=(e,r)=>{let t={};return e.StackSetName!=null&&(t.StackSetName=e.StackSetName),e.CallAs!=null&&(t.CallAs=e.CallAs),t},sc=(e,r)=>{var n,s;let t={};if(e.Accounts!=null){let o=ki(e.Accounts,r);((n=e.Accounts)==null?void 0:n.length)===0&&(t.Accounts=[]),Object.entries(o).forEach(([i,a])=>{let d=`Accounts.${i}`;t[d]=a})}if(e.AccountsUrl!=null&&(t.AccountsUrl=e.AccountsUrl),e.OrganizationalUnitIds!=null){let o=b_(e.OrganizationalUnitIds,r);((s=e.OrganizationalUnitIds)==null?void 0:s.length)===0&&(t.OrganizationalUnitIds=[]),Object.entries(o).forEach(([i,a])=>{let d=`OrganizationalUnitIds.${i}`;t[d]=a})}return e.AccountFilterType!=null&&(t.AccountFilterType=e.AccountFilterType),t},SN=(e,r)=>{let t={};return e.Arn!=null&&(t.Arn=e.Arn),e.Type!=null&&(t.Type=e.Type),e.TypeName!=null&&(t.TypeName=e.TypeName),e.VersionId!=null&&(t.VersionId=e.VersionId),t},gN=(e,r)=>{let t={};return e.NextToken!=null&&(t.NextToken=e.NextToken),t},_N=(e,r)=>{let t={};return e.ChangeSetName!=null&&(t.ChangeSetName=e.ChangeSetName),e.StackName!=null&&(t.StackName=e.StackName),e.NextToken!=null&&(t.NextToken=e.NextToken),e.LogicalResourceId!=null&&(t.LogicalResourceId=e.LogicalResourceId),t},CN=(e,r)=>{let t={};return e.ChangeSetName!=null&&(t.ChangeSetName=e.ChangeSetName),e.StackName!=null&&(t.StackName=e.StackName),e.NextToken!=null&&(t.NextToken=e.NextToken),t},xN=(e,r)=>{let t={};return e.PublisherId!=null&&(t.PublisherId=e.PublisherId),t},wN=(e,r)=>{let t={};return e.StackDriftDetectionId!=null&&(t.StackDriftDetectionId=e.StackDriftDetectionId),t},bN=(e,r)=>{let t={};return e.StackName!=null&&(t.StackName=e.StackName),e.NextToken!=null&&(t.NextToken=e.NextToken),t},TN=(e,r)=>{let t={};return e.StackSetName!=null&&(t.StackSetName=e.StackSetName),e.StackInstanceAccount!=null&&(t.StackInstanceAccount=e.StackInstanceAccount),e.StackInstanceRegion!=null&&(t.StackInstanceRegion=e.StackInstanceRegion),e.CallAs!=null&&(t.CallAs=e.CallAs),t},IN=(e,r)=>{var n;let t={};if(e.StackName!=null&&(t.StackName=e.StackName),e.StackResourceDriftStatusFilters!=null){let s=b0(e.StackResourceDriftStatusFilters,r);((n=e.StackResourceDriftStatusFilters)==null?void 0:n.length)===0&&(t.StackResourceDriftStatusFilters=[]),Object.entries(s).forEach(([o,i])=>{let a=`StackResourceDriftStatusFilters.${o}`;t[a]=i})}return e.NextToken!=null&&(t.NextToken=e.NextToken),e.MaxResults!=null&&(t.MaxResults=e.MaxResults),t},RN=(e,r)=>{let t={};return e.StackName!=null&&(t.StackName=e.StackName),e.LogicalResourceId!=null&&(t.LogicalResourceId=e.LogicalResourceId),t},kN=(e,r)=>{let t={};return e.StackName!=null&&(t.StackName=e.StackName),e.LogicalResourceId!=null&&(t.LogicalResourceId=e.LogicalResourceId),e.PhysicalResourceId!=null&&(t.PhysicalResourceId=e.PhysicalResourceId),t},PN=(e,r)=>{let t={};return e.StackSetName!=null&&(t.StackSetName=e.StackSetName),e.CallAs!=null&&(t.CallAs=e.CallAs),t},AN=(e,r)=>{let t={};return e.StackSetName!=null&&(t.StackSetName=e.StackSetName),e.OperationId!=null&&(t.OperationId=e.OperationId),e.CallAs!=null&&(t.CallAs=e.CallAs),t},NN=(e,r)=>{let t={};return e.StackName!=null&&(t.StackName=e.StackName),e.NextToken!=null&&(t.NextToken=e.NextToken),t},DN=(e,r)=>{let t={};return e.Type!=null&&(t.Type=e.Type),e.TypeName!=null&&(t.TypeName=e.TypeName),e.Arn!=null&&(t.Arn=e.Arn),e.VersionId!=null&&(t.VersionId=e.VersionId),e.PublisherId!=null&&(t.PublisherId=e.PublisherId),e.PublicVersionNumber!=null&&(t.PublicVersionNumber=e.PublicVersionNumber),t},vN=(e,r)=>{let t={};return e.RegistrationToken!=null&&(t.RegistrationToken=e.RegistrationToken),t},ON=(e,r)=>{var n;let t={};if(e.StackName!=null&&(t.StackName=e.StackName),e.LogicalResourceIds!=null){let s=t0(e.LogicalResourceIds,r);((n=e.LogicalResourceIds)==null?void 0:n.length)===0&&(t.LogicalResourceIds=[]),Object.entries(s).forEach(([o,i])=>{let a=`LogicalResourceIds.${o}`;t[a]=i})}return t},FN=(e,r)=>{let t={};return e.StackName!=null&&(t.StackName=e.StackName),e.LogicalResourceId!=null&&(t.LogicalResourceId=e.LogicalResourceId),t},LN=(e,r)=>{let t={};if(e.StackSetName!=null&&(t.StackSetName=e.StackSetName),e.OperationPreferences!=null){let n=Gs(e.OperationPreferences,r);Object.entries(n).forEach(([s,o])=>{let i=`OperationPreferences.${s}`;t[i]=o})}return e.OperationId===void 0&&(e.OperationId=Ae()),e.OperationId!=null&&(t.OperationId=e.OperationId),e.CallAs!=null&&(t.CallAs=e.CallAs),t},MN=(e,r)=>{var n;let t={};if(e.TemplateBody!=null&&(t.TemplateBody=e.TemplateBody),e.TemplateURL!=null&&(t.TemplateURL=e.TemplateURL),e.Parameters!=null){let s=$r(e.Parameters,r);((n=e.Parameters)==null?void 0:n.length)===0&&(t.Parameters=[]),Object.entries(s).forEach(([o,i])=>{let a=`Parameters.${o}`;t[a]=i})}return t},UN=(e,r)=>{let t={};return e.ChangeSetName!=null&&(t.ChangeSetName=e.ChangeSetName),e.StackName!=null&&(t.StackName=e.StackName),e.ClientRequestToken!=null&&(t.ClientRequestToken=e.ClientRequestToken),e.DisableRollback!=null&&(t.DisableRollback=e.DisableRollback),t},BN=(e,r)=>{let t={};return e.StackName!=null&&(t.StackName=e.StackName),t},$N=(e,r)=>{let t={};return e.StackName!=null&&(t.StackName=e.StackName),e.ChangeSetName!=null&&(t.ChangeSetName=e.ChangeSetName),e.TemplateStage!=null&&(t.TemplateStage=e.TemplateStage),t},zN=(e,r)=>{let t={};return e.TemplateBody!=null&&(t.TemplateBody=e.TemplateBody),e.TemplateURL!=null&&(t.TemplateURL=e.TemplateURL),e.StackName!=null&&(t.StackName=e.StackName),e.StackSetName!=null&&(t.StackSetName=e.StackSetName),e.CallAs!=null&&(t.CallAs=e.CallAs),t},qN=(e,r)=>{var n,s;let t={};if(e.StackSetName!=null&&(t.StackSetName=e.StackSetName),e.StackIds!=null){let o=C0(e.StackIds,r);((n=e.StackIds)==null?void 0:n.length)===0&&(t.StackIds=[]),Object.entries(o).forEach(([i,a])=>{let d=`StackIds.${i}`;t[d]=a})}if(e.StackIdsUrl!=null&&(t.StackIdsUrl=e.StackIdsUrl),e.OrganizationalUnitIds!=null){let o=b_(e.OrganizationalUnitIds,r);((s=e.OrganizationalUnitIds)==null?void 0:s.length)===0&&(t.OrganizationalUnitIds=[]),Object.entries(o).forEach(([i,a])=>{let d=`OrganizationalUnitIds.${i}`;t[d]=a})}if(e.OperationPreferences!=null){let o=Gs(e.OperationPreferences,r);Object.entries(o).forEach(([i,a])=>{let d=`OperationPreferences.${i}`;t[d]=a})}return e.OperationId===void 0&&(e.OperationId=Ae()),e.OperationId!=null&&(t.OperationId=e.OperationId),e.CallAs!=null&&(t.CallAs=e.CallAs),t},jN=(e,r)=>{let t={};return e.StackName!=null&&(t.StackName=e.StackName),e.NextToken!=null&&(t.NextToken=e.NextToken),t},VN=(e,r)=>{let t={};return e.NextToken!=null&&(t.NextToken=e.NextToken),t},HN=(e,r)=>{let t={};return e.ExportName!=null&&(t.ExportName=e.ExportName),e.NextToken!=null&&(t.NextToken=e.NextToken),t},GN=(e,r)=>{var n;let t={};if(e.StackSetName!=null&&(t.StackSetName=e.StackSetName),e.NextToken!=null&&(t.NextToken=e.NextToken),e.MaxResults!=null&&(t.MaxResults=e.MaxResults),e.Filters!=null){let s=w0(e.Filters,r);((n=e.Filters)==null?void 0:n.length)===0&&(t.Filters=[]),Object.entries(s).forEach(([o,i])=>{let a=`Filters.${o}`;t[a]=i})}return e.StackInstanceAccount!=null&&(t.StackInstanceAccount=e.StackInstanceAccount),e.StackInstanceRegion!=null&&(t.StackInstanceRegion=e.StackInstanceRegion),e.CallAs!=null&&(t.CallAs=e.CallAs),t},WN=(e,r)=>{let t={};return e.StackName!=null&&(t.StackName=e.StackName),e.NextToken!=null&&(t.NextToken=e.NextToken),t},KN=(e,r)=>{var n;let t={};if(e.StackSetName!=null&&(t.StackSetName=e.StackSetName),e.OperationId!=null&&(t.OperationId=e.OperationId),e.NextToken!=null&&(t.NextToken=e.NextToken),e.MaxResults!=null&&(t.MaxResults=e.MaxResults),e.CallAs!=null&&(t.CallAs=e.CallAs),e.Filters!=null){let s=n0(e.Filters,r);((n=e.Filters)==null?void 0:n.length)===0&&(t.Filters=[]),Object.entries(s).forEach(([o,i])=>{let a=`Filters.${o}`;t[a]=i})}return t},YN=(e,r)=>{let t={};return e.StackSetName!=null&&(t.StackSetName=e.StackSetName),e.NextToken!=null&&(t.NextToken=e.NextToken),e.MaxResults!=null&&(t.MaxResults=e.MaxResults),e.CallAs!=null&&(t.CallAs=e.CallAs),t},XN=(e,r)=>{let t={};return e.NextToken!=null&&(t.NextToken=e.NextToken),e.MaxResults!=null&&(t.MaxResults=e.MaxResults),e.Status!=null&&(t.Status=e.Status),e.CallAs!=null&&(t.CallAs=e.CallAs),t},QN=(e,r)=>{var n;let t={};if(e.NextToken!=null&&(t.NextToken=e.NextToken),e.StackStatusFilter!=null){let s=T0(e.StackStatusFilter,r);((n=e.StackStatusFilter)==null?void 0:n.length)===0&&(t.StackStatusFilter=[]),Object.entries(s).forEach(([o,i])=>{let a=`StackStatusFilter.${o}`;t[a]=i})}return t},JN=(e,r)=>{let t={};return e.Type!=null&&(t.Type=e.Type),e.TypeName!=null&&(t.TypeName=e.TypeName),e.TypeArn!=null&&(t.TypeArn=e.TypeArn),e.RegistrationStatusFilter!=null&&(t.RegistrationStatusFilter=e.RegistrationStatusFilter),e.MaxResults!=null&&(t.MaxResults=e.MaxResults),e.NextToken!=null&&(t.NextToken=e.NextToken),t},ZN=(e,r)=>{let t={};if(e.Visibility!=null&&(t.Visibility=e.Visibility),e.ProvisioningType!=null&&(t.ProvisioningType=e.ProvisioningType),e.DeprecatedStatus!=null&&(t.DeprecatedStatus=e.DeprecatedStatus),e.Type!=null&&(t.Type=e.Type),e.Filters!=null){let n=N0(e.Filters,r);Object.entries(n).forEach(([s,o])=>{let i=`Filters.${s}`;t[i]=o})}return e.MaxResults!=null&&(t.MaxResults=e.MaxResults),e.NextToken!=null&&(t.NextToken=e.NextToken),t},e0=(e,r)=>{let t={};return e.Type!=null&&(t.Type=e.Type),e.TypeName!=null&&(t.TypeName=e.TypeName),e.Arn!=null&&(t.Arn=e.Arn),e.MaxResults!=null&&(t.MaxResults=e.MaxResults),e.NextToken!=null&&(t.NextToken=e.NextToken),e.DeprecatedStatus!=null&&(t.DeprecatedStatus=e.DeprecatedStatus),e.PublisherId!=null&&(t.PublisherId=e.PublisherId),t},x_=(e,r)=>{let t={};return e.LogRoleArn!=null&&(t.LogRoleArn=e.LogRoleArn),e.LogGroupName!=null&&(t.LogGroupName=e.LogGroupName),t},t0=(e,r)=>{let t={},n=1;for(let s of e)s!==null&&(t[`member.${n}`]=s,n++);return t},w_=(e,r)=>{let t={};return e.Active!=null&&(t.Active=e.Active),t},jl=(e,r)=>{let t={},n=1;for(let s of e)s!==null&&(t[`member.${n}`]=s,n++);return t},r0=(e,r)=>{let t={};return e.Name!=null&&(t.Name=e.Name),e.Values!=null&&(t.Values=e.Values),t},n0=(e,r)=>{let t={},n=1;for(let s of e){if(s===null)continue;let o=r0(s,r);Object.entries(o).forEach(([i,a])=>{t[`member.${n}.${i}`]=a}),n++}return t},b_=(e,r)=>{let t={},n=1;for(let s of e)s!==null&&(t[`member.${n}`]=s,n++);return t},s0=(e,r)=>{let t={};return e.ParameterKey!=null&&(t.ParameterKey=e.ParameterKey),e.ParameterValue!=null&&(t.ParameterValue=e.ParameterValue),e.UsePreviousValue!=null&&(t.UsePreviousValue=e.UsePreviousValue),e.ResolvedValue!=null&&(t.ResolvedValue=e.ResolvedValue),t},$r=(e,r)=>{let t={},n=1;for(let s of e){if(s===null)continue;let o=s0(s,r);Object.entries(o).forEach(([i,a])=>{t[`member.${n}.${i}`]=a}),n++}return t},o0=(e,r)=>{let t={};return e.Type!=null&&(t.Type=e.Type),e.Arn!=null&&(t.Arn=e.Arn),e.TypeName!=null&&(t.TypeName=e.TypeName),e.PublicVersionNumber!=null&&(t.PublicVersionNumber=e.PublicVersionNumber),t},i0=(e,r)=>{let t={};return e.BearerToken!=null&&(t.BearerToken=e.BearerToken),e.OperationStatus!=null&&(t.OperationStatus=e.OperationStatus),e.CurrentOperationStatus!=null&&(t.CurrentOperationStatus=e.CurrentOperationStatus),e.StatusMessage!=null&&(t.StatusMessage=e.StatusMessage),e.ErrorCode!=null&&(t.ErrorCode=e.ErrorCode),e.ResourceModel!=null&&(t.ResourceModel=e.ResourceModel),e.ClientRequestToken!=null&&(t.ClientRequestToken=e.ClientRequestToken),t},Ai=(e,r)=>{let t={},n=1;for(let s of e)s!==null&&(t[`member.${n}`]=s,n++);return t},a0=(e,r)=>{let t={};return e.AcceptTermsAndConditions!=null&&(t.AcceptTermsAndConditions=e.AcceptTermsAndConditions),e.ConnectionArn!=null&&(t.ConnectionArn=e.ConnectionArn),t},c0=(e,r)=>{let t={};if(e.Type!=null&&(t.Type=e.Type),e.TypeName!=null&&(t.TypeName=e.TypeName),e.SchemaHandlerPackage!=null&&(t.SchemaHandlerPackage=e.SchemaHandlerPackage),e.LoggingConfig!=null){let n=x_(e.LoggingConfig,r);Object.entries(n).forEach(([s,o])=>{let i=`LoggingConfig.${s}`;t[i]=o})}return e.ExecutionRoleArn!=null&&(t.ExecutionRoleArn=e.ExecutionRoleArn),e.ClientRequestToken!=null&&(t.ClientRequestToken=e.ClientRequestToken),t},d0=(e,r)=>{let t={},n=1;return Object.keys(e).filter(s=>e[s]!=null).forEach(s=>{t[`entry.${n}.key`]=s,t[`entry.${n}.value`]=e[s],n++}),t},l0=(e,r)=>{let t={},n=1;for(let s of e){if(s===null)continue;let o=u0(s,r);Object.entries(o).forEach(([i,a])=>{t[`member.${n}.${i}`]=a}),n++}return t},m0=(e,r)=>{let t={},n=1;for(let s of e)s!==null&&(t[`member.${n}`]=s,n++);return t},u0=(e,r)=>{let t={};if(e.ResourceType!=null&&(t.ResourceType=e.ResourceType),e.LogicalResourceId!=null&&(t.LogicalResourceId=e.LogicalResourceId),e.ResourceIdentifier!=null){let n=d0(e.ResourceIdentifier,r);Object.entries(n).forEach(([s,o])=>{let i=`ResourceIdentifier.${s}`;t[i]=o})}return t},Vl=(e,r)=>{let t={},n=1;for(let s of e)s!==null&&(t[`member.${n}`]=s,n++);return t},f0=(e,r)=>{let t={},n=1;for(let s of e)s!==null&&(t[`member.${n}`]=s,n++);return t},Hl=(e,r)=>{var n;let t={};if(e.RollbackTriggers!=null){let s=y0(e.RollbackTriggers,r);((n=e.RollbackTriggers)==null?void 0:n.length)===0&&(t.RollbackTriggers=[]),Object.entries(s).forEach(([o,i])=>{let a=`RollbackTriggers.${o}`;t[a]=i})}return e.MonitoringTimeInMinutes!=null&&(t.MonitoringTimeInMinutes=e.MonitoringTimeInMinutes),t},p0=(e,r)=>{let t={};return e.StackName!=null&&(t.StackName=e.StackName),e.RoleARN!=null&&(t.RoleARN=e.RoleARN),e.ClientRequestToken!=null&&(t.ClientRequestToken=e.ClientRequestToken),t},h0=(e,r)=>{let t={};return e.Arn!=null&&(t.Arn=e.Arn),e.Type!=null&&(t.Type=e.Type),t},y0=(e,r)=>{let t={},n=1;for(let s of e){if(s===null)continue;let o=h0(s,r);Object.entries(o).forEach(([i,a])=>{t[`member.${n}.${i}`]=a}),n++}return t},E0=(e,r)=>{let t={};return e.StackName!=null&&(t.StackName=e.StackName),e.StackPolicyBody!=null&&(t.StackPolicyBody=e.StackPolicyBody),e.StackPolicyURL!=null&&(t.StackPolicyURL=e.StackPolicyURL),t},S0=(e,r)=>{let t={};return e.TypeArn!=null&&(t.TypeArn=e.TypeArn),e.Configuration!=null&&(t.Configuration=e.Configuration),e.ConfigurationAlias!=null&&(t.ConfigurationAlias=e.ConfigurationAlias),e.TypeName!=null&&(t.TypeName=e.TypeName),e.Type!=null&&(t.Type=e.Type),t},g0=(e,r)=>{let t={};return e.Arn!=null&&(t.Arn=e.Arn),e.Type!=null&&(t.Type=e.Type),e.TypeName!=null&&(t.TypeName=e.TypeName),e.VersionId!=null&&(t.VersionId=e.VersionId),t},_0=(e,r)=>{let t={};return e.StackName!=null&&(t.StackName=e.StackName),e.LogicalResourceId!=null&&(t.LogicalResourceId=e.LogicalResourceId),e.UniqueId!=null&&(t.UniqueId=e.UniqueId),e.Status!=null&&(t.Status=e.Status),t},C0=(e,r)=>{let t={},n=1;for(let s of e)s!==null&&(t[`member.${n}`]=s,n++);return t},x0=(e,r)=>{let t={};return e.Name!=null&&(t.Name=e.Name),e.Values!=null&&(t.Values=e.Values),t},w0=(e,r)=>{let t={},n=1;for(let s of e){if(s===null)continue;let o=x0(s,r);Object.entries(o).forEach(([i,a])=>{t[`member.${n}.${i}`]=a}),n++}return t},b0=(e,r)=>{let t={},n=1;for(let s of e)s!==null&&(t[`member.${n}`]=s,n++);return t},Gs=(e,r)=>{var n;let t={};if(e.RegionConcurrencyType!=null&&(t.RegionConcurrencyType=e.RegionConcurrencyType),e.RegionOrder!=null){let s=Ai(e.RegionOrder,r);((n=e.RegionOrder)==null?void 0:n.length)===0&&(t.RegionOrder=[]),Object.entries(s).forEach(([o,i])=>{let a=`RegionOrder.${o}`;t[a]=i})}return e.FailureToleranceCount!=null&&(t.FailureToleranceCount=e.FailureToleranceCount),e.FailureTolerancePercentage!=null&&(t.FailureTolerancePercentage=e.FailureTolerancePercentage),e.MaxConcurrentCount!=null&&(t.MaxConcurrentCount=e.MaxConcurrentCount),e.MaxConcurrentPercentage!=null&&(t.MaxConcurrentPercentage=e.MaxConcurrentPercentage),t},T0=(e,r)=>{let t={},n=1;for(let s of e)s!==null&&(t[`member.${n}`]=s,n++);return t},I0=(e,r)=>{let t={};return e.StackSetName!=null&&(t.StackSetName=e.StackSetName),e.OperationId!=null&&(t.OperationId=e.OperationId),e.CallAs!=null&&(t.CallAs=e.CallAs),t},R0=(e,r)=>{let t={};return e.Key!=null&&(t.Key=e.Key),e.Value!=null&&(t.Value=e.Value),t},Ni=(e,r)=>{let t={},n=1;for(let s of e){if(s===null)continue;let o=R0(s,r);Object.entries(o).forEach(([i,a])=>{t[`member.${n}.${i}`]=a}),n++}return t},k0=(e,r)=>{let t={};return e.Arn!=null&&(t.Arn=e.Arn),e.Type!=null&&(t.Type=e.Type),e.TypeName!=null&&(t.TypeName=e.TypeName),e.VersionId!=null&&(t.VersionId=e.VersionId),e.LogDeliveryBucket!=null&&(t.LogDeliveryBucket=e.LogDeliveryBucket),t},P0=(e,r)=>{let t={};return e.TypeArn!=null&&(t.TypeArn=e.TypeArn),e.TypeConfigurationAlias!=null&&(t.TypeConfigurationAlias=e.TypeConfigurationAlias),e.TypeConfigurationArn!=null&&(t.TypeConfigurationArn=e.TypeConfigurationArn),e.Type!=null&&(t.Type=e.Type),e.TypeName!=null&&(t.TypeName=e.TypeName),t},A0=(e,r)=>{let t={},n=1;for(let s of e){if(s===null)continue;let o=P0(s,r);Object.entries(o).forEach(([i,a])=>{t[`member.${n}.${i}`]=a}),n++}return t},N0=(e,r)=>{let t={};return e.Category!=null&&(t.Category=e.Category),e.PublisherId!=null&&(t.PublisherId=e.PublisherId),e.TypeNamePrefix!=null&&(t.TypeNamePrefix=e.TypeNamePrefix),t},D0=(e,r)=>{var n,s,o,i,a;let t={};if(e.StackName!=null&&(t.StackName=e.StackName),e.TemplateBody!=null&&(t.TemplateBody=e.TemplateBody),e.TemplateURL!=null&&(t.TemplateURL=e.TemplateURL),e.UsePreviousTemplate!=null&&(t.UsePreviousTemplate=e.UsePreviousTemplate),e.StackPolicyDuringUpdateBody!=null&&(t.StackPolicyDuringUpdateBody=e.StackPolicyDuringUpdateBody),e.StackPolicyDuringUpdateURL!=null&&(t.StackPolicyDuringUpdateURL=e.StackPolicyDuringUpdateURL),e.Parameters!=null){let d=$r(e.Parameters,r);((n=e.Parameters)==null?void 0:n.length)===0&&(t.Parameters=[]),Object.entries(d).forEach(([l,c])=>{let u=`Parameters.${l}`;t[u]=c})}if(e.Capabilities!=null){let d=Pi(e.Capabilities,r);((s=e.Capabilities)==null?void 0:s.length)===0&&(t.Capabilities=[]),Object.entries(d).forEach(([l,c])=>{let u=`Capabilities.${l}`;t[u]=c})}if(e.ResourceTypes!=null){let d=Vl(e.ResourceTypes,r);((o=e.ResourceTypes)==null?void 0:o.length)===0&&(t.ResourceTypes=[]),Object.entries(d).forEach(([l,c])=>{let u=`ResourceTypes.${l}`;t[u]=c})}if(e.RoleARN!=null&&(t.RoleARN=e.RoleARN),e.RollbackConfiguration!=null){let d=Hl(e.RollbackConfiguration,r);Object.entries(d).forEach(([l,c])=>{let u=`RollbackConfiguration.${l}`;t[u]=c})}if(e.StackPolicyBody!=null&&(t.StackPolicyBody=e.StackPolicyBody),e.StackPolicyURL!=null&&(t.StackPolicyURL=e.StackPolicyURL),e.NotificationARNs!=null){let d=jl(e.NotificationARNs,r);((i=e.NotificationARNs)==null?void 0:i.length)===0&&(t.NotificationARNs=[]),Object.entries(d).forEach(([l,c])=>{let u=`NotificationARNs.${l}`;t[u]=c})}if(e.Tags!=null){let d=Ni(e.Tags,r);((a=e.Tags)==null?void 0:a.length)===0&&(t.Tags=[]),Object.entries(d).forEach(([l,c])=>{let u=`Tags.${l}`;t[u]=c})}return e.DisableRollback!=null&&(t.DisableRollback=e.DisableRollback),e.ClientRequestToken!=null&&(t.ClientRequestToken=e.ClientRequestToken),t},v0=(e,r)=>{var n,s,o;let t={};if(e.StackSetName!=null&&(t.StackSetName=e.StackSetName),e.Accounts!=null){let i=ki(e.Accounts,r);((n=e.Accounts)==null?void 0:n.length)===0&&(t.Accounts=[]),Object.entries(i).forEach(([a,d])=>{let l=`Accounts.${a}`;t[l]=d})}if(e.DeploymentTargets!=null){let i=sc(e.DeploymentTargets,r);Object.entries(i).forEach(([a,d])=>{let l=`DeploymentTargets.${a}`;t[l]=d})}if(e.Regions!=null){let i=Ai(e.Regions,r);((s=e.Regions)==null?void 0:s.length)===0&&(t.Regions=[]),Object.entries(i).forEach(([a,d])=>{let l=`Regions.${a}`;t[l]=d})}if(e.ParameterOverrides!=null){let i=$r(e.ParameterOverrides,r);((o=e.ParameterOverrides)==null?void 0:o.length)===0&&(t.ParameterOverrides=[]),Object.entries(i).forEach(([a,d])=>{let l=`ParameterOverrides.${a}`;t[l]=d})}if(e.OperationPreferences!=null){let i=Gs(e.OperationPreferences,r);Object.entries(i).forEach(([a,d])=>{let l=`OperationPreferences.${a}`;t[l]=d})}return e.OperationId===void 0&&(e.OperationId=Ae()),e.OperationId!=null&&(t.OperationId=e.OperationId),e.CallAs!=null&&(t.CallAs=e.CallAs),t},O0=(e,r)=>{var n,s,o,i,a;let t={};if(e.StackSetName!=null&&(t.StackSetName=e.StackSetName),e.Description!=null&&(t.Description=e.Description),e.TemplateBody!=null&&(t.TemplateBody=e.TemplateBody),e.TemplateURL!=null&&(t.TemplateURL=e.TemplateURL),e.UsePreviousTemplate!=null&&(t.UsePreviousTemplate=e.UsePreviousTemplate),e.Parameters!=null){let d=$r(e.Parameters,r);((n=e.Parameters)==null?void 0:n.length)===0&&(t.Parameters=[]),Object.entries(d).forEach(([l,c])=>{let u=`Parameters.${l}`;t[u]=c})}if(e.Capabilities!=null){let d=Pi(e.Capabilities,r);((s=e.Capabilities)==null?void 0:s.length)===0&&(t.Capabilities=[]),Object.entries(d).forEach(([l,c])=>{let u=`Capabilities.${l}`;t[u]=c})}if(e.Tags!=null){let d=Ni(e.Tags,r);((o=e.Tags)==null?void 0:o.length)===0&&(t.Tags=[]),Object.entries(d).forEach(([l,c])=>{let u=`Tags.${l}`;t[u]=c})}if(e.OperationPreferences!=null){let d=Gs(e.OperationPreferences,r);Object.entries(d).forEach(([l,c])=>{let u=`OperationPreferences.${l}`;t[u]=c})}if(e.AdministrationRoleARN!=null&&(t.AdministrationRoleARN=e.AdministrationRoleARN),e.ExecutionRoleName!=null&&(t.ExecutionRoleName=e.ExecutionRoleName),e.DeploymentTargets!=null){let d=sc(e.DeploymentTargets,r);Object.entries(d).forEach(([l,c])=>{let u=`DeploymentTargets.${l}`;t[u]=c})}if(e.PermissionModel!=null&&(t.PermissionModel=e.PermissionModel),e.AutoDeployment!=null){let d=C_(e.AutoDeployment,r);Object.entries(d).forEach(([l,c])=>{let u=`AutoDeployment.${l}`;t[u]=c})}if(e.OperationId===void 0&&(e.OperationId=Ae()),e.OperationId!=null&&(t.OperationId=e.OperationId),e.Accounts!=null){let d=ki(e.Accounts,r);((i=e.Accounts)==null?void 0:i.length)===0&&(t.Accounts=[]),Object.entries(d).forEach(([l,c])=>{let u=`Accounts.${l}`;t[u]=c})}if(e.Regions!=null){let d=Ai(e.Regions,r);((a=e.Regions)==null?void 0:a.length)===0&&(t.Regions=[]),Object.entries(d).forEach(([l,c])=>{let u=`Regions.${l}`;t[u]=c})}if(e.CallAs!=null&&(t.CallAs=e.CallAs),e.ManagedExecution!=null){let d=w_(e.ManagedExecution,r);Object.entries(d).forEach(([l,c])=>{let u=`ManagedExecution.${l}`;t[u]=c})}return t},F0=(e,r)=>{let t={};return e.EnableTerminationProtection!=null&&(t.EnableTerminationProtection=e.EnableTerminationProtection),e.StackName!=null&&(t.StackName=e.StackName),t},L0=(e,r)=>{let t={};return e.TemplateBody!=null&&(t.TemplateBody=e.TemplateBody),e.TemplateURL!=null&&(t.TemplateURL=e.TemplateURL),t},M0=(e,r)=>{let t={};return e.Status!==void 0&&(t.Status=m(e.Status)),e.StatusReason!==void 0&&(t.StatusReason=m(e.StatusReason)),t},U0=(e,r)=>{let t={};return e.Name!==void 0&&(t.Name=m(e.Name)),e.Value!==void 0&&(t.Value=ce(e.Value)),t},B0=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>U0(t,r)),$0=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>m(t)),z0=(e,r)=>{let t={};return e.Arn!==void 0&&(t.Arn=m(e.Arn)),t},q0=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>m(t)),j0=(e,r)=>{let t={};return e.Message!==void 0&&(t.Message=m(e.Message)),t},T_=(e,r)=>{let t={};return e.Enabled!==void 0&&(t.Enabled=fe(e.Enabled)),e.RetainStacksOnAccountRemoval!==void 0&&(t.RetainStacksOnAccountRemoval=fe(e.RetainStacksOnAccountRemoval)),t},V0=(e,r)=>{let t={};return e.ErrorCode!==void 0&&(t.ErrorCode=m(e.ErrorCode)),e.ErrorMessage!==void 0&&(t.ErrorMessage=m(e.ErrorMessage)),e.TypeConfigurationIdentifier!==void 0&&(t.TypeConfigurationIdentifier=U_(e.TypeConfigurationIdentifier,r)),t},H0=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>V0(t,r)),G0=(e,r)=>{let t={};return e.Errors===""?t.Errors=[]:e.Errors!==void 0&&e.Errors.member!==void 0&&(t.Errors=H0(P(e.Errors.member),r)),e.UnprocessedTypeConfigurations===""?t.UnprocessedTypeConfigurations=[]:e.UnprocessedTypeConfigurations!==void 0&&e.UnprocessedTypeConfigurations.member!==void 0&&(t.UnprocessedTypeConfigurations=LO(P(e.UnprocessedTypeConfigurations.member),r)),e.TypeConfigurations===""?t.TypeConfigurations=[]:e.TypeConfigurations!==void 0&&e.TypeConfigurations.member!==void 0&&(t.TypeConfigurations=PO(P(e.TypeConfigurations.member),r)),t},Di=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>m(t)),W0=(e,r)=>{let t={};return e.Message!==void 0&&(t.Message=m(e.Message)),t},K0=(e,r)=>{let t={};return e.Type!==void 0&&(t.Type=m(e.Type)),e.HookInvocationCount!==void 0&&(t.HookInvocationCount=ce(e.HookInvocationCount)),e.ResourceChange!==void 0&&(t.ResourceChange=Pv(e.ResourceChange,r)),t},Y0=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>K0(t,r)),X0=(e,r)=>{let t={};return e.InvocationPoint!==void 0&&(t.InvocationPoint=m(e.InvocationPoint)),e.FailureMode!==void 0&&(t.FailureMode=m(e.FailureMode)),e.TypeName!==void 0&&(t.TypeName=m(e.TypeName)),e.TypeVersionId!==void 0&&(t.TypeVersionId=m(e.TypeVersionId)),e.TypeConfigurationVersionId!==void 0&&(t.TypeConfigurationVersionId=m(e.TypeConfigurationVersionId)),e.TargetDetails!==void 0&&(t.TargetDetails=Z0(e.TargetDetails,r)),t},Q0=(e,r)=>{let t={};return e.LogicalResourceId!==void 0&&(t.LogicalResourceId=m(e.LogicalResourceId)),e.ResourceType!==void 0&&(t.ResourceType=m(e.ResourceType)),e.ResourceAction!==void 0&&(t.ResourceAction=m(e.ResourceAction)),t},J0=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>X0(t,r)),Z0=(e,r)=>{let t={};return e.TargetType!==void 0&&(t.TargetType=m(e.TargetType)),e.ResourceTargetDetails!==void 0&&(t.ResourceTargetDetails=Q0(e.ResourceTargetDetails,r)),t},eD=(e,r)=>{let t={};return e.Message!==void 0&&(t.Message=m(e.Message)),t},tD=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>rD(t,r)),rD=(e,r)=>{let t={};return e.StackId!==void 0&&(t.StackId=m(e.StackId)),e.StackName!==void 0&&(t.StackName=m(e.StackName)),e.ChangeSetId!==void 0&&(t.ChangeSetId=m(e.ChangeSetId)),e.ChangeSetName!==void 0&&(t.ChangeSetName=m(e.ChangeSetName)),e.ExecutionStatus!==void 0&&(t.ExecutionStatus=m(e.ExecutionStatus)),e.Status!==void 0&&(t.Status=m(e.Status)),e.StatusReason!==void 0&&(t.StatusReason=m(e.StatusReason)),e.CreationTime!==void 0&&(t.CreationTime=M(z(e.CreationTime))),e.Description!==void 0&&(t.Description=m(e.Description)),e.IncludeNestedStacks!==void 0&&(t.IncludeNestedStacks=fe(e.IncludeNestedStacks)),e.ParentChangeSetId!==void 0&&(t.ParentChangeSetId=m(e.ParentChangeSetId)),e.RootChangeSetId!==void 0&&(t.RootChangeSetId=m(e.RootChangeSetId)),t},nD=(e,r)=>({}),sD=(e,r)=>{let t={};return e.Id!==void 0&&(t.Id=m(e.Id)),e.StackId!==void 0&&(t.StackId=m(e.StackId)),t},oD=(e,r)=>{let t={};return e.Message!==void 0&&(t.Message=m(e.Message)),t},iD=(e,r)=>{let t={};return e.OperationId!==void 0&&(t.OperationId=m(e.OperationId)),t},aD=(e,r)=>{let t={};return e.StackId!==void 0&&(t.StackId=m(e.StackId)),t},cD=(e,r)=>{let t={};return e.StackSetId!==void 0&&(t.StackSetId=m(e.StackSetId)),t},dD=(e,r)=>({}),lD=(e,r)=>({}),mD=(e,r)=>{let t={};return e.OperationId!==void 0&&(t.OperationId=m(e.OperationId)),t},uD=(e,r)=>({}),fD=(e,r)=>{let t={};return e.Accounts===""?t.Accounts=[]:e.Accounts!==void 0&&e.Accounts.member!==void 0&&(t.Accounts=$0(P(e.Accounts.member),r)),e.AccountsUrl!==void 0&&(t.AccountsUrl=m(e.AccountsUrl)),e.OrganizationalUnitIds===""?t.OrganizationalUnitIds=[]:e.OrganizationalUnitIds!==void 0&&e.OrganizationalUnitIds.member!==void 0&&(t.OrganizationalUnitIds=k_(P(e.OrganizationalUnitIds.member),r)),e.AccountFilterType!==void 0&&(t.AccountFilterType=m(e.AccountFilterType)),t},pD=(e,r)=>({}),hD=(e,r)=>{let t={};return e.AccountLimits===""?t.AccountLimits=[]:e.AccountLimits!==void 0&&e.AccountLimits.member!==void 0&&(t.AccountLimits=B0(P(e.AccountLimits.member),r)),e.NextToken!==void 0&&(t.NextToken=m(e.NextToken)),t},yD=(e,r)=>{let t={};return e.ChangeSetId!==void 0&&(t.ChangeSetId=m(e.ChangeSetId)),e.ChangeSetName!==void 0&&(t.ChangeSetName=m(e.ChangeSetName)),e.Hooks===""?t.Hooks=[]:e.Hooks!==void 0&&e.Hooks.member!==void 0&&(t.Hooks=J0(P(e.Hooks.member),r)),e.Status!==void 0&&(t.Status=m(e.Status)),e.NextToken!==void 0&&(t.NextToken=m(e.NextToken)),e.StackId!==void 0&&(t.StackId=m(e.StackId)),e.StackName!==void 0&&(t.StackName=m(e.StackName)),t},ED=(e,r)=>{let t={};return e.ChangeSetName!==void 0&&(t.ChangeSetName=m(e.ChangeSetName)),e.ChangeSetId!==void 0&&(t.ChangeSetId=m(e.ChangeSetId)),e.StackId!==void 0&&(t.StackId=m(e.StackId)),e.StackName!==void 0&&(t.StackName=m(e.StackName)),e.Description!==void 0&&(t.Description=m(e.Description)),e.Parameters===""?t.Parameters=[]:e.Parameters!==void 0&&e.Parameters.member!==void 0&&(t.Parameters=oc(P(e.Parameters.member),r)),e.CreationTime!==void 0&&(t.CreationTime=M(z(e.CreationTime))),e.ExecutionStatus!==void 0&&(t.ExecutionStatus=m(e.ExecutionStatus)),e.Status!==void 0&&(t.Status=m(e.Status)),e.StatusReason!==void 0&&(t.StatusReason=m(e.StatusReason)),e.NotificationARNs===""?t.NotificationARNs=[]:e.NotificationARNs!==void 0&&e.NotificationARNs.member!==void 0&&(t.NotificationARNs=R_(P(e.NotificationARNs.member),r)),e.RollbackConfiguration!==void 0&&(t.RollbackConfiguration=A_(e.RollbackConfiguration,r)),e.Capabilities===""?t.Capabilities=[]:e.Capabilities!==void 0&&e.Capabilities.member!==void 0&&(t.Capabilities=Di(P(e.Capabilities.member),r)),e.Tags===""?t.Tags=[]:e.Tags!==void 0&&e.Tags.member!==void 0&&(t.Tags=Gl(P(e.Tags.member),r)),e.Changes===""?t.Changes=[]:e.Changes!==void 0&&e.Changes.member!==void 0&&(t.Changes=Y0(P(e.Changes.member),r)),e.NextToken!==void 0&&(t.NextToken=m(e.NextToken)),e.IncludeNestedStacks!==void 0&&(t.IncludeNestedStacks=fe(e.IncludeNestedStacks)),e.ParentChangeSetId!==void 0&&(t.ParentChangeSetId=m(e.ParentChangeSetId)),e.RootChangeSetId!==void 0&&(t.RootChangeSetId=m(e.RootChangeSetId)),t},SD=(e,r)=>{let t={};return e.PublisherId!==void 0&&(t.PublisherId=m(e.PublisherId)),e.PublisherStatus!==void 0&&(t.PublisherStatus=m(e.PublisherStatus)),e.IdentityProvider!==void 0&&(t.IdentityProvider=m(e.IdentityProvider)),e.PublisherProfile!==void 0&&(t.PublisherProfile=m(e.PublisherProfile)),t},gD=(e,r)=>{let t={};return e.StackId!==void 0&&(t.StackId=m(e.StackId)),e.StackDriftDetectionId!==void 0&&(t.StackDriftDetectionId=m(e.StackDriftDetectionId)),e.StackDriftStatus!==void 0&&(t.StackDriftStatus=m(e.StackDriftStatus)),e.DetectionStatus!==void 0&&(t.DetectionStatus=m(e.DetectionStatus)),e.DetectionStatusReason!==void 0&&(t.DetectionStatusReason=m(e.DetectionStatusReason)),e.DriftedStackResourceCount!==void 0&&(t.DriftedStackResourceCount=ce(e.DriftedStackResourceCount)),e.Timestamp!==void 0&&(t.Timestamp=M(z(e.Timestamp))),t},_D=(e,r)=>{let t={};return e.StackEvents===""?t.StackEvents=[]:e.StackEvents!==void 0&&e.StackEvents.member!==void 0&&(t.StackEvents=Wv(P(e.StackEvents.member),r)),e.NextToken!==void 0&&(t.NextToken=m(e.NextToken)),t},CD=(e,r)=>{let t={};return e.StackInstance!==void 0&&(t.StackInstance=Kv(e.StackInstance,r)),t},xD=(e,r)=>{let t={};return e.StackResourceDrifts===""?t.StackResourceDrifts=[]:e.StackResourceDrifts!==void 0&&e.StackResourceDrifts.member!==void 0&&(t.StackResourceDrifts=rO(P(e.StackResourceDrifts.member),r)),e.NextToken!==void 0&&(t.NextToken=m(e.NextToken)),t},wD=(e,r)=>{let t={};return e.StackResourceDetail!==void 0&&(t.StackResourceDetail=eO(e.StackResourceDetail,r)),t},bD=(e,r)=>{let t={};return e.StackResources===""?t.StackResources=[]:e.StackResources!==void 0&&e.StackResources.member!==void 0&&(t.StackResources=nO(P(e.StackResources.member),r)),t},TD=(e,r)=>{let t={};return e.StackSetOperation!==void 0&&(t.StackSetOperation=lO(e.StackSetOperation,r)),t},ID=(e,r)=>{let t={};return e.StackSet!==void 0&&(t.StackSet=aO(e.StackSet,r)),t},RD=(e,r)=>{let t={};return e.Stacks===""?t.Stacks=[]:e.Stacks!==void 0&&e.Stacks.member!==void 0&&(t.Stacks=iO(P(e.Stacks.member),r)),e.NextToken!==void 0&&(t.NextToken=m(e.NextToken)),t},kD=(e,r)=>{let t={};return e.Arn!==void 0&&(t.Arn=m(e.Arn)),e.Type!==void 0&&(t.Type=m(e.Type)),e.TypeName!==void 0&&(t.TypeName=m(e.TypeName)),e.DefaultVersionId!==void 0&&(t.DefaultVersionId=m(e.DefaultVersionId)),e.IsDefaultVersion!==void 0&&(t.IsDefaultVersion=fe(e.IsDefaultVersion)),e.TypeTestsStatus!==void 0&&(t.TypeTestsStatus=m(e.TypeTestsStatus)),e.TypeTestsStatusDescription!==void 0&&(t.TypeTestsStatusDescription=m(e.TypeTestsStatusDescription)),e.Description!==void 0&&(t.Description=m(e.Description)),e.Schema!==void 0&&(t.Schema=m(e.Schema)),e.ProvisioningType!==void 0&&(t.ProvisioningType=m(e.ProvisioningType)),e.DeprecatedStatus!==void 0&&(t.DeprecatedStatus=m(e.DeprecatedStatus)),e.LoggingConfig!==void 0&&(t.LoggingConfig=ov(e.LoggingConfig,r)),e.RequiredActivatedTypes===""?t.RequiredActivatedTypes=[]:e.RequiredActivatedTypes!==void 0&&e.RequiredActivatedTypes.member!==void 0&&(t.RequiredActivatedTypes=kv(P(e.RequiredActivatedTypes.member),r)),e.ExecutionRoleArn!==void 0&&(t.ExecutionRoleArn=m(e.ExecutionRoleArn)),e.Visibility!==void 0&&(t.Visibility=m(e.Visibility)),e.SourceUrl!==void 0&&(t.SourceUrl=m(e.SourceUrl)),e.DocumentationUrl!==void 0&&(t.DocumentationUrl=m(e.DocumentationUrl)),e.LastUpdated!==void 0&&(t.LastUpdated=M(z(e.LastUpdated))),e.TimeCreated!==void 0&&(t.TimeCreated=M(z(e.TimeCreated))),e.ConfigurationSchema!==void 0&&(t.ConfigurationSchema=m(e.ConfigurationSchema)),e.PublisherId!==void 0&&(t.PublisherId=m(e.PublisherId)),e.OriginalTypeName!==void 0&&(t.OriginalTypeName=m(e.OriginalTypeName)),e.OriginalTypeArn!==void 0&&(t.OriginalTypeArn=m(e.OriginalTypeArn)),e.PublicVersionNumber!==void 0&&(t.PublicVersionNumber=m(e.PublicVersionNumber)),e.LatestPublicVersion!==void 0&&(t.LatestPublicVersion=m(e.LatestPublicVersion)),e.IsActivated!==void 0&&(t.IsActivated=fe(e.IsActivated)),e.AutoUpdate!==void 0&&(t.AutoUpdate=fe(e.AutoUpdate)),t},PD=(e,r)=>{let t={};return e.ProgressStatus!==void 0&&(t.ProgressStatus=m(e.ProgressStatus)),e.Description!==void 0&&(t.Description=m(e.Description)),e.TypeArn!==void 0&&(t.TypeArn=m(e.TypeArn)),e.TypeVersionArn!==void 0&&(t.TypeVersionArn=m(e.TypeVersionArn)),t},AD=(e,r)=>{let t={};return e.StackDriftDetectionId!==void 0&&(t.StackDriftDetectionId=m(e.StackDriftDetectionId)),t},ND=(e,r)=>{let t={};return e.StackResourceDrift!==void 0&&(t.StackResourceDrift=D_(e.StackResourceDrift,r)),t},DD=(e,r)=>{let t={};return e.OperationId!==void 0&&(t.OperationId=m(e.OperationId)),t},vD=(e,r)=>{let t={};return e.Url!==void 0&&(t.Url=m(e.Url)),t},OD=(e,r)=>({}),FD=(e,r)=>{let t={};return e.ExportingStackId!==void 0&&(t.ExportingStackId=m(e.ExportingStackId)),e.Name!==void 0&&(t.Name=m(e.Name)),e.Value!==void 0&&(t.Value=m(e.Value)),t},LD=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>FD(t,r)),MD=(e,r)=>{let t={};return e.StackPolicyBody!==void 0&&(t.StackPolicyBody=m(e.StackPolicyBody)),t},UD=(e,r)=>{let t={};return e.TemplateBody!==void 0&&(t.TemplateBody=m(e.TemplateBody)),e.StagesAvailable===""?t.StagesAvailable=[]:e.StagesAvailable!==void 0&&e.StagesAvailable.member!==void 0&&(t.StagesAvailable=gO(P(e.StagesAvailable.member),r)),t},BD=(e,r)=>{let t={};return e.Parameters===""?t.Parameters=[]:e.Parameters!==void 0&&e.Parameters.member!==void 0&&(t.Parameters=Ev(P(e.Parameters.member),r)),e.Description!==void 0&&(t.Description=m(e.Description)),e.Capabilities===""?t.Capabilities=[]:e.Capabilities!==void 0&&e.Capabilities.member!==void 0&&(t.Capabilities=Di(P(e.Capabilities.member),r)),e.CapabilitiesReason!==void 0&&(t.CapabilitiesReason=m(e.CapabilitiesReason)),e.ResourceTypes===""?t.ResourceTypes=[]:e.ResourceTypes!==void 0&&e.ResourceTypes.member!==void 0&&(t.ResourceTypes=Lv(P(e.ResourceTypes.member),r)),e.Version!==void 0&&(t.Version=m(e.Version)),e.Metadata!==void 0&&(t.Metadata=m(e.Metadata)),e.DeclaredTransforms===""?t.DeclaredTransforms=[]:e.DeclaredTransforms!==void 0&&e.DeclaredTransforms.member!==void 0&&(t.DeclaredTransforms=M_(P(e.DeclaredTransforms.member),r)),e.ResourceIdentifierSummaries===""?t.ResourceIdentifierSummaries=[]:e.ResourceIdentifierSummaries!==void 0&&e.ResourceIdentifierSummaries.member!==void 0&&(t.ResourceIdentifierSummaries=vv(P(e.ResourceIdentifierSummaries.member),r)),t},$D=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>m(t)),zD=(e,r)=>{let t={};return e.OperationId!==void 0&&(t.OperationId=m(e.OperationId)),t},qD=(e,r)=>{let t={};return e.Message!==void 0&&(t.Message=m(e.Message)),t},jD=(e,r)=>{let t={};return e.Message!==void 0&&(t.Message=m(e.Message)),t},VD=(e,r)=>{let t={};return e.Message!==void 0&&(t.Message=m(e.Message)),t},HD=(e,r)=>{let t={};return e.Message!==void 0&&(t.Message=m(e.Message)),t},GD=(e,r)=>{let t={};return e.Message!==void 0&&(t.Message=m(e.Message)),t},WD=(e,r)=>{let t={};return e.Summaries===""?t.Summaries=[]:e.Summaries!==void 0&&e.Summaries.member!==void 0&&(t.Summaries=tD(P(e.Summaries.member),r)),e.NextToken!==void 0&&(t.NextToken=m(e.NextToken)),t},KD=(e,r)=>{let t={};return e.Exports===""?t.Exports=[]:e.Exports!==void 0&&e.Exports.member!==void 0&&(t.Exports=LD(P(e.Exports.member),r)),e.NextToken!==void 0&&(t.NextToken=m(e.NextToken)),t},YD=(e,r)=>{let t={};return e.Imports===""?t.Imports=[]:e.Imports!==void 0&&e.Imports.member!==void 0&&(t.Imports=$D(P(e.Imports.member),r)),e.NextToken!==void 0&&(t.NextToken=m(e.NextToken)),t},XD=(e,r)=>{let t={};return e.Summaries===""?t.Summaries=[]:e.Summaries!==void 0&&e.Summaries.member!==void 0&&(t.Summaries=Xv(P(e.Summaries.member),r)),e.NextToken!==void 0&&(t.NextToken=m(e.NextToken)),t},QD=(e,r)=>{let t={};return e.StackResourceSummaries===""?t.StackResourceSummaries=[]:e.StackResourceSummaries!==void 0&&e.StackResourceSummaries.member!==void 0&&(t.StackResourceSummaries=sO(P(e.StackResourceSummaries.member),r)),e.NextToken!==void 0&&(t.NextToken=m(e.NextToken)),t},JD=(e,r)=>{let t={};return e.Summaries===""?t.Summaries=[]:e.Summaries!==void 0&&e.Summaries.member!==void 0&&(t.Summaries=mO(P(e.Summaries.member),r)),e.NextToken!==void 0&&(t.NextToken=m(e.NextToken)),t},ZD=(e,r)=>{let t={};return e.Summaries===""?t.Summaries=[]:e.Summaries!==void 0&&e.Summaries.member!==void 0&&(t.Summaries=fO(P(e.Summaries.member),r)),e.NextToken!==void 0&&(t.NextToken=m(e.NextToken)),t},ev=(e,r)=>{let t={};return e.Summaries===""?t.Summaries=[]:e.Summaries!==void 0&&e.Summaries.member!==void 0&&(t.Summaries=hO(P(e.Summaries.member),r)),e.NextToken!==void 0&&(t.NextToken=m(e.NextToken)),t},tv=(e,r)=>{let t={};return e.StackSummaries===""?t.StackSummaries=[]:e.StackSummaries!==void 0&&e.StackSummaries.member!==void 0&&(t.StackSummaries=EO(P(e.StackSummaries.member),r)),e.NextToken!==void 0&&(t.NextToken=m(e.NextToken)),t},rv=(e,r)=>{let t={};return e.RegistrationTokenList===""?t.RegistrationTokenList=[]:e.RegistrationTokenList!==void 0&&e.RegistrationTokenList.member!==void 0&&(t.RegistrationTokenList=Iv(P(e.RegistrationTokenList.member),r)),e.NextToken!==void 0&&(t.NextToken=m(e.NextToken)),t},nv=(e,r)=>{let t={};return e.TypeSummaries===""?t.TypeSummaries=[]:e.TypeSummaries!==void 0&&e.TypeSummaries.member!==void 0&&(t.TypeSummaries=DO(P(e.TypeSummaries.member),r)),e.NextToken!==void 0&&(t.NextToken=m(e.NextToken)),t},sv=(e,r)=>{let t={};return e.TypeVersionSummaries===""?t.TypeVersionSummaries=[]:e.TypeVersionSummaries!==void 0&&e.TypeVersionSummaries.member!==void 0&&(t.TypeVersionSummaries=OO(P(e.TypeVersionSummaries.member),r)),e.NextToken!==void 0&&(t.NextToken=m(e.NextToken)),t},ov=(e,r)=>{let t={};return e.LogRoleArn!==void 0&&(t.LogRoleArn=m(e.LogRoleArn)),e.LogGroupName!==void 0&&(t.LogGroupName=m(e.LogGroupName)),t},iv=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>m(t)),I_=(e,r)=>{let t={};return e.Active!==void 0&&(t.Active=fe(e.Active)),t},vi=(e,r)=>{let t={};return e.TypeHierarchy!==void 0&&(t.TypeHierarchy=m(e.TypeHierarchy)),e.LogicalIdHierarchy!==void 0&&(t.LogicalIdHierarchy=m(e.LogicalIdHierarchy)),t},av=(e,r)=>{let t={};return e.Message!==void 0&&(t.Message=m(e.Message)),t},R_=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>m(t)),cv=(e,r)=>{let t={};return e.Message!==void 0&&(t.Message=m(e.Message)),t},dv=(e,r)=>{let t={};return e.Message!==void 0&&(t.Message=m(e.Message)),t},lv=(e,r)=>{let t={};return e.Message!==void 0&&(t.Message=m(e.Message)),t},mv=(e,r)=>{let t={};return e.Message!==void 0&&(t.Message=m(e.Message)),t},k_=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>m(t)),uv=(e,r)=>{let t={};return e.OutputKey!==void 0&&(t.OutputKey=m(e.OutputKey)),e.OutputValue!==void 0&&(t.OutputValue=m(e.OutputValue)),e.Description!==void 0&&(t.Description=m(e.Description)),e.ExportName!==void 0&&(t.ExportName=m(e.ExportName)),t},fv=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>uv(t,r)),pv=(e,r)=>{let t={};return e.ParameterKey!==void 0&&(t.ParameterKey=m(e.ParameterKey)),e.ParameterValue!==void 0&&(t.ParameterValue=m(e.ParameterValue)),e.UsePreviousValue!==void 0&&(t.UsePreviousValue=fe(e.UsePreviousValue)),e.ResolvedValue!==void 0&&(t.ResolvedValue=m(e.ResolvedValue)),t},hv=(e,r)=>{let t={};return e.AllowedValues===""?t.AllowedValues=[]:e.AllowedValues!==void 0&&e.AllowedValues.member!==void 0&&(t.AllowedValues=q0(P(e.AllowedValues.member),r)),t},yv=(e,r)=>{let t={};return e.ParameterKey!==void 0&&(t.ParameterKey=m(e.ParameterKey)),e.DefaultValue!==void 0&&(t.DefaultValue=m(e.DefaultValue)),e.ParameterType!==void 0&&(t.ParameterType=m(e.ParameterType)),e.NoEcho!==void 0&&(t.NoEcho=fe(e.NoEcho)),e.Description!==void 0&&(t.Description=m(e.Description)),e.ParameterConstraints!==void 0&&(t.ParameterConstraints=hv(e.ParameterConstraints,r)),t},Ev=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>yv(t,r)),oc=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>pv(t,r)),Sv=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>gv(t,r)),gv=(e,r)=>{let t={};return e.Key!==void 0&&(t.Key=m(e.Key)),e.Value!==void 0&&(t.Value=m(e.Value)),t},_v=(e,r)=>{let t={};return e.PropertyPath!==void 0&&(t.PropertyPath=m(e.PropertyPath)),e.ExpectedValue!==void 0&&(t.ExpectedValue=m(e.ExpectedValue)),e.ActualValue!==void 0&&(t.ActualValue=m(e.ActualValue)),e.DifferenceType!==void 0&&(t.DifferenceType=m(e.DifferenceType)),t},Cv=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>_v(t,r)),xv=(e,r)=>{let t={};return e.PublicTypeArn!==void 0&&(t.PublicTypeArn=m(e.PublicTypeArn)),t},wv=(e,r)=>({}),P_=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>m(t)),bv=(e,r)=>{let t={};return e.PublisherId!==void 0&&(t.PublisherId=m(e.PublisherId)),t},Tv=(e,r)=>{let t={};return e.RegistrationToken!==void 0&&(t.RegistrationToken=m(e.RegistrationToken)),t},Iv=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>m(t)),Rv=(e,r)=>{let t={};return e.TypeNameAlias!==void 0&&(t.TypeNameAlias=m(e.TypeNameAlias)),e.OriginalTypeName!==void 0&&(t.OriginalTypeName=m(e.OriginalTypeName)),e.PublisherId!==void 0&&(t.PublisherId=m(e.PublisherId)),e.SupportedMajorVersions===""?t.SupportedMajorVersions=[]:e.SupportedMajorVersions!==void 0&&e.SupportedMajorVersions.member!==void 0&&(t.SupportedMajorVersions=xO(P(e.SupportedMajorVersions.member),r)),t},kv=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Rv(t,r)),Pv=(e,r)=>{let t={};return e.Action!==void 0&&(t.Action=m(e.Action)),e.LogicalResourceId!==void 0&&(t.LogicalResourceId=m(e.LogicalResourceId)),e.PhysicalResourceId!==void 0&&(t.PhysicalResourceId=m(e.PhysicalResourceId)),e.ResourceType!==void 0&&(t.ResourceType=m(e.ResourceType)),e.Replacement!==void 0&&(t.Replacement=m(e.Replacement)),e.Scope===""?t.Scope=[]:e.Scope!==void 0&&e.Scope.member!==void 0&&(t.Scope=$v(P(e.Scope.member),r)),e.Details===""?t.Details=[]:e.Details!==void 0&&e.Details.member!==void 0&&(t.Details=Nv(P(e.Details.member),r)),e.ChangeSetId!==void 0&&(t.ChangeSetId=m(e.ChangeSetId)),e.ModuleInfo!==void 0&&(t.ModuleInfo=vi(e.ModuleInfo,r)),t},Av=(e,r)=>{let t={};return e.Target!==void 0&&(t.Target=Fv(e.Target,r)),e.Evaluation!==void 0&&(t.Evaluation=m(e.Evaluation)),e.ChangeSource!==void 0&&(t.ChangeSource=m(e.ChangeSource)),e.CausingEntity!==void 0&&(t.CausingEntity=m(e.CausingEntity)),t},Nv=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Av(t,r)),Dv=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>m(t)),vv=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Ov(t,r)),Ov=(e,r)=>{let t={};return e.ResourceType!==void 0&&(t.ResourceType=m(e.ResourceType)),e.LogicalResourceIds===""?t.LogicalResourceIds=[]:e.LogicalResourceIds!==void 0&&e.LogicalResourceIds.member!==void 0&&(t.LogicalResourceIds=iv(P(e.LogicalResourceIds.member),r)),e.ResourceIdentifiers===""?t.ResourceIdentifiers=[]:e.ResourceIdentifiers!==void 0&&e.ResourceIdentifiers.member!==void 0&&(t.ResourceIdentifiers=Dv(P(e.ResourceIdentifiers.member),r)),t},Fv=(e,r)=>{let t={};return e.Attribute!==void 0&&(t.Attribute=m(e.Attribute)),e.Name!==void 0&&(t.Name=m(e.Name)),e.RequiresRecreation!==void 0&&(t.RequiresRecreation=m(e.RequiresRecreation)),t},Lv=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>m(t)),A_=(e,r)=>{let t={};return e.RollbackTriggers===""?t.RollbackTriggers=[]:e.RollbackTriggers!==void 0&&e.RollbackTriggers.member!==void 0&&(t.RollbackTriggers=Bv(P(e.RollbackTriggers.member),r)),e.MonitoringTimeInMinutes!==void 0&&(t.MonitoringTimeInMinutes=ce(e.MonitoringTimeInMinutes)),t},Mv=(e,r)=>{let t={};return e.StackId!==void 0&&(t.StackId=m(e.StackId)),t},Uv=(e,r)=>{let t={};return e.Arn!==void 0&&(t.Arn=m(e.Arn)),e.Type!==void 0&&(t.Type=m(e.Type)),t},Bv=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Uv(t,r)),$v=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>m(t)),zv=(e,r)=>{let t={};return e.ConfigurationArn!==void 0&&(t.ConfigurationArn=m(e.ConfigurationArn)),t},qv=(e,r)=>({}),jv=(e,r)=>{let t={};return e.StackId!==void 0&&(t.StackId=m(e.StackId)),e.StackName!==void 0&&(t.StackName=m(e.StackName)),e.ChangeSetId!==void 0&&(t.ChangeSetId=m(e.ChangeSetId)),e.Description!==void 0&&(t.Description=m(e.Description)),e.Parameters===""?t.Parameters=[]:e.Parameters!==void 0&&e.Parameters.member!==void 0&&(t.Parameters=oc(P(e.Parameters.member),r)),e.CreationTime!==void 0&&(t.CreationTime=M(z(e.CreationTime))),e.DeletionTime!==void 0&&(t.DeletionTime=M(z(e.DeletionTime))),e.LastUpdatedTime!==void 0&&(t.LastUpdatedTime=M(z(e.LastUpdatedTime))),e.RollbackConfiguration!==void 0&&(t.RollbackConfiguration=A_(e.RollbackConfiguration,r)),e.StackStatus!==void 0&&(t.StackStatus=m(e.StackStatus)),e.StackStatusReason!==void 0&&(t.StackStatusReason=m(e.StackStatusReason)),e.DisableRollback!==void 0&&(t.DisableRollback=fe(e.DisableRollback)),e.NotificationARNs===""?t.NotificationARNs=[]:e.NotificationARNs!==void 0&&e.NotificationARNs.member!==void 0&&(t.NotificationARNs=R_(P(e.NotificationARNs.member),r)),e.TimeoutInMinutes!==void 0&&(t.TimeoutInMinutes=ce(e.TimeoutInMinutes)),e.Capabilities===""?t.Capabilities=[]:e.Capabilities!==void 0&&e.Capabilities.member!==void 0&&(t.Capabilities=Di(P(e.Capabilities.member),r)),e.Outputs===""?t.Outputs=[]:e.Outputs!==void 0&&e.Outputs.member!==void 0&&(t.Outputs=fv(P(e.Outputs.member),r)),e.RoleARN!==void 0&&(t.RoleARN=m(e.RoleARN)),e.Tags===""?t.Tags=[]:e.Tags!==void 0&&e.Tags.member!==void 0&&(t.Tags=Gl(P(e.Tags.member),r)),e.EnableTerminationProtection!==void 0&&(t.EnableTerminationProtection=fe(e.EnableTerminationProtection)),e.ParentId!==void 0&&(t.ParentId=m(e.ParentId)),e.RootId!==void 0&&(t.RootId=m(e.RootId)),e.DriftInformation!==void 0&&(t.DriftInformation=Vv(e.DriftInformation,r)),t},Vv=(e,r)=>{let t={};return e.StackDriftStatus!==void 0&&(t.StackDriftStatus=m(e.StackDriftStatus)),e.LastCheckTimestamp!==void 0&&(t.LastCheckTimestamp=M(z(e.LastCheckTimestamp))),t},Hv=(e,r)=>{let t={};return e.StackDriftStatus!==void 0&&(t.StackDriftStatus=m(e.StackDriftStatus)),e.LastCheckTimestamp!==void 0&&(t.LastCheckTimestamp=M(z(e.LastCheckTimestamp))),t},Gv=(e,r)=>{let t={};return e.StackId!==void 0&&(t.StackId=m(e.StackId)),e.EventId!==void 0&&(t.EventId=m(e.EventId)),e.StackName!==void 0&&(t.StackName=m(e.StackName)),e.LogicalResourceId!==void 0&&(t.LogicalResourceId=m(e.LogicalResourceId)),e.PhysicalResourceId!==void 0&&(t.PhysicalResourceId=m(e.PhysicalResourceId)),e.ResourceType!==void 0&&(t.ResourceType=m(e.ResourceType)),e.Timestamp!==void 0&&(t.Timestamp=M(z(e.Timestamp))),e.ResourceStatus!==void 0&&(t.ResourceStatus=m(e.ResourceStatus)),e.ResourceStatusReason!==void 0&&(t.ResourceStatusReason=m(e.ResourceStatusReason)),e.ResourceProperties!==void 0&&(t.ResourceProperties=m(e.ResourceProperties)),e.ClientRequestToken!==void 0&&(t.ClientRequestToken=m(e.ClientRequestToken)),e.HookType!==void 0&&(t.HookType=m(e.HookType)),e.HookStatus!==void 0&&(t.HookStatus=m(e.HookStatus)),e.HookStatusReason!==void 0&&(t.HookStatusReason=m(e.HookStatusReason)),e.HookInvocationPoint!==void 0&&(t.HookInvocationPoint=m(e.HookInvocationPoint)),e.HookFailureMode!==void 0&&(t.HookFailureMode=m(e.HookFailureMode)),t},Wv=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Gv(t,r)),Kv=(e,r)=>{let t={};return e.StackSetId!==void 0&&(t.StackSetId=m(e.StackSetId)),e.Region!==void 0&&(t.Region=m(e.Region)),e.Account!==void 0&&(t.Account=m(e.Account)),e.StackId!==void 0&&(t.StackId=m(e.StackId)),e.ParameterOverrides===""?t.ParameterOverrides=[]:e.ParameterOverrides!==void 0&&e.ParameterOverrides.member!==void 0&&(t.ParameterOverrides=oc(P(e.ParameterOverrides.member),r)),e.Status!==void 0&&(t.Status=m(e.Status)),e.StackInstanceStatus!==void 0&&(t.StackInstanceStatus=N_(e.StackInstanceStatus,r)),e.StatusReason!==void 0&&(t.StatusReason=m(e.StatusReason)),e.OrganizationalUnitId!==void 0&&(t.OrganizationalUnitId=m(e.OrganizationalUnitId)),e.DriftStatus!==void 0&&(t.DriftStatus=m(e.DriftStatus)),e.LastDriftCheckTimestamp!==void 0&&(t.LastDriftCheckTimestamp=M(z(e.LastDriftCheckTimestamp))),e.LastOperationId!==void 0&&(t.LastOperationId=m(e.LastOperationId)),t},N_=(e,r)=>{let t={};return e.DetailedStatus!==void 0&&(t.DetailedStatus=m(e.DetailedStatus)),t},Yv=(e,r)=>{let t={};return e.Message!==void 0&&(t.Message=m(e.Message)),t},Xv=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Qv(t,r)),Qv=(e,r)=>{let t={};return e.StackSetId!==void 0&&(t.StackSetId=m(e.StackSetId)),e.Region!==void 0&&(t.Region=m(e.Region)),e.Account!==void 0&&(t.Account=m(e.Account)),e.StackId!==void 0&&(t.StackId=m(e.StackId)),e.Status!==void 0&&(t.Status=m(e.Status)),e.StatusReason!==void 0&&(t.StatusReason=m(e.StatusReason)),e.StackInstanceStatus!==void 0&&(t.StackInstanceStatus=N_(e.StackInstanceStatus,r)),e.OrganizationalUnitId!==void 0&&(t.OrganizationalUnitId=m(e.OrganizationalUnitId)),e.DriftStatus!==void 0&&(t.DriftStatus=m(e.DriftStatus)),e.LastDriftCheckTimestamp!==void 0&&(t.LastDriftCheckTimestamp=M(z(e.LastDriftCheckTimestamp))),e.LastOperationId!==void 0&&(t.LastOperationId=m(e.LastOperationId)),t},Jv=(e,r)=>{let t={};return e.Message!==void 0&&(t.Message=m(e.Message)),t},Zv=(e,r)=>{let t={};return e.StackName!==void 0&&(t.StackName=m(e.StackName)),e.StackId!==void 0&&(t.StackId=m(e.StackId)),e.LogicalResourceId!==void 0&&(t.LogicalResourceId=m(e.LogicalResourceId)),e.PhysicalResourceId!==void 0&&(t.PhysicalResourceId=m(e.PhysicalResourceId)),e.ResourceType!==void 0&&(t.ResourceType=m(e.ResourceType)),e.Timestamp!==void 0&&(t.Timestamp=M(z(e.Timestamp))),e.ResourceStatus!==void 0&&(t.ResourceStatus=m(e.ResourceStatus)),e.ResourceStatusReason!==void 0&&(t.ResourceStatusReason=m(e.ResourceStatusReason)),e.Description!==void 0&&(t.Description=m(e.Description)),e.DriftInformation!==void 0&&(t.DriftInformation=v_(e.DriftInformation,r)),e.ModuleInfo!==void 0&&(t.ModuleInfo=vi(e.ModuleInfo,r)),t},eO=(e,r)=>{let t={};return e.StackName!==void 0&&(t.StackName=m(e.StackName)),e.StackId!==void 0&&(t.StackId=m(e.StackId)),e.LogicalResourceId!==void 0&&(t.LogicalResourceId=m(e.LogicalResourceId)),e.PhysicalResourceId!==void 0&&(t.PhysicalResourceId=m(e.PhysicalResourceId)),e.ResourceType!==void 0&&(t.ResourceType=m(e.ResourceType)),e.LastUpdatedTimestamp!==void 0&&(t.LastUpdatedTimestamp=M(z(e.LastUpdatedTimestamp))),e.ResourceStatus!==void 0&&(t.ResourceStatus=m(e.ResourceStatus)),e.ResourceStatusReason!==void 0&&(t.ResourceStatusReason=m(e.ResourceStatusReason)),e.Description!==void 0&&(t.Description=m(e.Description)),e.Metadata!==void 0&&(t.Metadata=m(e.Metadata)),e.DriftInformation!==void 0&&(t.DriftInformation=v_(e.DriftInformation,r)),e.ModuleInfo!==void 0&&(t.ModuleInfo=vi(e.ModuleInfo,r)),t},D_=(e,r)=>{let t={};return e.StackId!==void 0&&(t.StackId=m(e.StackId)),e.LogicalResourceId!==void 0&&(t.LogicalResourceId=m(e.LogicalResourceId)),e.PhysicalResourceId!==void 0&&(t.PhysicalResourceId=m(e.PhysicalResourceId)),e.PhysicalResourceIdContext===""?t.PhysicalResourceIdContext=[]:e.PhysicalResourceIdContext!==void 0&&e.PhysicalResourceIdContext.member!==void 0&&(t.PhysicalResourceIdContext=Sv(P(e.PhysicalResourceIdContext.member),r)),e.ResourceType!==void 0&&(t.ResourceType=m(e.ResourceType)),e.ExpectedProperties!==void 0&&(t.ExpectedProperties=m(e.ExpectedProperties)),e.ActualProperties!==void 0&&(t.ActualProperties=m(e.ActualProperties)),e.PropertyDifferences===""?t.PropertyDifferences=[]:e.PropertyDifferences!==void 0&&e.PropertyDifferences.member!==void 0&&(t.PropertyDifferences=Cv(P(e.PropertyDifferences.member),r)),e.StackResourceDriftStatus!==void 0&&(t.StackResourceDriftStatus=m(e.StackResourceDriftStatus)),e.Timestamp!==void 0&&(t.Timestamp=M(z(e.Timestamp))),e.ModuleInfo!==void 0&&(t.ModuleInfo=vi(e.ModuleInfo,r)),t},v_=(e,r)=>{let t={};return e.StackResourceDriftStatus!==void 0&&(t.StackResourceDriftStatus=m(e.StackResourceDriftStatus)),e.LastCheckTimestamp!==void 0&&(t.LastCheckTimestamp=M(z(e.LastCheckTimestamp))),t},tO=(e,r)=>{let t={};return e.StackResourceDriftStatus!==void 0&&(t.StackResourceDriftStatus=m(e.StackResourceDriftStatus)),e.LastCheckTimestamp!==void 0&&(t.LastCheckTimestamp=M(z(e.LastCheckTimestamp))),t},rO=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>D_(t,r)),nO=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Zv(t,r)),sO=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>oO(t,r)),oO=(e,r)=>{let t={};return e.LogicalResourceId!==void 0&&(t.LogicalResourceId=m(e.LogicalResourceId)),e.PhysicalResourceId!==void 0&&(t.PhysicalResourceId=m(e.PhysicalResourceId)),e.ResourceType!==void 0&&(t.ResourceType=m(e.ResourceType)),e.LastUpdatedTimestamp!==void 0&&(t.LastUpdatedTimestamp=M(z(e.LastUpdatedTimestamp))),e.ResourceStatus!==void 0&&(t.ResourceStatus=m(e.ResourceStatus)),e.ResourceStatusReason!==void 0&&(t.ResourceStatusReason=m(e.ResourceStatusReason)),e.DriftInformation!==void 0&&(t.DriftInformation=tO(e.DriftInformation,r)),e.ModuleInfo!==void 0&&(t.ModuleInfo=vi(e.ModuleInfo,r)),t},iO=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>jv(t,r)),aO=(e,r)=>{let t={};return e.StackSetName!==void 0&&(t.StackSetName=m(e.StackSetName)),e.StackSetId!==void 0&&(t.StackSetId=m(e.StackSetId)),e.Description!==void 0&&(t.Description=m(e.Description)),e.Status!==void 0&&(t.Status=m(e.Status)),e.TemplateBody!==void 0&&(t.TemplateBody=m(e.TemplateBody)),e.Parameters===""?t.Parameters=[]:e.Parameters!==void 0&&e.Parameters.member!==void 0&&(t.Parameters=oc(P(e.Parameters.member),r)),e.Capabilities===""?t.Capabilities=[]:e.Capabilities!==void 0&&e.Capabilities.member!==void 0&&(t.Capabilities=Di(P(e.Capabilities.member),r)),e.Tags===""?t.Tags=[]:e.Tags!==void 0&&e.Tags.member!==void 0&&(t.Tags=Gl(P(e.Tags.member),r)),e.StackSetARN!==void 0&&(t.StackSetARN=m(e.StackSetARN)),e.AdministrationRoleARN!==void 0&&(t.AdministrationRoleARN=m(e.AdministrationRoleARN)),e.ExecutionRoleName!==void 0&&(t.ExecutionRoleName=m(e.ExecutionRoleName)),e.StackSetDriftDetectionDetails!==void 0&&(t.StackSetDriftDetectionDetails=O_(e.StackSetDriftDetectionDetails,r)),e.AutoDeployment!==void 0&&(t.AutoDeployment=T_(e.AutoDeployment,r)),e.PermissionModel!==void 0&&(t.PermissionModel=m(e.PermissionModel)),e.OrganizationalUnitIds===""?t.OrganizationalUnitIds=[]:e.OrganizationalUnitIds!==void 0&&e.OrganizationalUnitIds.member!==void 0&&(t.OrganizationalUnitIds=k_(P(e.OrganizationalUnitIds.member),r)),e.ManagedExecution!==void 0&&(t.ManagedExecution=I_(e.ManagedExecution,r)),e.Regions===""?t.Regions=[]:e.Regions!==void 0&&e.Regions.member!==void 0&&(t.Regions=P_(P(e.Regions.member),r)),t},O_=(e,r)=>{let t={};return e.DriftStatus!==void 0&&(t.DriftStatus=m(e.DriftStatus)),e.DriftDetectionStatus!==void 0&&(t.DriftDetectionStatus=m(e.DriftDetectionStatus)),e.LastDriftCheckTimestamp!==void 0&&(t.LastDriftCheckTimestamp=M(z(e.LastDriftCheckTimestamp))),e.TotalStackInstancesCount!==void 0&&(t.TotalStackInstancesCount=ce(e.TotalStackInstancesCount)),e.DriftedStackInstancesCount!==void 0&&(t.DriftedStackInstancesCount=ce(e.DriftedStackInstancesCount)),e.InSyncStackInstancesCount!==void 0&&(t.InSyncStackInstancesCount=ce(e.InSyncStackInstancesCount)),e.InProgressStackInstancesCount!==void 0&&(t.InProgressStackInstancesCount=ce(e.InProgressStackInstancesCount)),e.FailedStackInstancesCount!==void 0&&(t.FailedStackInstancesCount=ce(e.FailedStackInstancesCount)),t},cO=(e,r)=>{let t={};return e.Message!==void 0&&(t.Message=m(e.Message)),t},dO=(e,r)=>{let t={};return e.Message!==void 0&&(t.Message=m(e.Message)),t},lO=(e,r)=>{let t={};return e.OperationId!==void 0&&(t.OperationId=m(e.OperationId)),e.StackSetId!==void 0&&(t.StackSetId=m(e.StackSetId)),e.Action!==void 0&&(t.Action=m(e.Action)),e.Status!==void 0&&(t.Status=m(e.Status)),e.OperationPreferences!==void 0&&(t.OperationPreferences=F_(e.OperationPreferences,r)),e.RetainStacks!==void 0&&(t.RetainStacks=fe(e.RetainStacks)),e.AdministrationRoleARN!==void 0&&(t.AdministrationRoleARN=m(e.AdministrationRoleARN)),e.ExecutionRoleName!==void 0&&(t.ExecutionRoleName=m(e.ExecutionRoleName)),e.CreationTimestamp!==void 0&&(t.CreationTimestamp=M(z(e.CreationTimestamp))),e.EndTimestamp!==void 0&&(t.EndTimestamp=M(z(e.EndTimestamp))),e.DeploymentTargets!==void 0&&(t.DeploymentTargets=fD(e.DeploymentTargets,r)),e.StackSetDriftDetectionDetails!==void 0&&(t.StackSetDriftDetectionDetails=O_(e.StackSetDriftDetectionDetails,r)),e.StatusReason!==void 0&&(t.StatusReason=m(e.StatusReason)),e.StatusDetails!==void 0&&(t.StatusDetails=L_(e.StatusDetails,r)),t},F_=(e,r)=>{let t={};return e.RegionConcurrencyType!==void 0&&(t.RegionConcurrencyType=m(e.RegionConcurrencyType)),e.RegionOrder===""?t.RegionOrder=[]:e.RegionOrder!==void 0&&e.RegionOrder.member!==void 0&&(t.RegionOrder=P_(P(e.RegionOrder.member),r)),e.FailureToleranceCount!==void 0&&(t.FailureToleranceCount=ce(e.FailureToleranceCount)),e.FailureTolerancePercentage!==void 0&&(t.FailureTolerancePercentage=ce(e.FailureTolerancePercentage)),e.MaxConcurrentCount!==void 0&&(t.MaxConcurrentCount=ce(e.MaxConcurrentCount)),e.MaxConcurrentPercentage!==void 0&&(t.MaxConcurrentPercentage=ce(e.MaxConcurrentPercentage)),t},mO=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>uO(t,r)),uO=(e,r)=>{let t={};return e.Account!==void 0&&(t.Account=m(e.Account)),e.Region!==void 0&&(t.Region=m(e.Region)),e.Status!==void 0&&(t.Status=m(e.Status)),e.StatusReason!==void 0&&(t.StatusReason=m(e.StatusReason)),e.AccountGateResult!==void 0&&(t.AccountGateResult=M0(e.AccountGateResult,r)),e.OrganizationalUnitId!==void 0&&(t.OrganizationalUnitId=m(e.OrganizationalUnitId)),t},L_=(e,r)=>{let t={};return e.FailedStackInstancesCount!==void 0&&(t.FailedStackInstancesCount=ce(e.FailedStackInstancesCount)),t},fO=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>pO(t,r)),pO=(e,r)=>{let t={};return e.OperationId!==void 0&&(t.OperationId=m(e.OperationId)),e.Action!==void 0&&(t.Action=m(e.Action)),e.Status!==void 0&&(t.Status=m(e.Status)),e.CreationTimestamp!==void 0&&(t.CreationTimestamp=M(z(e.CreationTimestamp))),e.EndTimestamp!==void 0&&(t.EndTimestamp=M(z(e.EndTimestamp))),e.StatusReason!==void 0&&(t.StatusReason=m(e.StatusReason)),e.StatusDetails!==void 0&&(t.StatusDetails=L_(e.StatusDetails,r)),e.OperationPreferences!==void 0&&(t.OperationPreferences=F_(e.OperationPreferences,r)),t},hO=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>yO(t,r)),yO=(e,r)=>{let t={};return e.StackSetName!==void 0&&(t.StackSetName=m(e.StackSetName)),e.StackSetId!==void 0&&(t.StackSetId=m(e.StackSetId)),e.Description!==void 0&&(t.Description=m(e.Description)),e.Status!==void 0&&(t.Status=m(e.Status)),e.AutoDeployment!==void 0&&(t.AutoDeployment=T_(e.AutoDeployment,r)),e.PermissionModel!==void 0&&(t.PermissionModel=m(e.PermissionModel)),e.DriftStatus!==void 0&&(t.DriftStatus=m(e.DriftStatus)),e.LastDriftCheckTimestamp!==void 0&&(t.LastDriftCheckTimestamp=M(z(e.LastDriftCheckTimestamp))),e.ManagedExecution!==void 0&&(t.ManagedExecution=I_(e.ManagedExecution,r)),t},EO=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>SO(t,r)),SO=(e,r)=>{let t={};return e.StackId!==void 0&&(t.StackId=m(e.StackId)),e.StackName!==void 0&&(t.StackName=m(e.StackName)),e.TemplateDescription!==void 0&&(t.TemplateDescription=m(e.TemplateDescription)),e.CreationTime!==void 0&&(t.CreationTime=M(z(e.CreationTime))),e.LastUpdatedTime!==void 0&&(t.LastUpdatedTime=M(z(e.LastUpdatedTime))),e.DeletionTime!==void 0&&(t.DeletionTime=M(z(e.DeletionTime))),e.StackStatus!==void 0&&(t.StackStatus=m(e.StackStatus)),e.StackStatusReason!==void 0&&(t.StackStatusReason=m(e.StackStatusReason)),e.ParentId!==void 0&&(t.ParentId=m(e.ParentId)),e.RootId!==void 0&&(t.RootId=m(e.RootId)),e.DriftInformation!==void 0&&(t.DriftInformation=Hv(e.DriftInformation,r)),t},gO=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>m(t)),_O=(e,r)=>{let t={};return e.Message!==void 0&&(t.Message=m(e.Message)),t},CO=(e,r)=>({}),xO=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>ce(t)),wO=(e,r)=>{let t={};return e.Key!==void 0&&(t.Key=m(e.Key)),e.Value!==void 0&&(t.Value=m(e.Value)),t},Gl=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>wO(t,r)),bO=(e,r)=>{let t={};return e.ParameterKey!==void 0&&(t.ParameterKey=m(e.ParameterKey)),e.DefaultValue!==void 0&&(t.DefaultValue=m(e.DefaultValue)),e.NoEcho!==void 0&&(t.NoEcho=fe(e.NoEcho)),e.Description!==void 0&&(t.Description=m(e.Description)),t},TO=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>bO(t,r)),IO=(e,r)=>{let t={};return e.TypeVersionArn!==void 0&&(t.TypeVersionArn=m(e.TypeVersionArn)),t},RO=(e,r)=>{let t={};return e.Message!==void 0&&(t.Message=m(e.Message)),t},M_=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>m(t)),kO=(e,r)=>{let t={};return e.Arn!==void 0&&(t.Arn=m(e.Arn)),e.Alias!==void 0&&(t.Alias=m(e.Alias)),e.Configuration!==void 0&&(t.Configuration=m(e.Configuration)),e.LastUpdated!==void 0&&(t.LastUpdated=M(z(e.LastUpdated))),e.TypeArn!==void 0&&(t.TypeArn=m(e.TypeArn)),e.TypeName!==void 0&&(t.TypeName=m(e.TypeName)),e.IsDefaultConfiguration!==void 0&&(t.IsDefaultConfiguration=fe(e.IsDefaultConfiguration)),t},PO=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>kO(t,r)),U_=(e,r)=>{let t={};return e.TypeArn!==void 0&&(t.TypeArn=m(e.TypeArn)),e.TypeConfigurationAlias!==void 0&&(t.TypeConfigurationAlias=m(e.TypeConfigurationAlias)),e.TypeConfigurationArn!==void 0&&(t.TypeConfigurationArn=m(e.TypeConfigurationArn)),e.Type!==void 0&&(t.Type=m(e.Type)),e.TypeName!==void 0&&(t.TypeName=m(e.TypeName)),t},AO=(e,r)=>{let t={};return e.Message!==void 0&&(t.Message=m(e.Message)),t},NO=(e,r)=>{let t={};return e.Message!==void 0&&(t.Message=m(e.Message)),t},DO=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>vO(t,r)),vO=(e,r)=>{let t={};return e.Type!==void 0&&(t.Type=m(e.Type)),e.TypeName!==void 0&&(t.TypeName=m(e.TypeName)),e.DefaultVersionId!==void 0&&(t.DefaultVersionId=m(e.DefaultVersionId)),e.TypeArn!==void 0&&(t.TypeArn=m(e.TypeArn)),e.LastUpdated!==void 0&&(t.LastUpdated=M(z(e.LastUpdated))),e.Description!==void 0&&(t.Description=m(e.Description)),e.PublisherId!==void 0&&(t.PublisherId=m(e.PublisherId)),e.OriginalTypeName!==void 0&&(t.OriginalTypeName=m(e.OriginalTypeName)),e.PublicVersionNumber!==void 0&&(t.PublicVersionNumber=m(e.PublicVersionNumber)),e.LatestPublicVersion!==void 0&&(t.LatestPublicVersion=m(e.LatestPublicVersion)),e.PublisherIdentity!==void 0&&(t.PublisherIdentity=m(e.PublisherIdentity)),e.PublisherName!==void 0&&(t.PublisherName=m(e.PublisherName)),e.IsActivated!==void 0&&(t.IsActivated=fe(e.IsActivated)),t},OO=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>FO(t,r)),FO=(e,r)=>{let t={};return e.Type!==void 0&&(t.Type=m(e.Type)),e.TypeName!==void 0&&(t.TypeName=m(e.TypeName)),e.VersionId!==void 0&&(t.VersionId=m(e.VersionId)),e.IsDefaultVersion!==void 0&&(t.IsDefaultVersion=fe(e.IsDefaultVersion)),e.Arn!==void 0&&(t.Arn=m(e.Arn)),e.TimeCreated!==void 0&&(t.TimeCreated=M(z(e.TimeCreated))),e.Description!==void 0&&(t.Description=m(e.Description)),e.PublicVersionNumber!==void 0&&(t.PublicVersionNumber=m(e.PublicVersionNumber)),t},LO=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>U_(t,r)),MO=(e,r)=>{let t={};return e.OperationId!==void 0&&(t.OperationId=m(e.OperationId)),t},UO=(e,r)=>{let t={};return e.StackId!==void 0&&(t.StackId=m(e.StackId)),t},BO=(e,r)=>{let t={};return e.OperationId!==void 0&&(t.OperationId=m(e.OperationId)),t},$O=(e,r)=>{let t={};return e.StackId!==void 0&&(t.StackId=m(e.StackId)),t},zO=(e,r)=>{let t={};return e.Parameters===""?t.Parameters=[]:e.Parameters!==void 0&&e.Parameters.member!==void 0&&(t.Parameters=TO(P(e.Parameters.member),r)),e.Description!==void 0&&(t.Description=m(e.Description)),e.Capabilities===""?t.Capabilities=[]:e.Capabilities!==void 0&&e.Capabilities.member!==void 0&&(t.Capabilities=Di(P(e.Capabilities.member),r)),e.CapabilitiesReason!==void 0&&(t.CapabilitiesReason=m(e.CapabilitiesReason)),e.DeclaredTransforms===""?t.DeclaredTransforms=[]:e.DeclaredTransforms!==void 0&&e.DeclaredTransforms.member!==void 0&&(t.DeclaredTransforms=M_(P(e.DeclaredTransforms.member),r)),t},g=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Oi=(e=new Uint8Array,r)=>e instanceof Uint8Array?Promise.resolve(e):r.streamCollector(e)||Promise.resolve(new Uint8Array),qO=(e,r)=>Oi(e,r).then(t=>r.utf8Encoder(t)),x=Sr(H),w=async(e,r,t,n,s)=>{let{hostname:o,protocol:i="https",port:a,path:d}=await e.endpoint(),l={protocol:i,hostname:o,port:a,method:"POST",path:d.endsWith("/")?d.slice(0,-1)+t:d+t,headers:r};return n!==void 0&&(l.hostname=n),s!==void 0&&(l.body=s),new Ge(l)},b={"content-type":"application/x-www-form-urlencoded"},k=(e,r)=>qO(e,r).then(t=>{if(t.length){let n=new KE.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(d,l)=>l.trim()===""&&l.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let s=n.parse(t),o="#text",i=Object.keys(s)[0],a=s[i];return a[o]&&(a[i]=a[o],delete a[o]),ti(a)}return{}}),T=async(e,r)=>{let t=await k(e,r);return t.Error&&(t.Error.message=t.Error.message??t.Error.Message),t},I=e=>Object.entries(e).map(([r,t])=>Ft(r)+"="+Ft(t)).join("&"),R=(e,r)=>{var t;if(((t=r.Error)==null?void 0:t.Code)!==void 0)return r.Error.Code;if(e.statusCode==404)return"NotFound"};var Ws=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,Ws.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"ActivateTypeCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return YE(r,t)}deserialize(r,t){return ag(r,t)}};var Ks=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,Ks.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"BatchDescribeTypeConfigurationsCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return XE(r,t)}deserialize(r,t){return cg(r,t)}};var Ys=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,Ys.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"CancelUpdateStackCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return QE(r,t)}deserialize(r,t){return dg(r,t)}};var Xs=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,Xs.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"ContinueUpdateRollbackCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return JE(r,t)}deserialize(r,t){return lg(r,t)}};var Qs=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,Qs.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"CreateChangeSetCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return ZE(r,t)}deserialize(r,t){return mg(r,t)}};var Js=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,Js.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"CreateStackCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return eS(r,t)}deserialize(r,t){return ug(r,t)}};var Zs=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,Zs.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"CreateStackInstancesCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return tS(r,t)}deserialize(r,t){return fg(r,t)}};var eo=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,eo.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"CreateStackSetCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return rS(r,t)}deserialize(r,t){return pg(r,t)}};var to=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,to.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"DeactivateTypeCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return nS(r,t)}deserialize(r,t){return hg(r,t)}};var ro=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,ro.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"DeleteChangeSetCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return sS(r,t)}deserialize(r,t){return yg(r,t)}};var no=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,no.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"DeleteStackCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return oS(r,t)}deserialize(r,t){return Eg(r,t)}};var so=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,so.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"DeleteStackInstancesCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return iS(r,t)}deserialize(r,t){return Sg(r,t)}};var oo=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,oo.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"DeleteStackSetCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return aS(r,t)}deserialize(r,t){return gg(r,t)}};var io=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,io.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"DeregisterTypeCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return cS(r,t)}deserialize(r,t){return _g(r,t)}};var zr=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,zr.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"DescribeAccountLimitsCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return dS(r,t)}deserialize(r,t){return Cg(r,t)}};var qr=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,qr.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"DescribeChangeSetCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return lS(r,t)}deserialize(r,t){return xg(r,t)}};var ao=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,ao.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"DescribeChangeSetHooksCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return mS(r,t)}deserialize(r,t){return wg(r,t)}};var co=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,co.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"DescribePublisherCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return uS(r,t)}deserialize(r,t){return bg(r,t)}};var lo=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,lo.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"DescribeStackDriftDetectionStatusCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return fS(r,t)}deserialize(r,t){return Tg(r,t)}};var jr=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,jr.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"DescribeStackEventsCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return pS(r,t)}deserialize(r,t){return Ig(r,t)}};var mo=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,mo.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"DescribeStackInstanceCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return hS(r,t)}deserialize(r,t){return Rg(r,t)}};var uo=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,uo.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"DescribeStackResourceCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return yS(r,t)}deserialize(r,t){return kg(r,t)}};var Vr=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,Vr.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"DescribeStackResourceDriftsCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return ES(r,t)}deserialize(r,t){return Pg(r,t)}};var fo=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,fo.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"DescribeStackResourcesCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return SS(r,t)}deserialize(r,t){return Ag(r,t)}};var ue=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,ue.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"DescribeStacksCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return gS(r,t)}deserialize(r,t){return Ng(r,t)}};var po=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,po.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"DescribeStackSetCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return _S(r,t)}deserialize(r,t){return Dg(r,t)}};var ho=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,ho.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"DescribeStackSetOperationCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return CS(r,t)}deserialize(r,t){return vg(r,t)}};var yo=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,yo.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"DescribeTypeCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return xS(r,t)}deserialize(r,t){return Og(r,t)}};var Hr=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,Hr.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"DescribeTypeRegistrationCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return wS(r,t)}deserialize(r,t){return Fg(r,t)}};var Eo=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,Eo.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"DetectStackDriftCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return bS(r,t)}deserialize(r,t){return Lg(r,t)}};var So=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,So.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"DetectStackResourceDriftCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return TS(r,t)}deserialize(r,t){return Mg(r,t)}};var go=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,go.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"DetectStackSetDriftCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return IS(r,t)}deserialize(r,t){return Ug(r,t)}};var _o=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,_o.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"EstimateTemplateCostCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return RS(r,t)}deserialize(r,t){return Bg(r,t)}};var Co=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,Co.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"ExecuteChangeSetCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return kS(r,t)}deserialize(r,t){return $g(r,t)}};var xo=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,xo.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"GetStackPolicyCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return PS(r,t)}deserialize(r,t){return zg(r,t)}};var wo=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,wo.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"GetTemplateCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return AS(r,t)}deserialize(r,t){return qg(r,t)}};var bo=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,bo.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"GetTemplateSummaryCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return NS(r,t)}deserialize(r,t){return jg(r,t)}};var To=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,To.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"ImportStacksToStackSetCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return DS(r,t)}deserialize(r,t){return Vg(r,t)}};var Gr=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,Gr.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"ListChangeSetsCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return vS(r,t)}deserialize(r,t){return Hg(r,t)}};var Wr=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,Wr.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"ListExportsCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return OS(r,t)}deserialize(r,t){return Gg(r,t)}};var Kr=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,Kr.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"ListImportsCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return FS(r,t)}deserialize(r,t){return Wg(r,t)}};var Yr=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,Yr.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"ListStackInstancesCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return LS(r,t)}deserialize(r,t){return Kg(r,t)}};var Xr=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,Xr.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"ListStackResourcesCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return MS(r,t)}deserialize(r,t){return Yg(r,t)}};var Qr=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,Qr.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"ListStacksCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return US(r,t)}deserialize(r,t){return Xg(r,t)}};var Jr=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,Jr.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"ListStackSetOperationResultsCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return BS(r,t)}deserialize(r,t){return Qg(r,t)}};var Zr=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,Zr.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"ListStackSetOperationsCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return $S(r,t)}deserialize(r,t){return Jg(r,t)}};var en=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,en.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"ListStackSetsCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return zS(r,t)}deserialize(r,t){return Zg(r,t)}};var tn=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,tn.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"ListTypeRegistrationsCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return qS(r,t)}deserialize(r,t){return e_(r,t)}};var rn=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,rn.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"ListTypesCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return jS(r,t)}deserialize(r,t){return t_(r,t)}};var nn=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,nn.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"ListTypeVersionsCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return VS(r,t)}deserialize(r,t){return r_(r,t)}};var Io=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,Io.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"PublishTypeCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return HS(r,t)}deserialize(r,t){return n_(r,t)}};var Ro=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,Ro.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"RecordHandlerProgressCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return GS(r,t)}deserialize(r,t){return s_(r,t)}};var ko=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,ko.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"RegisterPublisherCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return WS(r,t)}deserialize(r,t){return o_(r,t)}};var Po=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,Po.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"RegisterTypeCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return KS(r,t)}deserialize(r,t){return i_(r,t)}};var Ao=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,Ao.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"RollbackStackCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return YS(r,t)}deserialize(r,t){return a_(r,t)}};var No=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,No.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"SetStackPolicyCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return XS(r,t)}deserialize(r,t){return c_(r,t)}};var Do=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,Do.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"SetTypeConfigurationCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return QS(r,t)}deserialize(r,t){return d_(r,t)}};var vo=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,vo.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"SetTypeDefaultVersionCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return JS(r,t)}deserialize(r,t){return l_(r,t)}};var Oo=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,Oo.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"SignalResourceCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return ZS(r,t)}deserialize(r,t){return m_(r,t)}};var Fo=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,Fo.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"StopStackSetOperationCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return eg(r,t)}deserialize(r,t){return u_(r,t)}};var Lo=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,Lo.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"TestTypeCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return tg(r,t)}deserialize(r,t){return f_(r,t)}};var Mo=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,Mo.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"UpdateStackCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return rg(r,t)}deserialize(r,t){return p_(r,t)}};var Uo=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,Uo.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"UpdateStackInstancesCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return ng(r,t)}deserialize(r,t){return h_(r,t)}};var Bo=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,Bo.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"UpdateStackSetCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return sg(r,t)}deserialize(r,t){return y_(r,t)}};var $o=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,$o.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"UpdateTerminationProtectionCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return og(r,t)}deserialize(r,t){return E_(r,t)}};var zo=class extends p{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(r){super(),this.input=r}resolveMiddleware(r,t,n){this.middlewareStack.use(h(t,this.serialize,this.deserialize)),this.middlewareStack.use(y(t,zo.getEndpointParameterInstructions()));let s=r.concat(this.middlewareStack),{logger:o}=t,d={logger:o,clientName:"CloudFormationClient",commandName:"ValidateTemplateCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:l}=t;return s.resolve(c=>l.handle(c.request,n||{}),d)}serialize(r,t){return ig(r,t)}deserialize(r,t){return S_(r,t)}};var jO={ActivateTypeCommand:Ws,BatchDescribeTypeConfigurationsCommand:Ks,CancelUpdateStackCommand:Ys,ContinueUpdateRollbackCommand:Xs,CreateChangeSetCommand:Qs,CreateStackCommand:Js,CreateStackInstancesCommand:Zs,CreateStackSetCommand:eo,DeactivateTypeCommand:to,DeleteChangeSetCommand:ro,DeleteStackCommand:no,DeleteStackInstancesCommand:so,DeleteStackSetCommand:oo,DeregisterTypeCommand:io,DescribeAccountLimitsCommand:zr,DescribeChangeSetCommand:qr,DescribeChangeSetHooksCommand:ao,DescribePublisherCommand:co,DescribeStackDriftDetectionStatusCommand:lo,DescribeStackEventsCommand:jr,DescribeStackInstanceCommand:mo,DescribeStackResourceCommand:uo,DescribeStackResourceDriftsCommand:Vr,DescribeStackResourcesCommand:fo,DescribeStacksCommand:ue,DescribeStackSetCommand:po,DescribeStackSetOperationCommand:ho,DescribeTypeCommand:yo,DescribeTypeRegistrationCommand:Hr,DetectStackDriftCommand:Eo,DetectStackResourceDriftCommand:So,DetectStackSetDriftCommand:go,EstimateTemplateCostCommand:_o,ExecuteChangeSetCommand:Co,GetStackPolicyCommand:xo,GetTemplateCommand:wo,GetTemplateSummaryCommand:bo,ImportStacksToStackSetCommand:To,ListChangeSetsCommand:Gr,ListExportsCommand:Wr,ListImportsCommand:Kr,ListStackInstancesCommand:Yr,ListStackResourcesCommand:Xr,ListStacksCommand:Qr,ListStackSetOperationResultsCommand:Jr,ListStackSetOperationsCommand:Zr,ListStackSetsCommand:en,ListTypeRegistrationsCommand:tn,ListTypesCommand:rn,ListTypeVersionsCommand:nn,PublishTypeCommand:Io,RecordHandlerProgressCommand:Ro,RegisterPublisherCommand:ko,RegisterTypeCommand:Po,RollbackStackCommand:Ao,SetStackPolicyCommand:No,SetTypeConfigurationCommand:Do,SetTypeDefaultVersionCommand:vo,SignalResourceCommand:Oo,StopStackSetOperationCommand:Fo,TestTypeCommand:Lo,UpdateStackCommand:Mo,UpdateStackInstancesCommand:Uo,UpdateStackSetCommand:Bo,UpdateTerminationProtectionCommand:$o,ValidateTemplateCommand:zo},Wl=class extends ${};Ef(jO,Wl);var VO=async(e,r,...t)=>await e.send(new zr(r),...t);async function*jte(e,r,...t){let n=e.startingToken||void 0,s=!0,o;for(;s;){if(r.NextToken=n,e.client instanceof $)o=await VO(e.client,r,...t);else throw new Error("Invalid client, expected CloudFormation | CloudFormationClient");yield o;let i=n;n=o.NextToken,s=!!(n&&(!e.stopOnSameToken||n!==i))}return void 0}var HO=async(e,r,...t)=>await e.send(new jr(r),...t);async function*Wte(e,r,...t){let n=e.startingToken||void 0,s=!0,o;for(;s;){if(r.NextToken=n,e.client instanceof $)o=await HO(e.client,r,...t);else throw new Error("Invalid client, expected CloudFormation | CloudFormationClient");yield o;let i=n;n=o.NextToken,s=!!(n&&(!e.stopOnSameToken||n!==i))}return void 0}var GO=async(e,r,...t)=>await e.send(new Vr(r),...t);async function*Qte(e,r,...t){let n=e.startingToken||void 0,s=!0,o;for(;s;){if(r.NextToken=n,r.MaxResults=e.pageSize,e.client instanceof $)o=await GO(e.client,r,...t);else throw new Error("Invalid client, expected CloudFormation | CloudFormationClient");yield o;let i=n;n=o.NextToken,s=!!(n&&(!e.stopOnSameToken||n!==i))}return void 0}var WO=async(e,r,...t)=>await e.send(new ue(r),...t);async function*tre(e,r,...t){let n=e.startingToken||void 0,s=!0,o;for(;s;){if(r.NextToken=n,e.client instanceof $)o=await WO(e.client,r,...t);else throw new Error("Invalid client, expected CloudFormation | CloudFormationClient");yield o;let i=n;n=o.NextToken,s=!!(n&&(!e.stopOnSameToken||n!==i))}return void 0}var KO=async(e,r,...t)=>await e.send(new Gr(r),...t);async function*ore(e,r,...t){let n=e.startingToken||void 0,s=!0,o;for(;s;){if(r.NextToken=n,e.client instanceof $)o=await KO(e.client,r,...t);else throw new Error("Invalid client, expected CloudFormation | CloudFormationClient");yield o;let i=n;n=o.NextToken,s=!!(n&&(!e.stopOnSameToken||n!==i))}return void 0}var YO=async(e,r,...t)=>await e.send(new Wr(r),...t);async function*dre(e,r,...t){let n=e.startingToken||void 0,s=!0,o;for(;s;){if(r.NextToken=n,e.client instanceof $)o=await YO(e.client,r,...t);else throw new Error("Invalid client, expected CloudFormation | CloudFormationClient");yield o;let i=n;n=o.NextToken,s=!!(n&&(!e.stopOnSameToken||n!==i))}return void 0}var XO=async(e,r,...t)=>await e.send(new Kr(r),...t);async function*fre(e,r,...t){let n=e.startingToken||void 0,s=!0,o;for(;s;){if(r.NextToken=n,e.client instanceof $)o=await XO(e.client,r,...t);else throw new Error("Invalid client, expected CloudFormation | CloudFormationClient");yield o;let i=n;n=o.NextToken,s=!!(n&&(!e.stopOnSameToken||n!==i))}return void 0}var QO=async(e,r,...t)=>await e.send(new Yr(r),...t);async function*Ere(e,r,...t){let n=e.startingToken||void 0,s=!0,o;for(;s;){if(r.NextToken=n,r.MaxResults=e.pageSize,e.client instanceof $)o=await QO(e.client,r,...t);else throw new Error("Invalid client, expected CloudFormation | CloudFormationClient");yield o;let i=n;n=o.NextToken,s=!!(n&&(!e.stopOnSameToken||n!==i))}return void 0}var JO=async(e,r,...t)=>await e.send(new Xr(r),...t);async function*Cre(e,r,...t){let n=e.startingToken||void 0,s=!0,o;for(;s;){if(r.NextToken=n,e.client instanceof $)o=await JO(e.client,r,...t);else throw new Error("Invalid client, expected CloudFormation | CloudFormationClient");yield o;let i=n;n=o.NextToken,s=!!(n&&(!e.stopOnSameToken||n!==i))}return void 0}var ZO=async(e,r,...t)=>await e.send(new Jr(r),...t);async function*Tre(e,r,...t){let n=e.startingToken||void 0,s=!0,o;for(;s;){if(r.NextToken=n,r.MaxResults=e.pageSize,e.client instanceof $)o=await ZO(e.client,r,...t);else throw new Error("Invalid client, expected CloudFormation | CloudFormationClient");yield o;let i=n;n=o.NextToken,s=!!(n&&(!e.stopOnSameToken||n!==i))}return void 0}var eF=async(e,r,...t)=>await e.send(new Zr(r),...t);async function*Pre(e,r,...t){let n=e.startingToken||void 0,s=!0,o;for(;s;){if(r.NextToken=n,r.MaxResults=e.pageSize,e.client instanceof $)o=await eF(e.client,r,...t);else throw new Error("Invalid client, expected CloudFormation | CloudFormationClient");yield o;let i=n;n=o.NextToken,s=!!(n&&(!e.stopOnSameToken||n!==i))}return void 0}var tF=async(e,r,...t)=>await e.send(new en(r),...t);async function*vre(e,r,...t){let n=e.startingToken||void 0,s=!0,o;for(;s;){if(r.NextToken=n,r.MaxResults=e.pageSize,e.client instanceof $)o=await tF(e.client,r,...t);else throw new Error("Invalid client, expected CloudFormation | CloudFormationClient");yield o;let i=n;n=o.NextToken,s=!!(n&&(!e.stopOnSameToken||n!==i))}return void 0}var rF=async(e,r,...t)=>await e.send(new Qr(r),...t);async function*Mre(e,r,...t){let n=e.startingToken||void 0,s=!0,o;for(;s;){if(r.NextToken=n,e.client instanceof $)o=await rF(e.client,r,...t);else throw new Error("Invalid client, expected CloudFormation | CloudFormationClient");yield o;let i=n;n=o.NextToken,s=!!(n&&(!e.stopOnSameToken||n!==i))}return void 0}var nF=async(e,r,...t)=>await e.send(new tn(r),...t);async function*zre(e,r,...t){let n=e.startingToken||void 0,s=!0,o;for(;s;){if(r.NextToken=n,r.MaxResults=e.pageSize,e.client instanceof $)o=await nF(e.client,r,...t);else throw new Error("Invalid client, expected CloudFormation | CloudFormationClient");yield o;let i=n;n=o.NextToken,s=!!(n&&(!e.stopOnSameToken||n!==i))}return void 0}var sF=async(e,r,...t)=>await e.send(new nn(r),...t);async function*Hre(e,r,...t){let n=e.startingToken||void 0,s=!0,o;for(;s;){if(r.NextToken=n,r.MaxResults=e.pageSize,e.client instanceof $)o=await sF(e.client,r,...t);else throw new Error("Invalid client, expected CloudFormation | CloudFormationClient");yield o;let i=n;n=o.NextToken,s=!!(n&&(!e.stopOnSameToken||n!==i))}return void 0}var oF=async(e,r,...t)=>await e.send(new rn(r),...t);async function*Yre(e,r,...t){let n=e.startingToken||void 0,s=!0,o;for(;s;){if(r.NextToken=n,r.MaxResults=e.pageSize,e.client instanceof $)o=await oF(e.client,r,...t);else throw new Error("Invalid client, expected CloudFormation | CloudFormationClient");yield o;let i=n;n=o.NextToken,s=!!(n&&(!e.stopOnSameToken||n!==i))}return void 0}var B_=e=>new Promise(r=>setTimeout(r,e*1e3));var $_={minDelay:2,maxDelay:120},_;(function(e){e.ABORTED="ABORTED",e.FAILURE="FAILURE",e.SUCCESS="SUCCESS",e.RETRY="RETRY",e.TIMEOUT="TIMEOUT"})(_||(_={}));var Te=e=>{if(e.state===_.ABORTED){let r=new Error(`${JSON.stringify({...e,reason:"Request was aborted"})}`);throw r.name="AbortError",r}else if(e.state===_.TIMEOUT){let r=new Error(`${JSON.stringify({...e,reason:"Waiter has timed out"})}`);throw r.name="TimeoutError",r}else if(e.state!==_.SUCCESS)throw new Error(`${JSON.stringify({result:e})}`);return e};var iF=(e,r,t,n)=>{if(n>t)return r;let s=e*2**(n-1);return aF(e,s)},aF=(e,r)=>e+Math.random()*(r-e),z_=async({minDelay:e,maxDelay:r,maxWaitTime:t,abortController:n,client:s,abortSignal:o},i,a)=>{var E;let{state:d,reason:l}=await a(s,i);if(d!==_.RETRY)return{state:d,reason:l};let c=1,u=Date.now()+t*1e3,f=Math.log(r/e)/Math.log(2)+1;for(;;){if((E=n==null?void 0:n.signal)!=null&&E.aborted||o!=null&&o.aborted)return{state:_.ABORTED};let S=iF(e,r,f,c);if(Date.now()+S*1e3>u)return{state:_.TIMEOUT};await B_(S);let{state:C,reason:N}=await a(s,i);if(C!==_.RETRY)return{state:C,reason:N};c+=1}};var q_=e=>{if(e.maxWaitTime<1)throw new Error("WaiterConfiguration.maxWaitTime must be greater than 0");if(e.minDelay<1)throw new Error("WaiterConfiguration.minDelay must be greater than 0");if(e.maxDelay<1)throw new Error("WaiterConfiguration.maxDelay must be greater than 0");if(e.maxWaitTime<=e.minDelay)throw new Error(`WaiterConfiguration.maxWaitTime [${e.maxWaitTime}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`);if(e.maxDelay<e.minDelay)throw new Error(`WaiterConfiguration.maxDelay [${e.maxDelay}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`)};var j_=async e=>new Promise(r=>{e.onabort=()=>r({state:_.ABORTED})}),re=async(e,r,t)=>{let n={...$_,...e};q_(n);let s=[z_(n,r,t)];return e.abortController&&s.push(j_(e.abortController.signal)),e.abortSignal&&s.push(j_(e.abortSignal)),Promise.race(s)};var V_=async(e,r)=>{let t;try{let n=await e.send(new qr(r));t=n;try{if((()=>n.Status)()==="CREATE_COMPLETE")return{state:_.SUCCESS,reason:t}}catch{}try{if((()=>n.Status)()==="FAILED")return{state:_.FAILURE,reason:t}}catch{}}catch(n){if(t=n,n.name&&n.name=="ValidationError")return{state:_.FAILURE,reason:t}}return{state:_.RETRY,reason:t}},hne=async(e,r)=>re({...{minDelay:30,maxDelay:120},...e},r,V_),yne=async(e,r)=>{let n=await re({...{minDelay:30,maxDelay:120},...e},r,V_);return Te(n)};var H_=async(e,r)=>{let t;try{let n=await e.send(new ue(r));t=n;try{let s=()=>[].concat(...n.Stacks).map(d=>d.StackStatus),o=s().length>0;for(let i of s())o=o&&i=="CREATE_COMPLETE";if(o)return{state:_.SUCCESS,reason:t}}catch{}try{let s=()=>[].concat(...n.Stacks).map(a=>a.StackStatus);for(let o of s())if(o=="CREATE_FAILED")return{state:_.FAILURE,reason:t}}catch{}try{let s=()=>[].concat(...n.Stacks).map(a=>a.StackStatus);for(let o of s())if(o=="DELETE_COMPLETE")return{state:_.FAILURE,reason:t}}catch{}try{let s=()=>[].concat(...n.Stacks).map(a=>a.StackStatus);for(let o of s())if(o=="DELETE_FAILED")return{state:_.FAILURE,reason:t}}catch{}try{let s=()=>[].concat(...n.Stacks).map(a=>a.StackStatus);for(let o of s())if(o=="ROLLBACK_FAILED")return{state:_.FAILURE,reason:t}}catch{}try{let s=()=>[].concat(...n.Stacks).map(a=>a.StackStatus);for(let o of s())if(o=="ROLLBACK_COMPLETE")return{state:_.FAILURE,reason:t}}catch{}}catch(n){if(t=n,n.name&&n.name=="ValidationError")return{state:_.FAILURE,reason:t}}return{state:_.RETRY,reason:t}},_ne=async(e,r)=>re({...{minDelay:30,maxDelay:120},...e},r,H_),Cne=async(e,r)=>{let n=await re({...{minDelay:30,maxDelay:120},...e},r,H_);return Te(n)};var G_=async(e,r)=>{let t;try{let n=await e.send(new ue(r));t=n;try{let s=()=>[].concat(...n.Stacks).map(d=>d.StackStatus),o=s().length>0;for(let i of s())o=o&&i=="DELETE_COMPLETE";if(o)return{state:_.SUCCESS,reason:t}}catch{}try{let s=()=>[].concat(...n.Stacks).map(a=>a.StackStatus);for(let o of s())if(o=="DELETE_FAILED")return{state:_.FAILURE,reason:t}}catch{}try{let s=()=>[].concat(...n.Stacks).map(a=>a.StackStatus);for(let o of s())if(o=="CREATE_FAILED")return{state:_.FAILURE,reason:t}}catch{}try{let s=()=>[].concat(...n.Stacks).map(a=>a.StackStatus);for(let o of s())if(o=="ROLLBACK_FAILED")return{state:_.FAILURE,reason:t}}catch{}try{let s=()=>[].concat(...n.Stacks).map(a=>a.StackStatus);for(let o of s())if(o=="UPDATE_ROLLBACK_IN_PROGRESS")return{state:_.FAILURE,reason:t}}catch{}try{let s=()=>[].concat(...n.Stacks).map(a=>a.StackStatus);for(let o of s())if(o=="UPDATE_ROLLBACK_FAILED")return{state:_.FAILURE,reason:t}}catch{}try{let s=()=>[].concat(...n.Stacks).map(a=>a.StackStatus);for(let o of s())if(o=="UPDATE_ROLLBACK_COMPLETE")return{state:_.FAILURE,reason:t}}catch{}try{let s=()=>[].concat(...n.Stacks).map(a=>a.StackStatus);for(let o of s())if(o=="UPDATE_COMPLETE")return{state:_.FAILURE,reason:t}}catch{}}catch(n){if(t=n,n.name&&n.name=="ValidationError")return{state:_.SUCCESS,reason:t}}return{state:_.RETRY,reason:t}},Tne=async(e,r)=>re({...{minDelay:30,maxDelay:120},...e},r,G_),Ine=async(e,r)=>{let n=await re({...{minDelay:30,maxDelay:120},...e},r,G_);return Te(n)};var W_=async(e,r)=>{let t;try{return t=await e.send(new ue(r)),{state:_.SUCCESS,reason:t}}catch(n){if(t=n,n.name&&n.name=="ValidationError")return{state:_.RETRY,reason:t}}return{state:_.RETRY,reason:t}},Ane=async(e,r)=>re({...{minDelay:5,maxDelay:120},...e},r,W_),Nne=async(e,r)=>{let n=await re({...{minDelay:5,maxDelay:120},...e},r,W_);return Te(n)};var K_=async(e,r)=>{let t;try{let n=await e.send(new ue(r));t=n;try{let s=()=>[].concat(...n.Stacks).map(d=>d.StackStatus),o=s().length>0;for(let i of s())o=o&&i=="IMPORT_COMPLETE";if(o)return{state:_.SUCCESS,reason:t}}catch{}try{let s=()=>[].concat(...n.Stacks).map(a=>a.StackStatus);for(let o of s())if(o=="ROLLBACK_COMPLETE")return{state:_.FAILURE,reason:t}}catch{}try{let s=()=>[].concat(...n.Stacks).map(a=>a.StackStatus);for(let o of s())if(o=="ROLLBACK_FAILED")return{state:_.FAILURE,reason:t}}catch{}try{let s=()=>[].concat(...n.Stacks).map(a=>a.StackStatus);for(let o of s())if(o=="IMPORT_ROLLBACK_IN_PROGRESS")return{state:_.FAILURE,reason:t}}catch{}try{let s=()=>[].concat(...n.Stacks).map(a=>a.StackStatus);for(let o of s())if(o=="IMPORT_ROLLBACK_FAILED")return{state:_.FAILURE,reason:t}}catch{}try{let s=()=>[].concat(...n.Stacks).map(a=>a.StackStatus);for(let o of s())if(o=="IMPORT_ROLLBACK_COMPLETE")return{state:_.FAILURE,reason:t}}catch{}}catch(n){if(t=n,n.name&&n.name=="ValidationError")return{state:_.FAILURE,reason:t}}return{state:_.RETRY,reason:t}},Fne=async(e,r)=>re({...{minDelay:30,maxDelay:120},...e},r,K_),Lne=async(e,r)=>{let n=await re({...{minDelay:30,maxDelay:120},...e},r,K_);return Te(n)};var Y_=async(e,r)=>{let t;try{let n=await e.send(new ue(r));t=n;try{let s=()=>[].concat(...n.Stacks).map(d=>d.StackStatus),o=s().length>0;for(let i of s())o=o&&i=="UPDATE_ROLLBACK_COMPLETE";if(o)return{state:_.SUCCESS,reason:t}}catch{}try{let s=()=>[].concat(...n.Stacks).map(a=>a.StackStatus);for(let o of s())if(o=="UPDATE_FAILED")return{state:_.FAILURE,reason:t}}catch{}try{let s=()=>[].concat(...n.Stacks).map(a=>a.StackStatus);for(let o of s())if(o=="UPDATE_ROLLBACK_FAILED")return{state:_.FAILURE,reason:t}}catch{}try{let s=()=>[].concat(...n.Stacks).map(a=>a.StackStatus);for(let o of s())if(o=="DELETE_FAILED")return{state:_.FAILURE,reason:t}}catch{}}catch(n){if(t=n,n.name&&n.name=="ValidationError")return{state:_.FAILURE,reason:t}}return{state:_.RETRY,reason:t}},$ne=async(e,r)=>re({...{minDelay:30,maxDelay:120},...e},r,Y_),zne=async(e,r)=>{let n=await re({...{minDelay:30,maxDelay:120},...e},r,Y_);return Te(n)};var X_=async(e,r)=>{let t;try{let n=await e.send(new ue(r));t=n;try{let s=()=>[].concat(...n.Stacks).map(d=>d.StackStatus),o=s().length>0;for(let i of s())o=o&&i=="UPDATE_COMPLETE";if(o)return{state:_.SUCCESS,reason:t}}catch{}try{let s=()=>[].concat(...n.Stacks).map(a=>a.StackStatus);for(let o of s())if(o=="UPDATE_FAILED")return{state:_.FAILURE,reason:t}}catch{}try{let s=()=>[].concat(...n.Stacks).map(a=>a.StackStatus);for(let o of s())if(o=="UPDATE_ROLLBACK_FAILED")return{state:_.FAILURE,reason:t}}catch{}try{let s=()=>[].concat(...n.Stacks).map(a=>a.StackStatus);for(let o of s())if(o=="UPDATE_ROLLBACK_COMPLETE")return{state:_.FAILURE,reason:t}}catch{}}catch(n){if(t=n,n.name&&n.name=="ValidationError")return{state:_.FAILURE,reason:t}}return{state:_.RETRY,reason:t}},Hne=async(e,r)=>re({...{minDelay:30,maxDelay:120},...e},r,X_),Gne=async(e,r)=>{let n=await re({...{minDelay:30,maxDelay:120},...e},r,X_);return Te(n)};var Q_=async(e,r)=>{let t;try{let n=await e.send(new Hr(r));t=n;try{if((()=>n.ProgressStatus)()==="COMPLETE")return{state:_.SUCCESS,reason:t}}catch{}try{if((()=>n.ProgressStatus)()==="FAILED")return{state:_.FAILURE,reason:t}}catch{}}catch(n){t=n}return{state:_.RETRY,reason:t}},Xne=async(e,r)=>re({...{minDelay:30,maxDelay:120},...e},r,Q_),Qne=async(e,r)=>{let n=await re({...{minDelay:30,maxDelay:120},...e},r,Q_);return Te(n)};export{zC as a,ji as b,Ht as c,Cn as d,Gt as e,Wt as f,Ee as g,sn as h,ut as i,Kt as j,Yt as k,se as l,Xt as m,Zl as n,em as o,Pe as p,h as q,y as r,Qt as s,Jt as t,Zt as u,er as v,ft as w,Cc as x,or as y,ir as z,ar as A,rU as B,cr as C,Tc as D,Ic as E,Rc as F,Qi as G,mu as H,hu as I,Eu as J,gu as K,Cu as L,wu as M,Ji as N,Dc as O,dn as P,Rn as Q,je as R,ht as S,yt as T,vt as U,Gc as V,Qo as W,Xc as X,sa as Y,Jo as Z,Yu as _,ia as $,ca as aa,fr as ba,hr as ca,yr as da,St as ea,gt as fa,p as ga,mn as ha,fe as ia,ld as ja,ya as ka,Ea as la,M as ma,Sa as na,m as oa,H2 as pa,ce as qa,K2 as ra,z as sa,X2 as ta,Q2 as ua,He as va,v as wa,Sr as xa,gr as ya,_r as za,P as Aa,ti as Ba,oe as Ca,de as Da,lq as Ea,ri as Fa,Ge as Ga,Id as Ha,I4 as Ia,R4 as Ja,q as Ka,Ct as La,xt as Ma,br as Na,Tr as Oa,ey as Pa,vr as Qa,Or as Ra,Fr as Sa,Lr as Ta,tc as Ua,En as Va,MP as Wa,UP as Xa,AE as Ya,$ as Za,H as _a,p9 as $a,h9 as ab,y9 as bb,E9 as cb,bs as db,Ts as eb,Is as fb,Rs as gb,S9 as hb,ks as ib,g9 as jb,_9 as kb,C9 as lb,x9 as mb,w9 as nb,b9 as ob,T9 as pb,I9 as qb,R9 as rb,k9 as sb,P9 as tb,A9 as ub,N9 as vb,Ps as wb,D9 as xb,v9 as yb,O9 as zb,As as Ab,Ns as Bb,F9 as Cb,L9 as Db,Ds as Eb,vs as Fb,Os as Gb,Fs as Hb,Ls as Ib,Ms as Jb,M9 as Kb,Us as Lb,Bs as Mb,$s as Nb,U9 as Ob,B9 as Pb,$9 as Qb,z9 as Rb,q9 as Sb,j9 as Tb,V9 as Ub,H9 as Vb,G9 as Wb,zs as Xb,W9 as Yb,K9 as Zb,Y9 as _b,X9 as $b,Q9 as ac,J9 as bc,Z9 as cc,e7 as dc,qs as ec,t7 as fc,r7 as gc,n7 as hc,s7 as ic,o7 as jc,i7 as kc,js as lc,a7 as mc,c7 as nc,d7 as oc,Vs as pc,Hs as qc,l7 as rc,m7 as sc,u7 as tc,Ws as uc,Ks as vc,Ys as wc,Xs as xc,Qs as yc,Js as zc,Zs as Ac,eo as Bc,to as Cc,ro as Dc,no as Ec,so as Fc,oo as Gc,io as Hc,zr as Ic,qr as Jc,ao as Kc,co as Lc,lo as Mc,jr as Nc,mo as Oc,uo as Pc,Vr as Qc,fo as Rc,ue as Sc,po as Tc,ho as Uc,yo as Vc,Hr as Wc,Eo as Xc,So as Yc,go as Zc,_o as _c,Co as $c,xo as ad,wo as bd,bo as cd,To as dd,Gr as ed,Wr as fd,Kr as gd,Yr as hd,Xr as id,Qr as jd,Jr as kd,Zr as ld,en as md,tn as nd,rn as od,nn as pd,Io as qd,Ro as rd,ko as sd,Po as td,Ao as ud,No as vd,Do as wd,vo as xd,Oo as yd,Fo as zd,Lo as Ad,Mo as Bd,Uo as Cd,Bo as Dd,$o as Ed,zo as Fd,Wl as Gd,jte as Hd,Wte as Id,Qte as Jd,tre as Kd,ore as Ld,dre as Md,fre as Nd,Ere as Od,Cre as Pd,Tre as Qd,Pre as Rd,vre as Sd,Mre as Td,zre as Ud,Hre as Vd,Yre as Wd,hne as Xd,yne as Yd,_ne as Zd,Cne as _d,Tne as $d,Ine as ae,Ane as be,Nne as ce,Fne as de,Lne as ee,$ne as fe,zne as ge,Hne as he,Gne as ie,Xne as je,Qne as ke};
/*! Bundled license information:

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)
*/
